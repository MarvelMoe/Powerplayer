(function() {var f;function ba(a){this.data=a}ba.prototype.get=function(a,b){var c;if(!this.data)throw Error("no viewConfig, unable to get: "+a);c=void 0===this.data[a]?b:this.data[a];if(void 0===c)throw Error('Could not retrieve "'+a+'" from viewConfig');return c};var da=(new UAParser).getResult(),ea=da.browser.name,ha=da.browser.major,ia=(new ba(window.viewConfig||{})).get("magicButtonEnabled",null),ja=/\.247$/;
""==window.location.pathname||"/"==window.location.pathname||"/signup"==window.location.pathname||"/login"==window.location.pathname||da.browser.version.match(ja)||"Chrome"==ea&&27<=ha||"Safari"==ea&&6<=ha||"Firefox"==ea&&23<=ha||"IE"==ea&&11<=ha||"undefined"!=typeof window.localStorage&&window.localStorage.ignore_browser_cache||(ia.test(window.location.search)?window.location.href="/unsupported?playvideo\x3d1":window.location.href="/unsupported");var ka=ka||{},la,t,u,ma,na,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,C,Aa,Ba,Ca,Da,Ea,Fa,Ga,Ha,Ja,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa=[6,8,10,12,14,16,18,21,24,28,32,36,42,48,56,64,72,80,88,96,104,120,144],Xa=1<window.devicePixelRatio,Ya=window.navigator.userAgent.match(/Macintosh/)?!0:!1,Za={PF:8,tab:9,XF:13,shift:16,UF:17,alt:18,ZF:27,vG:32,hG:37,AG:38,rG:39,WF:40,"delete":46,one:49,zG:50,yG:51,cG:52,aG:53,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,eG:73,gG:74,k:75,$j:76,m:77,n:78,mG:79,p:80,q:81,r:82,s:83,t:84,
ww:85,Vk:86,w:87,x:88,y:89,z:90,jG:91,TF:188,Ou:189,nG:187,lG:173,oG:171,equals:187,YF:61,bG:191,qG:63,iG:219,sG:221,quote:222,uG:186,tG:59},$a={Yw:"search",DF:"layout",MF:"text",sF:"backgrounds",OF:"uploads"},ab=/^#(video-)([a-z0-9-]+)$/,bb=230/24,cb={MAAyKuwFB5o:"ffffff",MAAyKtahJms:"ffbd7e",MAAyKgcbIPk:"383838",MAAyKi3v9aM:"ababab",MAAyKiojphI:"3ea198",MAAyKgoNGiU:"f1eae2",MAAyKtzdfJo:"f2e6da",MAAyKjzFRMk:"b6b6b6",MAAyKl0hu7c:"3f0002",MAAyKrQbulQ:"aabee5",MAAyKjqXb3g:"1e404e",MAAyKpadICg:"383838",
MAAyKriHEH4:"fce8d2",MAAyKvlJXOU:"86d694",MAAyKt_1BzE:"abddd8",MAAyKtiLYqQ:"ffcd54",MAAyKu2TdB8:"a12e38",MAAyKojhmk8:"9c77b8",MAAyKvdlAbg:"4473a7",MAAMxVrOHEU:"d3e460",MAAMxR635oY:"3589a1",MAAMJGCfFWw:"8bcfb1",MAAMxcxaYiU:"8bcfb1",MAAMxbOmmrM:"de5947",MAAMxVr6xaM:"ab7253",MAAMxbd7Q4o:"ee826d",MAAMJKph95Q:"9d427a",MAAMJAC_3oM:"969db1",MAAMJEZCTiQ:"54a4a5",MAAMJMQdk_o:"be842e",MAAMJKR_eNE:"318ba2",MAAMJNt_z0k:"f3bc33",MAAMJPRAWEw:"df5a46",MAAMJEguyXk:"54a4a5",MAAMJMMLN98:"9f437b",MAAMJPOvhoc:"df5a46",
MAAMJPQVxis:"ee826c",MAAMJOSYm7w:"f3bc33",MAAMJM5OR40:"b7a77f",MAAMxUoD3Gw:"8cccaf",MAAMxdiUksM:"f3bc33",MAAMxRX8OJ4:"f3bc33",MAAMxbGelwc:"54a4a5",MAAMxSCeicM:"318ba2",MAAMxT7CVYA:"8cccaf"},db=/^(?:https?:\/\/)?support\.canva\.com\/.+/,eb=/(?:https?:\/\/)?(?:www\.)?youtu(?:be\.com\/watch\?(?:.*?&)?v=|\.be\/)([\w\-]+)(?:&?[\w\?=]*)?/,fb=[5,4,3,2,1,.67,.5,.333,.25,.1667,.125],gb="#000000 #ffffff #cc0000 #ffcc00 #009900 #0066cc".split(" "),ib=/^(?:https?:\/\/|[\-0-9a-z]+\.)\S+$/i,jb={NF:"title",KF:"subtitle",
tF:"body"};function kb(a){this.sz=a.fallback;this.Ju=a.localePrecedence;this.kq={};this.L=a.messages;this.$C=this.Ju[0];this.AD=!!a.returnKeys}kb.prototype.format=function(a,b){if(this.AD)return a;var c=lb(this,a);return c.format.call(c,[].slice.call(arguments,1))};
function lb(a,b){if(a.kq.hasOwnProperty(b))return a.kq[b];var c=a.$C,d;a.Ju.some(function(a){d=this.L[a]&&this.L[a][b];return void 0!==d},a);d||(c=a.sz,d=a.L[c]&&a.L[c][b]);if(!d)throw Error("Unknown message: "+b);c=new IntlMessageFormat(d,c,mb);return a.kq[b]=c}var mb={number:{currency:{style:"currency",currency:"USD"}}};function nb(){this.yb=window.cmsg;this.Qf=null}function ob(a){a.Qf||(a.Qf=new pb(a.yb));return a.Qf}function qb(a){a.qt||(a.qt=new rb(a.yb));return a.qt}function sb(a){a.Fe||(a.Fe=new tb(a.yb));return a.Fe}function ub(a){a.Bc||(a.Bc=new vb(a.yb));return a.Bc}function wb(a){a.Wa||(a.Wa=new xb(a.yb));return a.Wa}function yb(a){a.Rs||(a.Rs=new zb(a.yb));return a.Rs}function Ab(a){a.Ub||(a.Ub=new Bb(a.yb));return a.Ub}function pb(a){kb.apply(this,arguments)}pb.prototype=Object.create(kb.prototype);
function Cb(a){return a.format("searchNoResults")}function Db(a){return a.format("objectPanelUploadsPanelUploadButtonLabel")}function Eb(a){return a.format("objectPanelUploadsPanelMarketplaceUploadButtonLabel")}function Fb(a,b){return a.format("objectPanelUploadsPanelUseFacebookPhotos",b)}function Gb(a,b){return a.format("objectPanelUploadsPanelFacebookSigninToUsePhotos",b)}function Hb(a,b){return a.format("objectPanelUploadsPanelFacebookFolderEmpty",b)}
function Ib(a,b){return a.format("objectPanelUploadsPanelFolderImageAlt",b)}(function(a){kb.apply(this,arguments)}).prototype=Object.create(kb.prototype);function Jb(a,b){switch(b){case "title":return a.format("objectPanelTextPanelAddHeading");case "subtitle":return a.format("objectPanelTextPanelAddSubHeading");case "body":return a.format("objectPanelTextPanelAddBody");default:throw Error("Unknown Canva.TextElementStyle "+b);}}function rb(a){kb.apply(this,arguments)}rb.prototype=Object.create(kb.prototype);
rb.prototype.Em=function(){return this.format("documentPlaceholderText")};function Kb(a){return a.format("documentUntitledDesign")}function Lb(a){kb.apply(this,arguments)}Lb.prototype=Object.create(kb.prototype);function xb(a){kb.apply(this,arguments)}xb.prototype=Object.create(kb.prototype);xb.prototype.cF=function(){return this.format("editorControlsUpgrade")};xb.prototype.zr=function(){return this.format("editorControlsShare")};xb.prototype.download=function(){return this.format("editorControlsDownload")};
function Mb(a){kb.apply(this,arguments)}Mb.prototype=Object.create(kb.prototype);Mb.prototype.error=function(){return this.format("homeDesignImportPersonalDesigns")};function Nb(a){kb.apply(this,arguments)}Nb.prototype=Object.create(kb.prototype);Nb.prototype.error=function(){return this.format("sharedDesignsError")};function Ob(a){kb.apply(this,arguments)}Ob.prototype=Object.create(kb.prototype);Ob.prototype.empty=function(){return this.format("designStreamEmpty")};
Ob.prototype.error=function(a,b){return this.format("designStreamError",a,b)};function Pb(a){kb.apply(this,arguments)}Pb.prototype=Object.create(kb.prototype);f=Pb.prototype;f.title=function(){return this.format("docTypeSelectorTitle")};f.error=function(){return this.format("docTypeSelectorError")};f.times=function(){return this.format("docTypeSelectorTimes")};f.width=function(){return this.format("docTypeSelectorWidth")};f.height=function(){return this.format("docTypeSelectorHeight")};f.md=function(){return this.format("docTypeSelectorDesign")};
f.ck=function(){return this.format("docTypeSelectorMore")};function tb(a){kb.apply(this,arguments)}tb.prototype=Object.create(kb.prototype);function Qb(a){kb.apply(this,arguments)}Qb.prototype=Object.create(kb.prototype);Qb.prototype.save=function(){return this.format("editorFileMenuPaneSave")};function vb(a){kb.apply(this,arguments)}vb.prototype=Object.create(kb.prototype);function Rb(a){return a.format("editorToolbarFilterOptionAdvanced")}
function Sb(a,b){return a.format("editorToolbarFilter"+b.replace(/\s*/g,""))}function Tb(a,b){var c=b.replace(/(^[a-z])|(\-[a-z])/g,function(a){return(a[1]||a[0]).toUpperCase()});return a.format("editorToolbarFilterRange"+c)}vb.prototype.ck=function(){return this.format("editorToolbarMore")};function zb(a){kb.apply(this,arguments)}zb.prototype=Object.create(kb.prototype);function Bb(a){kb.apply(this,arguments)}Bb.prototype=Object.create(kb.prototype);f=Bb.prototype;f.Ar=function(){return this.format("shareViewShareOnFacebook")};
f.post=function(){return this.format("shareViewPost")};f.zr=function(){return this.format("shareViewShare")};f.email=function(){return this.format("shareViewEmail")};f.ZD=function(){return this.format("shareViewShareAsEditableDesign")};f.link=function(){return this.format("shareViewLink")};f.send=function(){return this.format("shareViewSend")};function Ub(a){kb.apply(this,arguments)}Ub.prototype=Object.create(kb.prototype);f=Ub.prototype;f.ox=function(){return this.format("exportPopOverAllPagesLabel")};
f.Vz=function(a){return this.format("exportPopOverInvalidPageRange",a)};f.jD=function(){return this.format("exportPopOverPublishWithCropMarks")};f.gA=function(){return this.format("exportPopOverMakeBackgroundTransparent")};f.title=function(){return this.format("exportPopOverTitle")};function D(a,b){if(!a)throw new TypeError("Cannot adopt constructor "+a);if("object"!==typeof b)throw new TypeError("Cannot adopt non-object value "+b);if(null===b)throw new TypeError("Cannot adopt null value");return Object.create(a.prototype,Vb(b))}function Vb(a){var b=Object.create(null);Object.keys(a).forEach(function(c){b[c]={value:a[c],writable:!0,enumerable:!0,configurable:!0}});return b};function Wb(a,b){this.name=a;this.defaultValue=b}function Xb(a){this.values=a||{}}Xb.prototype.get=function(a){return a.name in this.values?this.values[a.name]:a.defaultValue};function Yb(a){this.Ma=a}var $b=null;function ac(){null===$b&&($b=new Yb(new Xb(window.cflags)));return $b}
var bc=new Wb("ad",!1),cc=new Wb("ag",!0),dc=new Wb("aj",!1),ec=new Wb("au",!1),fc=new Wb("ay",!1),gc=new Wb("av",!1),hc=new Wb("aw",!1),ic=new Wb("SSFB",!0),jc=new Wb("SSTW",!0),kc=new Wb("SSEM",!0),lc=new Wb("SSPI",!1),mc=new Wb("SSLI",!1),nc=new Wb("ao",!1),oc=new Wb("at",!1),pc=new Wb("az",!1),qc=new Wb("ba",!1),rc=new Wb("bf",!1),sc=new Wb("bj",!1),tc=new Wb("bk",!1),uc=new Wb("bw",!1),vc=new Wb("by",!1),wc=new Wb("ca",!1),xc=new Wb("cb",!1);Yb.prototype.ul=function(){return!!this.Ma.get(ec)};var E="undefined"!==typeof _&&"undefined"!==typeof Backbone&&_.extend({},Backbone.Events),F=null,yc=null,zc=null;function Ac(a){this.Fa=a.Fa;this.Hb=a.Hb;this.te=a.te;this.tb=a.tb;this.qn=a.qn;this.wb=a.wb;this.Qf=a.Qf}function Bc(a,b,c,d){b=Cc(b);if(!b)return null;var e=I(a.Fa);a=Dc(a,b.ba());isNaN(parseFloat(c*d))?(b.ob(a),e.addElement(b,!0)):(a.Ba(c||0),a.Da(d||0),b.ob(a),b.appendTo(e));Ec(b);Fc(b);return b}Ac.prototype.Cs=function(a,b,c){var d;d={height:a.Kf().B(),isCutout:!1,mediaId:a.F(),mediaVersion:0,type:"image",width:a.Kf().A()};b=Bc(this,d,b,c);Gc(this.qn,Hc(a),b)};
Ac.prototype.Es=function(a,b,c,d){switch(a.Yb()){case Ic:a=Jc(a,"image",d);Bc(this,a,b,c);break;case Kc:a=Jc(a,"svg");Bc(this,a,b,c);break;default:throw Error("Bad media. Composer unable to add media of type: "+a.Yb());}};Ac.prototype.Fs=function(a,b,c,d){a=a.Ki?Lc(a,"svg"):Lc(a,"image",d);Bc(this,a,b,c)};function Hc(a){var b=a.Kf(),c=a.sb();return Mc({files:{THUMBNAIL:{height:c.B(),url:c.ca(),width:c.A()},SCREEN:{height:b.B(),url:b.ca(),width:b.A()}},id:a.F(),origin:Nc,title:a.getName()})}
function Jc(a,b,c){var d=a.da().Sa()[Oc];return{height:d.B(),isCutout:!!c,mediaId:a.F(),mediaVersion:a.da().S(),type:b,width:d.A()}}function Lc(a,b,c){return{height:a.Hf().height,isCutout:!!c,mediaId:a.Na().F(),mediaVersion:1,type:b,width:a.Hf().width}}function Rc(a,b){b.forEach(function(a){a=Hc(a);Sc(this.qn,a)},a)}function Tc(a,b){b.forEach(function(a){Uc(this.te,a.F(),a.da().S(),a.da().Sa())},a)}
function Dc(a,b){var c=b.clone(),d=a.Fa.ja;(function(){var a=c.A()/c.B();c.W(Math.min(c.B(),.95*d.B()));c.Z(a*c.B())})();(function(){var a=c.B()/c.A();c.Z(Math.min(c.A(),.95*d.A()));c.W(a*c.A())})();return c}Ac.prototype.Tk=function(a,b){var c;if(!(1>b.length)){c=this.wb;var d=a.F(),e;0<=Object.keys(c.fi).indexOf(d)?c=c.fi[d]:(e=(new Vc).Bn(d),e.on("create",c.trigger.bind(c,"create")),e.on("fail",c.trigger.bind(c,"fail")),c=c.fi[d]=e);(new Wc("drop",this.Qf,void 0,c)).upload(b,Xc(a))}};
function Yc(a,b){a.rt=b}
function Zc(a,b,c,d,e,g){function h(){return new K(0,0,b.Sa()[Oc].A()*aa,b.Sa()[Oc].B()*aa)}function k(a){var b,d,g;b=a.clientX-e.N()+c.N();d=a.clientY-e.K()+c.K();g=Math.max(Math.min((a.clientX-U)/oa,1),0);g=1>x?Math.min(Math.max(x,1+g*(x-1)),1):Math.min(Math.max(1,1+g*(x-1)),x);a.clientX>H?(q=!0,g=x):q=!1;m(b,d,g)}function l(a){var b,c,e=!1,h;b=d.get(0).getBoundingClientRect();c=$c(b);e=$(a.target).is(".hotspot");a=$c(B);h=(b.left-B.left)/aa;b=(b.top-B.top)/aa;$(document).off("mouseup",l);$(document).off("mousemove",
k);!w&&e?p():q&&ad(c,a)?(g(h,b,w),p()):setTimeout(r,50);$("#hotspots").remove();bd().write(function(){$("#overlays .align").removeClass("on")}).done()}function m(a,b,c){cd(d[0],{ye:c,lf:c,kc:a,lc:b});q&&dd(A.C(),d)&&(null===N&&(N=new ed(d,B,{left:z,top:G})),a=fd(),gd(N,R,a))}function n(){window.setTimeout(function(){d.remove()},650)}function p(){m(c.N(),c.K(),1);d.css("left",c.N()).css("top",c.K()).css("opacity",0).addClass("draggedMediaPlacing");n()}function r(){var a="",b="",e=d.get(0).getBoundingClientRect(),
g=y.rt||c,h=e.left-g.N(),e=e.top-g.K();100<h?a="draggedMediaReturningLeft":-100>h&&(a="draggedMediaReturningRight");100<e?b="draggedMediaReturningUp":-100>e&&(b="draggedMediaReturningDown");d.addClass(a).addClass(b).addClass("draggedMediaReturning");0>g.K()&&d.addClass("draggedMediaReturningFading").css("opacity",0);m(g.N(),g.K(),1);y.rt=void 0;n()}var q=!1,v,w=!1,x,y=a,z,G,A,B,H,U,oa,aa=L,R={},N=null;0<d.find("img").length&&(w=hd(d.find("img").get(0)));v=id(h(),function(){var a=y.Fa.ja,b=.95*aa;
return new K(0,0,a.A()*b,a.B()*b)}());x=Math.min(h().A(),v.A())/c.A();z=e.N()-c.N();G=e.K()-c.K();A=I(a.Fa);B=A.C().get(0).getBoundingClientRect();H=$("#objectPanel").get(0).getBoundingClientRect().right;U=H-$(".uploadsLayoutColumn").outerWidth()/2+20;oa=H-U;M();d.on("dragstart",function(a){a.preventDefault();return!1});d.css("width",c.A());d.css("height",c.B());d.css("transform-origin",z+"px "+G+"px");m(c.N(),c.K(),1);d.attr("class","draggedMedia");$("#content").append(d);(function(){var a=d.find("img"),
c=$("\x3cli\x3e\x3c/li\x3e");d.toggleClass("cutout",w);c.data("result",b).append(a.clone());d.data("li",c);a.data("screenWidth",v.A());a.data("screenHeight",v.B());jd(d,I(y.Fa),!1)})();$(document).on("mousemove",k);$(document).on("mouseup",l)};function O(a,b,c,d,e){this.id=a;this.displayName=b;this.displayDimensions=c+e+" × "+d+e}function kd(a){if("custom"===a)return null;for(var b in ld)for(var c=ld[b],d=0;d<c.length;d++)if(c[d].id===a)return c[d];return(b=md[a])?new O(a,b.name,b.width,b.height,"px"):null}
var ld={"Social Media Posts":[new O("twitterPost","Twitter Post",1024,512,"px"),new O("TABQqs5Kbyc","Instagram Post",1080,1080,"px"),new O("pinterest","Pinterest Graphic",735,1102,"px"),new O("facebookPost","Facebook Post",940,788,"px"),new O("facebookApp","Facebook App",810,450,"px"),new O("socialMediaGraphic","Social Media",800,800,"px")],Documents:[new O("usLetter","US Letter",8.5,11,"in"),new O("presentation","Presentation",1024,768,"px"),new O("presentationWide","Presentation (16:9)",1920,1080,
"px"),new O("a4","A4",21,29.7,"cm"),new O("TABQqupS2LE","Letterhead (US)",8.5,11,"in"),new O("TABQqtmBi1w","Letterhead (A4)",21,29.7,"cm")],"Marketing Materials":[new O("realEstateFlyer","Real Estate Flyer",8.5,11,"in"),new O("posterUS","Poster (US)",18,24,"in"),new O("poster","Poster",42,59.4,"cm"),new O("foodDrinkMenu","Food \x26 Drink Menu",8.5,11,"in"),new O("businessCard","Business Card",8.5,5,"cm"),new O("TABQqumtl1k","Flyer",5,7,"in"),new O("TABQqpdwi18","Gift Certificate",6,4,"in")],"Social Media \x26 Email Headers":[new O("youtubeChannelArt",
"YouTube Channel Art",2560,1440,"px"),new O("twitterHeader","Twitter Header",1500,500,"px"),new O("gPlusHeader","Google+ Photo",1240,700,"px"),new O("facebookCover","Facebook Cover",851,315,"px"),new O("emailHeader","Email Header",600,200,"px"),new O("TABQqsu2GmY","Etsy Banner",760,100,"px")],"Blogging and eBooks":[new O("kindleCoverSmall","Kindle Cover",1410,2250,"px"),new O("blogTitle","Blog Title",560,315,"px"),new O("blogGraphic","Blog Graphic",800,1200,"px"),new O("albumCover","Album Cover",
1400,1400,"px"),new O("TABQqtO7tYQ","Infographic",800,2E3,"px")],Events:[new O("TABQqt5Z4RU","Postcard",148,105,"mm"),new O("TABQqu1V70w","Wedding Invitation",5,7,"in"),new O("TABQqqo4v1s","Invitation (portrait)",5,7,"in"),new O("invitation","Invitation",14,14,"cm"),new O("card","Card",14.8,10.5,"cm"),new O("photoCollage","Photo Collage",25,20,"cm")],Ads:[new O("facebookAd","Facebook Ad",1200,627,"px"),new O("adWideSkyscraper","Ad (Wide Skyscraper)",160,600,"px"),new O("adMediumRectangle","Medium Rectangle (IAB)",
300,250,"px"),new O("adLeaderboard","Leaderboard (IAB)",728,90,"px"),new O("adLargeRectangle","Large Rectangle (IAB)",336,280,"px")]};function nd(a){this.cg=new ba(a)}var od=["DESIGN_TUTORIAL","FREE_NEW_USER","C4W_INVITED_NEW_USER","C4W_NEW_USER"];nd.prototype=Object.create(ba.prototype);nd.prototype.Gd=function(){var a=this.cg.get("brandColor",null);return a&&Q(a)};nd.prototype.Id=function(){return this.cg.get("onboardingMode",null)};function pd(a){return a.cg.get("magicTemplates",[]).map(qd)}function rd(a){return a.cg.get("enabledPublicationContexts",[])};function sd(a){this.R=a;this.url="/folders"}f=sd.prototype;f.xo=P.method(function(a){return td(this.R,this.url+"/~",a).get(0).then(ud)});f.vz=P.method(function(a){a=this.url+"/~?"+vd(a);return wd(this.R,a).get(0).then(xd)});f.pb=P.method(function(a){a=this.ca(a.pb());return wd(this.R,a).get(0).then(yd)});f.ca=function(a){var b=a.pc();return b?[this.url,"~/system",b.hb(),b.Yb()].join("/"):[this.url,a.F()].join("/")};f.eA=P.method(function(a){a=this.ca(a.pb())+"?list\x26"+a.yd();return wd(this.R,a).get(0).then(zd)});
f.mA=P.method(function(a){var b=this.ca(a.Jh())+"?moveItems";return td(this.R,b,a).return()});f.cs=P.method(function(a){var b;if(a.pb().pc())throw Error("System folders cannot be updated");b=this.url+"/"+a.pb().F();return td(this.R,b,a).get(0).then(Ad)});function Bd(){}Bd.prototype.yd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};function Cd(a,b){a.to=b;return a}function Dd(a,b){a.items=b;return a}function Ed(a,b){a.from=b;return a}Bd.prototype.qd=function(){return this.items};Bd.prototype.Jh=function(){if(this.from)return Fd(this.from)};function Gd(){}function Fd(a){return Object.freeze(D(Gd,a))}Gd.prototype.F=function(){return this.id};
Gd.prototype.pc=function(){if(this.systemFolder)return Object.freeze(D(Hd,this.systemFolder))};function Xc(a){a.pc()?(a={brand:a.ea(),type:a.pc(),user:a.hb()},a=Object.freeze(D(Hd,a)),a=Fd({systemFolder:a})):a=Fd({id:a.F()});return a}function Hd(){}Hd.prototype.ea=function(){return this.brand};Hd.prototype.Yb=function(){return this.type};Hd.prototype.hb=function(){return this.user};function Id(){}function Ad(a){return Object.freeze(D(Id,a))}Id.prototype.pb=function(){if(this.folder)return Jd(this.folder)};
Id.prototype.wg=function(){return this.access};function Kd(){}function Jd(a){return Object.freeze(D(Kd,a))}f=Kd.prototype;f.F=function(){return this.id};f.sb=function(){if(this.thumbnail)return Object.freeze(D(Ld,this.thumbnail))};f.pc=function(){return this.systemFolder};f.Fh=function(){if(this.acl)return Md(this.acl)};f.getName=function(){return this.name};f.ea=function(){return this.brand};f.hb=function(){return this.user};f.Yb=function(){return this.type};
f.ro=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Jd(a)};f.Mb=function(){var a=this.getName(),b=this.pc();if(a)return a;if(b){a:switch(b){case "UNFOLDERED":a="Uploads";break a;case "LOGOS":a="Logos";break a;default:throw Error("Unknown system folder: "+b);}return a}throw Error("Unnamed folder");};function Ld(){}Ld.prototype.B=function(){return this.height};Ld.prototype.A=function(){return this.width};Ld.prototype.ca=function(){return this.url};function Nd(){}
function Md(a){return Object.freeze(D(Nd,a))}Nd.prototype.getEntries=function(){if(this.entries)return this.entries.filter(function(a){return!!a}).map(function(a){return Object.freeze(D(Od,a))})};function Od(){}Od.prototype.ea=function(){return this.brand};Od.prototype.wg=function(){return this.access};Od.prototype.hb=function(){return this.user};function Pd(){}f=Pd.prototype;f.yd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
f.lh=function(a){this.folder=a;return this};function Rd(a,b){a.acl=b;return a}f.dg=function(a){this.name=a;return this};f.Kw=function(a){this.description=a;return this};function Sd(a){a.trash=!0;return a}f.pb=function(){if(this.folder)return Fd(this.folder)};f.Fh=function(){if(this.acl)return Md(this.acl)};f.getName=function(){return this.name};
function Td(a,b,c){var d;d=function(){var c=[];a.Fh()&&a.Fh().getEntries()&&a.Fh().getEntries().forEach(function(a){a.ea()!==b&&c.push({brand:a.ea(),access:a.wg()})});return c}();c&&d.push({brand:b,access:c});c=Md({entries:d});return Rd((new Pd).lh(Xc(a)),c)}function Ud(){}function zd(a){return Object.freeze(D(Ud,a))}Ud.prototype.qd=function(){if(this.items)return this.items.filter(function(a){return!!a}).map(function(a){return Vd(a)})};Ud.prototype.gc=function(){return this.continuation};
Ud.prototype.pb=function(){if(this.folder)return Jd(this.folder)};Ud.prototype.wg=function(){return this.access};function Wd(){}function Vd(a){return Object.freeze(D(Wd,a))}f=Wd.prototype;f.F=function(){return this.id};f.sb=function(){if(this.thumbnail)return Object.freeze(D(Ld,this.thumbnail))};f.getName=function(){return this.name};f.Yb=function(){return this.type};f.Na=function(){var a;if(this.media&&(a=Xd(this.media)))return a};f.ro=function(a){a=_.extend(_.pick(this,Object.keys(this)),a);return Vd(a)};
function Yd(){}f=Yd.prototype;f.yd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Dn=function(a){this.limit=a;return this};f.lh=function(a){this.folder=a;return this};f.An=function(a){this.continuation=a;return this};f.rd=function(){return this.limit};f.pb=function(){if(this.folder)return Fd(this.folder)};f.gc=function(){return this.continuation};function Zd(){}
function yd(a){return Object.freeze(D(Zd,a))}Zd.prototype.pb=function(){if(this.folder)return Jd(this.folder)};Zd.prototype.wg=function(){return this.access};function $d(){}$d.prototype.yd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};$d.prototype.lh=function(a){this.folder=a;return this};$d.prototype.pb=function(){if(this.folder)return Fd(this.folder)};function ae(){}
function xd(a){return Object.freeze(D(ae,a))}ae.prototype.Ih=function(){if(this.folders)return this.folders.filter(function(a){return!!a}).map(function(a){return Jd(a)})};ae.prototype.gc=function(){return this.continuation};function be(){}f=be.prototype;f.yd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Dn=function(a){this.limit=a;return this};
f.zn=function(a){this.brand=a;return this};f.En=function(a){this.user=a;return this};f.An=function(a){this.continuation=a;return this};f.rd=function(){return this.limit};f.ea=function(){return this.brand};f.hb=function(){return this.user};f.gc=function(){return this.continuation};
function vd(a){return Object.keys(a).map(function(a){var c=this[a];if(Array.isArray(c))return a+"\x3d"+c.map(encodeURIComponent).join(",");if("object"!==typeof c)return a+"\x3d"+encodeURIComponent(c)},a).filter(Boolean).join("\x26")}function ce(){}function ud(a){return Object.freeze(D(ce,a))}ce.prototype.wg=function(){return this.access};ce.prototype.pb=function(){if(this.folder)return Jd(this.folder)};function de(){}f=de.prototype;
f.yd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.dg=function(a){this.name=a;return this};f.zn=function(a){this.brand=a;return this};f.En=function(a){this.user=a;return this};f.Xi=function(a){this.type=a;return this};f.getName=function(){return this.name};f.ea=function(){return this.brand};f.hb=function(){return this.user};f.Yb=function(){return this.type};function ee(){this.xhr=null}ee.prototype.cancel=function(){this.xhr&&(this.xhr.abort(),this.xhr=null)};ee.prototype.finish=function(){this.xhr=null};function fe(a){this.Un=a&&a.analyticsContext||null;this.bl=a&&a.authToken||null;this.cl=a&&a.authzToken||null;this.eo=a&&a.brandRestriction||null;this.ho=a&&a.buildName||null;this.io=a&&a.buildSha||null;this.xf=a&&a.csrfTokens||{};this.Vm=a&&a.serverRoot||null;this.Wv=!!this.Vm;this.RD=this.Vm?this.Vm+"/_ajax":"/_ajax"}
function ge(){return new fe(window.httpServiceConfig)}fe.prototype.copy=function(a){var b={analyticsContext:this.Un,authToken:this.bl,authzToken:this.cl,brandRestriction:this.eo,buildName:this.ho,buildSha:this.io,serverRoot:this.Vm},c;for(c in a)b[c]=a[c];if(null===a.csrfTokens)c=null;else{c={};a=a.csrfTokens||{};for(var d in this.xf)c[d]=this.xf[d];for(d in a)c[d]=a[d]}b.csrfTokens=c;return new fe(b)};function he(a){var b=a.indexOf("/",1);return-1==b?a:a.substring(0,b)}
function ie(a){return 200<=a&&300>a}fe.prototype.get=function(a,b){var c=new ee;this.send("GET",a,null,!0,null,c,null,b);return c};function wd(a,b){var c;return(new P(function(d,e){c=a.get(b,function(a,b){ie(a)?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}fe.prototype.post=function(a,b,c,d){var e=new ee;je(this,"POST",a,b,!0,0,e,c,d);return e};
function td(a,b,c){var d;return(new P(function(e,g){d=a.post(b,c,null,function(a,b){ie(a)?e([b,a]):g([b,a])})})).cancellable().catch(P.CancellationError,function(a){d.cancel();throw a;})}function ke(a,b,c,d){if(a.Wv)throw Error("synchronous XHRs cannot be made with withCredentials");a.send("POST",b,d,!1,c,new ee,null,function(){})}function le(a,b,c){var d=new ee;je(a,"DELETE",b,null,!0,0,d,null,c);return d}
function me(a,b){var c;return(new P(function(d,e){c=le(a,b,function(a,b){ie(a)?d([b,a]):e([b,a])})})).cancellable().catch(P.CancellationError,function(a){c.cancel();throw a;})}
function je(a,b,c,d,e,g,h,k,l){var m=he(c);if(m in a.xf){var n=a.xf[m];a.send(b,c,d,e,n,h,k,function(p,r){418==p&&1>g?(a.xf[m]==n&&delete a.xf[m],je(a,b,c,d,e,g+1,h,k,l)):(l&&l(p,r),h.finish())})}else a.send("GET","/csrf"+m,null,e,null,h,null,function(n,r){200==n?(m in a.xf||(a.xf[m]=String(r)),je(a,b,c,d,e,g,h,k,l)):(l(n,null),h.finish())})}
fe.prototype.send=function(a,b,c,d,e,g,h,k){function l(){4==n.readyState&&m()}function m(){var a,b,c;try{a=n.status;var d,e;try{d=n.getResponseHeader("X-Canva-Auth")}catch(h){}try{e=n.getResponseHeader("X-Canva-Authz")}catch(h){}d&&(p.bl="!"!=d?d:null);e&&(p.cl="!"!=e?e:null);b=n.responseText}catch(h){if(h.message&&h.message.match(/c00c023f/))a=0,b="";else throw g.finish(),h;}b=b&&b.trim?b.trim():"";d=b.substring(0,20);if(0<d.length){if("'\"])}while(1);\x3c/x\x3e//"!=d){k(500,null);g.finish();return}b=
b.substring(20);try{c=JSON.parse(b)}catch(h){k(500,null);g.finish();return}}else c=null;k(a,c);g.finish()}b=this.RD+b;var n=g.xhr=new XMLHttpRequest,p=this;n.open(a,b,d);this.Wv&&(n.withCredentials=!0);"GET"!=a&&e&&n.setRequestHeader("X-Csrf-Token",e);this.Un&&n.setRequestHeader("X-Canva-Analytics",this.Un);this.bl&&n.setRequestHeader("X-Canva-Auth",this.bl);this.cl&&n.setRequestHeader("X-Canva-Authz",this.cl);this.eo&&n.setRequestHeader("X-Canva-Brand",this.eo);this.ho&&n.setRequestHeader("X-Canva-Build-Name",
this.ho);this.io&&n.setRequestHeader("X-Canva-Build-Sha",this.io);null===c?a=null:"object"==typeof c&&"undefined"!==typeof Blob&&c instanceof Blob?(n.setRequestHeader("Content-Type",c.type),h&&n.upload.addEventListener("progress",h,!1),a=c):(n.setRequestHeader("Content-Type","application/json;charset\x3dUTF-8"),a=JSON.stringify(c));d?(n.onreadystatechange=l,n.send(a)):(n.send(a),m())};"undefined"!=typeof exports&&(exports.zF=fe);function ne(a){this.R=a;this.url="/metrics"};function oe(){}oe.prototype.dg=function(a){this.name=a;return this};function pe(){}pe.prototype=Object.create(oe.prototype);pe.prototype.constructor=pe;pe.prototype.ss=function(a){this.events=a;return this};function qe(){}function re(a){return Object.freeze(D(qe,a))};function se(){}se.prototype.now=function(){return Date.now()};var te=new se;function ue(a,b,c,d){this.name=a;this.qo=b;this.hA=c;this.startTime=d;this.events={}}function ve(a,b){a.events[b]=a.qo.now()-a.startTime}ue.prototype.done=function(){if(Object.keys(this.events).length){var a=this.hA,b=this.name,c=this.events,d=new pe;d.metricType="TIMELINE";b=d.dg(b).ss(c);a=a.SD;td(a.R,a.url,b).get(0).then(re)}};function we(a,b){this.SD=a;this.qo=te;this.NC=b}function xe(a){var b=window.cstart;if(void 0===b)throw Error("cstart undefined");return new we(a,b)}
function ye(a){return new ue("canva.editor.load",a.qo,a,a.NC)};function ze(a){this.xb=a;this.Fl=a.N();this.Gl=a.K();this.ot=this.nt=0;if(a.Wd){var b=a.Qi;this.Fl=b.N();this.Gl=b.K();this.nt=(b.N()-a.N())*L;this.ot=(b.K()-a.K())*L}}f=ze.prototype;f.Za=function(){var a=this.xb.Za()+this.nt,b=this.xb.Ra().N()*L;return a+b};f.fb=function(){var a=this.xb.fb()+this.ot,b=this.xb.Ra().K()*L;return a+b};f.N=function(){return this.xb.Ra().N()+this.Fl};f.gb=ze.prototype.N;f.K=function(){return this.xb.Ra().K()+this.Gl};f.Oa=ze.prototype.K;f.A=function(){return this.xb.Ra().A()};
f.Hc=ze.prototype.A;f.B=function(){return this.xb.Ra().B()};f.Fc=ze.prototype.B;f.Ta=function(){return this.N()+this.A()};f.Ob=ze.prototype.Ta;f.sa=function(){return this.K()+this.B()};f.Bb=ze.prototype.sa;f.Kh=function(){return this.N()+this.A()/2};f.Ga=function(){return 0};f.setSize=function(a,b){var c=this.xb.Ra();c.Z(a);c.W(b);Ae(this.xb,c)};f.Z=function(a){var b=this.xb.Ra();b.Z(a);Ae(this.xb,b)};f.W=function(a){var b=this.xb.Ra();b.W(a);Ae(this.xb,b)};
f.Ba=function(a){var b=this.xb.Ra();b.Ba(a-this.Fl);Ae(this.xb,b)};f.Da=function(a){var b=this.xb.Ra();b.Da(a-this.Gl);Ae(this.xb,b)};f.setPosition=function(a,b){var c=this.xb.Ra();c.setPosition(a-this.Fl,b-this.Gl);Ae(this.xb,c)};
function Be(a){this.ld=a;a=Array.min(this.ld.map(function(a){return a.gb()}));var b=Array.max(this.ld.map(function(a){return a.Ob()})),c=Array.min(this.ld.map(function(a){return a.Oa()})),d=Array.max(this.ld.map(function(a){return a.Bb()}));this.width=b-a;this.height=d-c}f=Be.prototype;f.Za=function(){return Array.min(this.ld.map(function(a){return a.Za()}))};f.fb=function(){return Array.min(this.ld.map(function(a){return a.fb()}))};f.N=function(){return Array.min(this.ld.map(function(a){return a.gb()}))};
f.gb=Be.prototype.N;f.K=function(){return Array.min(this.ld.map(function(a){return a.Oa()}))};f.Oa=Be.prototype.K;f.A=function(){return this.width};f.Hc=Be.prototype.A;f.B=function(){return this.height};f.Fc=Be.prototype.B;f.Ta=function(){return this.N()+this.A()};f.Ob=Be.prototype.Ta;f.sa=function(){return this.K()+this.B()};f.Bb=Be.prototype.sa;f.Kh=function(){return this.N()+this.A()/2};f.Ga=function(){return 0};f.T=function(){return this.ld[0].T()};
f.ba=function(){return new K(this.N(),this.K(),this.A(),this.B())};f.Wh=function(a){return a?ad(this.ba(),a.ba()):!1};f.setSize=function(){};f.Z=function(){};f.W=function(){};f.Ba=function(a){var b=a-this.N();this.ld.forEach(function(a){a.Ba(a.N()+b)})};f.Da=function(a){var b=a-this.K();this.ld.forEach(function(a){a.Da(a.K()+b)})};f.setPosition=function(a,b){var c=a-this.N(),d=b-this.K();this.ld.forEach(function(a){a.setPosition(a.N()+c,a.K()+d)})};
function ed(a,b,c){this.elem=a;this.we=b;this.height=a.height();this.width=a.width();this.js=void 0!==c;this.origin=c}f=ed.prototype;f.Za=function(){return this.elem[0].getBoundingClientRect().left+$("#canvaDocument").scrollLeft()-$("#canvaDocument").offset().left};f.fb=function(){var a=$("#canvaDocument"),b=a.scrollTop(),a=a.offset().top;return this.elem[0].getBoundingClientRect().top+b-a};f.N=function(){return(this.elem[0].getBoundingClientRect().left-this.we.left)/L};f.gb=ed.prototype.N;
f.K=function(){return(this.elem[0].getBoundingClientRect().top-this.we.top)/L};f.Oa=ed.prototype.K;f.A=function(){return this.elem[0].getBoundingClientRect().width/L};f.Hc=ed.prototype.A;f.B=function(){return this.elem[0].getBoundingClientRect().height/L};f.Fc=ed.prototype.B;f.Ta=function(){return this.N()+this.A()};f.Ob=ed.prototype.Ta;f.sa=function(){return this.K()+this.B()};f.Bb=ed.prototype.sa;f.Kh=function(){return this.N()+this.A()/2};f.Ga=function(){return 0};f.setSize=function(){};f.Z=function(){};
f.W=function(){};f.Ba=function(a){var b;this.js?(b=Ce(this.elem[0]).ye,a=a*L+this.we.left+(b-1)*this.origin.left,cd(this.elem[0],{kc:a})):this.elem.css("left",a*L+this.we.left)};f.Da=function(a){var b;this.js?(b=Ce(this.elem[0]).lf,a=a*L+this.we.top+(b-1)*this.origin.top,cd(this.elem[0],{lc:a})):this.elem.css("top",a*L+this.we.top)};
f.setPosition=function(a,b){var c,d;this.js?(c=Ce(this.elem[0]),d=a*L+this.we.left+(c.ye-1)*this.origin.left,c=b*L+this.we.top+(c.lf-1)*this.origin.top,cd(this.elem[0],{kc:d,lc:c})):this.elem.css("left",a*L+this.we.left).css("top",b*L+this.we.top)};function De(a){this.vc=a.vc;this.Ia=a.Ia;this.lg=a.lg;this.eh=a.eh;this.Qa=this.md=null;this.Mg=[];this.ready=!1;this.Bh=a.Bh;this.Ef=a.Ef;this.ga=a.ga;this.ug=a.ug;this.Rk=a.Rk}
function Ee(a,b){var c=$.extend({},b);a.md&&(c.design=a.md);c.experience=a.Bh;for(var d in a.Ef)a.Ef.hasOwnProperty(d)&&(c["Experiment:"+d]=a.Ef[d]);a.Ia&&(c.brand=a.Ia);a.lg&&(c.cohort=a.lg);a.eh&&(c.tier=a.eh);try{var e=window.crypto||window.msCrypto,g=new Uint8Array(16);e.getRandomValues(g);c.insert_id=btoa(String.fromCharCode.apply(null,g))}catch(h){}return c}f=De.prototype;f.track=function(){};f.identify=function(a){this.vc=a};f.alias=function(){};f.Xe=function(){return this.ready};f.set=function(){};
f.increment=function(){};f.Qk=function(){};f.union=function(){};function Fe(a){F.track(a+"_click",{location:"first_time_publish"})}function Ge(a,b){var c=F;c.md=a;c.Qa=b;c.track("design_open",{design:c.md,source:"editor",template:c.Qa});c.Rk&&c.Rk("l54ua")}function He(a,b){var c=F;c.track("design_shared",{design:c.md,template:c.Qa,medium:a,location:b})}function Ie(a,b){F.track("dialog_close",{location:a,dialog:b})};function Je(a){De.call(this,{Bh:a.Bh,Ef:a.Ef,vc:a.vc,Ia:a.Ia,lg:a.lg,eh:a.eh,ga:function(a,c,d){window.console.log("Google track: ",a,c,d)},ug:function(a){window.console.log("Facebook track pixelId: ",a)},Rk:function(a){window.console.log("Twitter trackPid: ",a)}})}_.extend(Je.prototype,De.prototype);f=Je.prototype;f.track=function(a,b){window.console.log("analytics:track",this.vc,a,Ee(this,b))};f.Qk=function(a,b){window.console.log("analytics:trackNow",this.vc,a,Ee(this,b))};
f.identify=function(a){this.vc=a;window.console.log("analytics:identify",a)};f.alias=function(a){window.console.log("analytics:alias",this.vc,a);this.vc=a};f.set=function(a,b){window.console.log("analytics:set",this.vc,a);b&&window.setTimeout(b,0)};f.increment=function(a,b){window.console.log("analytics:increment",this.vc,a,b)};f.union=function(a){window.console.log("analytics:union",this.vc,a)};function Ke(a){function b(){for(this.ready=!0;this.Mg&&0<this.Mg.length;)this.Mg.shift()();this.Mg=null;if(!Le){if(a.vc){var b=(new UAParser).getResult(),e=b.browser.name,g=b.browser.version,h=b.device.type,b=b.os.name;h||"Android"!=b&&"iOS"!=b||(h="mobile");this.set({"Most recent browser":e+" "+g,timezone:(new Date).getTimezoneOffset()/-60});this.union({"Operating Systems":[b],Browsers:[e],Devices:[h]})}c.page();Le=!0}}De.call(this,a);var c=window.analytics;c&&(c.load(a.OE),c.ready(b.bind(this)))}
var Le=!1;_.extend(Ke.prototype,De.prototype);f=Ke.prototype;f.track=function(a,b){window.analytics&&window.analytics.track(a,Ee(this,b))};f.Qk=function(a,b){window.analytics&&window.analytics.track(a,Ee(this,b))};f.identify=function(a){window.analytics&&window.analytics.identify(a)};f.alias=function(a){window.analytics&&window.analytics.alias(a)};f.set=function(a,b){window.analytics&&window.analytics.identify(a,b)};f.increment=function(a,b){var c={};c[a]=b;window.analytics&&window.analytics.identify(c)};
f.union=function(){};function Me(){var a=window.analyticsConfig||null;function b(a){e.push(["track",a.toString()])}function c(a){d("https://analytics.twitter.com/i/adsct?txn_id\x3d"+encodeURIComponent(a)+"\x26p_id\x3dTwitter");d("//t.co/i/adsct?txn_id\x3d"+encodeURIComponent(a)+"\x26p_id\x3dTwitter")}function d(a){$(function(){var b=$("\x3cimg\x3e").css({display:"none",height:"1px",width:"1px"});b.one("load",function(){b.remove()});b.prop("src",a);b.appendTo("body")})}var e=window._fbq||(window._fbq=[]),g=window.ga,h=
a.user,k=a.brand,l=a.cohort,m=a.tier,n=String(a.experience),p=a.experiments,r=a.impl;switch(r){case "console":a=new Je({Bh:n,Ef:p,vc:h,Ia:k,lg:l,eh:m});break;case "segment":a=new Ke({OE:a.segmentWriteKey,Bh:n,Ef:p,vc:h,Ia:k,lg:l,eh:m,ga:g,ug:b,Rk:c});break;default:throw Error("Cant find analytics implementation "+r);}h&&a.identify(h);return a};function Ne(a){this.R=a}f=Ne.prototype;f.Lj=function(a){throw Oe(a[0].errorKey);};f.Wj=function(a){return"CreditCardInvalid"===a[0].errorType};f.Cy=P.method(function(a,b){return td(this.R,"/billing/brands/"+encodeURIComponent(a)+"/account",{brand:a,stripeToken:b}).get(0).get("account").then(Pe).catch(this.Wj,this.Lj)});function Qe(a,b,c){a.R.get("/billing/brands/"+encodeURIComponent(b)+"/account",function(a,b){200!=a?c(a,null):c(a,Pe(b))})}
function Re(a,b){return new P(function(a,d){Qe(this,b,function(b,g){ie(b)?a(g):d(b)})}.bind(a))}f.Sl=function(a,b){return this.R.get("/billing/design/"+encodeURIComponent(a),function(a,d){var e=200==a?Se(d):null;b&&b(a,e)})};function Te(a,b,c,d){return a.R.post("/billing/design/"+encodeURIComponent(b),c.map(function(a){return Ue(a)}),null,function(a,b){var c=b?Se(b):null;d&&d(a,c)})}
function Ve(a,b){var c=[{qk:10,vh:11,name:"PACK_10"},{qk:20,vh:22,name:"PACK_20"},{qk:50,vh:55,name:"PACK_50"},{qk:100,vh:110,name:"PACK_100"}].filter(function(b){return b.vh>a});b&&b(c)}function We(a,b,c){return a.R.post("/billing/brand/account?buycredit",{creditPack:encodeURIComponent(b)},null,function(a,b){200!=a?c(a,b&&b.error&&b.error.message||"Unkown error ("+a+")"):c(a,Object.freeze(D(Xe,b.invoiceItem)))})}
f.getSubscription=P.method(function(a){return wd(this.R,a.brand?"/billing/brands/"+a.brand+"/subscription"+(null!=a.excludeStandard?"?excludeStandard\x3d"+(a.excludeStandard?"true":"false"):""):"/billing/subscriptions/"+a.id).get(0).then(Ye)});f.$E=P.method(function(a){return td(this.R,a.brand?"/billing/brands/"+a.brand+"/subscription":"/billing/subscriptions/"+a.id,a).get(0).then(Ze).catch(this.Wj,this.Lj)});
P.method(function(a){return td(this.R,"/billing/brands/"+a.brand+"/subscription?refund",a).get(0).then($e).catch(this.Wj,this.Lj)});P.method(function(a){var b="/billing/campaigns";a&&(b+="?includeStatistics");return wd(this.R,b).spread(af)});P.method(function(a){return td(this.R,"/billing/campaign",a).spread(bf)});P.method(function(a){return me(this.R,"/billing/campaign/"+encodeURIComponent(a)).spread()});
P.method(function(a,b){return wd(this.R,"/billing/coupon/"+encodeURIComponent(a)+"?validate\x3d"+encodeURIComponent(b)).spread(cf)});P.method(function(a){a="/billing/brands/"+encodeURIComponent(a.ea())+"/invoices?"+a.yd();return wd(this.R,a).get(0).then(df)});P.method(function(a){a="/billing/invoices/"+encodeURIComponent(a.F())+"?"+a.yd();return wd(this.R,a).get(0).then(ef)});
P.method(function(a){a=a.ea()?"/billing/brands/"+encodeURIComponent(a.ea())+"/invoice?upcoming":"/billing/brand/invoice?upcoming";return wd(this.R,a).get(0).then(ff).catch(this.Wj,this.Lj)});P.method(function(a){var b=a.ea()?"/billing/brands/"+encodeURIComponent(a.ea())+"/invoice?create":"/billing/brand/invoice?create";return td(this.R,b,a).get(0).then(gf)});P.method(function(a){return td(this.R,"/billing/invoices/"+encodeURIComponent(a.invoiceId)+"?pay",a).get(0).then(hf).catch(this.Wj,this.Lj)});function jf(){}jf.prototype.F=function(){return this.id};jf.prototype.hb=function(){return this.user};jf.prototype.lb=function(){return this.status};function Xe(){}Xe.prototype.getDate=function(){return this.date};Xe.prototype.hb=function(){return this.user};Xe.prototype.ea=function(){return this.brand};Xe.prototype.F=function(){return this.id};function kf(){}
function lf(a){a=D(kf,a);a.licenses=a.licenses.map(mf);a.credits=a.credits.map(nf);a.subscriptionCharges=a.subscriptionCharges.map(of);return Object.freeze(a)}function pf(){}function nf(a){a=D(pf,a);a.date=new Date(a.date);return Object.freeze(a)}pf.prototype.getDate=function(){return this.date};function qf(){}function of(a){a=D(qf,a);a.fromDate=new Date(a.fromDate);a.toDate=new Date(a.toDate);return Object.freeze(a)}qf.prototype.getSubscription=function(){return this.subscription};
function rf(){}rf.prototype.getSubscription=function(){return this.subscription};function Ye(a){a=D(rf,a);a.subscription=sf(a.subscription);return a}function tf(){}tf.prototype.F=function(){return this.id};tf.prototype.ea=function(){return this.brand};tf.prototype.lb=function(){return this.status};
function sf(a){a=D(tf,a);a.plan=Object.freeze(D(uf,a.plan));null!=a.trialEnd&&(a.trialEnd=new Date(a.trialEnd));null!=a.paidUntil&&(a.paidUntil=new Date(a.paidUntil));null!=a.periodEnd&&(a.periodEnd=new Date(a.periodEnd));return a}function uf(){}uf.prototype.F=function(){return this.id};uf.prototype.Mb=function(){return this.displayName};uf.prototype.Zt=function(){return this.trialPeriodDays};function vf(a){return a.billingInterval}uf.prototype.xg=function(){return this.price};
function wf(a){return("YEARLY"===vf(a)?1:12)*a.xg()}function xf(){}xf.prototype.zn=function(a){this.brand=a;return this};function yf(){}yf.prototype.getSubscription=function(){return this.subscription};function Ze(a){a=D(yf,a);a.subscription=sf(a.subscription);return a}function zf(){}function $e(a){return Object.freeze(D(zf,a))}function Af(){}Af.prototype.F=function(){return this.id};Af.prototype.Mb=function(){return this.displayName};Af.prototype.Yb=function(){return this.type};Af.prototype.Zt=function(){return this.trialPeriodDays};
function Bf(a){a=D(Af,a);null!=a.created&&(a.created=new Date(a.created));null!=a.expiry&&(a.expiry=new Date(a.expiry));return a}function Cf(){}Cf.prototype.hb=function(){return this.user};Cf.prototype.ea=function(){return this.brand};function Df(){}function Ef(a){a=D(Df,a);a.campaign=Bf(a.campaign);return a}function Ff(){}function af(a){a=D(Ff,a);var b;b=(b=a.campaigns)?b.map(Ef):null;a.campaigns=b;return a}function Gf(){}function bf(a){a=D(Gf,a);a.campaign=Bf(a.campaign);return a}
function Hf(){}function cf(a){a=D(Hf,a);var b=D(Cf,a.coupon);b.campaign=Bf(b.campaign);null!=b.dateRedeemed&&(b.dateRedeemed=new Date(b.dateRedeemed));a.coupon=b;return a}function If(){}If.prototype.ea=function(){return this.brand};function Jf(){}function Pe(a){return Object.freeze(D(Jf,a))}Jf.prototype.ea=function(){return this.brand};Jf.prototype.Gh=function(){if(this.card)return Object.freeze(D(If,this.card))};
function Kf(){this.media="";this.version=0;this.title="";this.price=0;this.sessionCreationDate=null;this.layout=""}f=Kf.prototype;f.Na=function(){return this.media};f.S=function(){return this.version};f.Aa=function(){return this.title};f.xg=function(){return this.price};f.Vl=function(){return this.layout};function mf(a){return a?$.extend(new Kf,a):null}function Lf(){this.contributorName=this.thumbnail=this.license=""}function Ue(a){return a.license}Lf.prototype.zg=function(){return this.thumbnail};
function Mf(a){if(!a)return null;a=$.extend(new Lf,a);a.license=mf(a.license);return a}function Nf(a){return a?a.map(Mf):null}function Of(){this.newItems=[];this.paidItems=[];this.subscriptionCredit=this.creditBalance=0;this.card=null;this.documentVersion=0}Of.prototype.Wc=function(){return this.newItems};Of.prototype.Gh=function(){return this.card};function Pf(a){var b=a.creditBalance;a.subscriptionCredit&&(b+=a.subscriptionCredit);return b}
function Qf(a){return a.newItems.reduce(function(a,c){return a+Ue(c).xg()},0)}function Rf(a){a=a.paidItems.filter(function(a){return 0!==Ue(a).xg()&&null!==Ue(a).sessionCreationDate});if(0==a.length)return null;a=a.map(function(a){return Ue(a).sessionCreationDate});return Math.min.apply(Math,a)}function Sf(a){return 0<Qf(a)&&Pf(a)<Qf(a)}
function Se(a){if(!a)return null;a=$.extend(new Of,a);a.newItems&&(a.newItems=Nf(a.newItems));a.paidItems&&(a.paidItems=Nf(a.paidItems));a.card&&(a.card=Object.freeze(D(If,a.card)));return a}function Tf(){}function df(a){return Object.freeze(D(Tf,a))}function Uf(){}function ef(a){a=D(Uf,a);a.invoice=Object.freeze(D(jf,a.invoice));a.details&&(a.details=lf(a.details));return Object.freeze(a)}function Vf(){}
function ff(a){a=D(Vf,a);a.invoice=Object.freeze(D(jf,a.invoice));a.details=lf(a.details);return Object.freeze(a)}function Wf(){}function gf(a){a=D(Wf,a);return Object.freeze(a)}function Xf(){}function hf(a){a=D(Xf,a);return Object.freeze(a)}function Yf(){Kf.call(this)}Yf.prototype=Object.create(Kf.prototype);Yf.prototype.constructor=Yf;function K(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}function Zf(a){return a?new K(a.left||0,a.top||0,a.width||0,a.height||0):$f.clone()}function $c(a){return Zf({left:a.left,top:a.top,width:a.width,height:a.height})}function ag(a,b){a=a||null;b=b||null;return null===a&&null===b?!0:null===a||null===b?!1:a.height===b.height&&a.left===b.left&&a.top===b.top&&a.width===b.width}var $f=new K(0,0,0,0);f=K.prototype;
f.serialize=function(){return{left:this.left,top:this.top,width:this.width,height:this.height}};f.clone=function(){return new K(this.left,this.top,this.width,this.height)};f.N=function(){return this.left};f.gb=K.prototype.N;f.K=function(){return this.top};f.Oa=K.prototype.K;f.Ta=function(){return this.left+this.width};f.Ob=K.prototype.Ta;f.sa=function(){return this.top+this.height};f.Bb=K.prototype.sa;f.A=function(){return this.width};f.Hc=K.prototype.A;f.B=function(){return this.height};f.Fc=K.prototype.B;
f.Oh=function(){return{width:this.width,height:this.height}};function bg(a){return{x:a.left+a.width/2,y:a.top+a.height/2}}f.Ba=function(a){this.left=a;return this};f.Da=function(a){this.top=a;return this};f.setPosition=function(a,b){this.left=a;this.top=b;return this};f.Z=function(a){this.width=a;return this};f.W=function(a){this.height=a;return this};f.setSize=function(a,b){this.width=a;this.height=b;return this};function cg(a){return a.width/a.height}
f.translate=function(a,b){this.left+=a;this.top+=b;return this};f.scale=function(a,b){void 0===b&&(b=a);this.left*=a;this.top*=b;this.width*=a;this.height*=b;return this};function dg(a,b,c,d,e){a.translate(-b,-c);a.scale(d,e);a.translate(b,c)}function eg(a,b){a.left+=b;a.top+=b;a.width-=b;a.height-=b}function fg(a,b,c){a.width+=b;a.height+=c;return a}function gg(a,b){a.left=b.left-(a.width-b.width)/2;a.top=b.top-(a.height-b.height)/2;return a}
function hg(a,b){var c=cg(a);cg(a)>cg(b)?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);gg(a,b);return a}function id(a,b){var c=cg(a);cg(a)<cg(b)?(a.height=b.height,a.width=c*a.height):(a.width=b.width,a.height=a.width/c);gg(a,b);return a}f.round=function(){this.left=Math.round(this.left);this.top=Math.round(this.top);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
function ad(a,b){return a.Ta()<=b.N()||a.sa()<=b.K()||a.N()>=b.Ta()||a.K()>=b.sa()?!1:!0}function ig(a,b){return a.N()<=b.N()&&a.K()<=b.K()&&a.Ta()>=b.Ta()&&a.sa()>=b.sa()}function jg(a,b){a.Ta()>b.Ta()&&a.translate(b.Ta()-a.Ta(),0);a.N()<b.N()&&a.translate(b.N()-a.N(),0);a.sa()>b.sa()&&a.translate(0,b.sa()-a.sa());a.K()<b.K()&&a.translate(0,b.K()-a.K());return a}function kg(a,b,c){0!=(c&1)&&a.Ba(b.A()-a.Ta());0!=(c&2)&&a.Da(b.B()-a.sa());return a};var lg={Page1:{items:[{type:"columns",children:[{type:"item"}]}]},Page2:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page3:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page4:{items:[{type:"item"},{type:"item"}]},Page5:{items:[{type:"item"},{type:"item"},{type:"item"}]},Page6:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page7:{items:[{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"}]}]},
Page8:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page8_1:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page8_2:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]},Page9:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page10:{items:[{type:"columns",children:[{type:"item",
width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"item"}]}]}]},Page11:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page12:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"item"}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page13:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"}]}]}]},Page14:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page15:{items:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page16:{items:[{type:"item",height:50},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:33.33},{type:"item"}]}]},Page17:{items:[{type:"item",
height:40},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page18:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page19:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page20:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}]}]}]},Page21:{items:[{type:"columns",
children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page22:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:66.67},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page23:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page24:{items:[{type:"item",height:75},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}]},Page25:{items:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}]},Page27:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page28:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page29:{items:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page30:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page31:{items:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page32:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]}]},Page33:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]}]},Page34:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},
{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}]}]},Page35:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page36:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}]},{type:"item"}]},{type:"item"},{type:"item"}]}]},Page37:{items:[{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page38:{items:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page39:{items:[{type:"item",height:80},
{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page40:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page41:{items:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},Page42:{items:[{type:"item"},{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page43:{items:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"columns",children:[{type:"item"},{type:"item"}]}]}]}]},Page44:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page45:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page46:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page47:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page48:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page49:{items:[{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page50:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},
{type:"item"}]}]},Page51:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item"}]},Page52:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page53:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}]},Page54:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page55:{items:[{type:"columns",children:[{type:"item",width:50},{type:"item",
width:25},{type:"item"}],height:50},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"item",width:50},{type:"item",width:25},{type:"item"}]}]},Page56:{items:[{type:"columns",children:[{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},
{type:"item"}]}]}]},Page57:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page58:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"item"},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]}]},{type:"columns",children:[{type:"item"},
{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"item"}]}]},Page59:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]},{type:"rows",children:[{type:"item",height:66.67},{type:"item"}]},{type:"rows",children:[{type:"item",height:33.33},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page60:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],height:33.33},
{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:50},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item",height:25},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page61:{items:[{type:"columns",children:[{type:"item"},{type:"item"}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},
{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page62:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page63:{items:[{type:"columns",children:[{type:"item",width:80},{type:"rows",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"}]}],height:80},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page64:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"item",height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page65:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",
children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page66:{items:[{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item",
height:50},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item",width:40},{type:"item",width:20},{type:"item"}]}]},Page67:{items:[{type:"columns",children:[{type:"item",width:33.33},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"item"}]}]},Page68:{items:[{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page69:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:40},{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"}],height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item",width:40},{type:"item",width:40},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page70:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",
width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page71:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"item",width:75},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page72:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},
{type:"item"}],height:33.33},{type:"item"}],width:50},{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page73:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page74:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page75:{items:[{type:"columns",
children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}]}],height:66.67},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"item"}]}]},Page76:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page77:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:25},{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"item"}]}],height:66.67},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page78:{items:[{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}],height:30},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:15},{type:"item",width:70},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:45},{type:"columns",children:[{type:"item",width:30},{type:"item",width:45},{type:"item"}]}]},Page79:{items:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]}]},Page80:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",
children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}]},Page81:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"item"}],width:33.33},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item",width:50},{type:"item"}]}],width:33.33},{type:"item"}],height:40},{type:"item",height:40},{type:"columns",children:[{type:"item",width:16.67},
{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item",width:16.67},{type:"item"}]}]},Page82:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]},{type:"rows",children:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:25},{type:"item"}]}]}]},Page83:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},
Page84:{items:[{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:50},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",
children:[{type:"item"},{type:"item"}]}]}]},Page86:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:50},{type:"columns",children:[{type:"item"},{type:"item"}]}]},Page87:{items:[{type:"columns",children:[{type:"rows",
children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:33.33},{type:"item"}]}],height:75},{type:"columns",children:[{type:"item",width:25},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},
Page88:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"columns",children:[{type:"item"},{type:"item"}],height:12.5},{type:"item"}],width:25},{type:"rows",children:[{type:"item",height:25},
{type:"item",height:50},{type:"item"}]}]}]},Page89:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:25},{type:"item"}]}]},Page90:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page91:{items:[{type:"columns",children:[{type:"item",
width:66.67},{type:"rows",children:[{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item",height:75},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:33.33},{type:"rows",children:[{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:33.33},{type:"item"}]},
{type:"item"}]}]}]},Page92:{items:[{type:"columns",children:[{type:"rows",children:[{type:"item",height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}]}],width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"item"}]},{type:"columns",children:[{type:"item",width:33.33},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"}],
height:33.33},{type:"item"}]}]}]},Page93:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:20},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:20},{type:"item",width:60},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}],height:60},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page94:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}],height:16.67},{type:"columns",children:[{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}],width:16.67},{type:"item",width:66.67},{type:"rows",children:[{type:"item",height:25},{type:"item",height:25},{type:"item",height:25},{type:"item"}]}],height:66.67},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page95:{items:[{type:"columns",
children:[{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],width:16.67},{type:"rows",children:[{type:"item"},{type:"item"},{type:"item"}],
width:16.67},{type:"item"}]}]},Page96:{items:[{type:"columns",children:[{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"item"}]},{type:"item"},{type:"item"},{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"item"},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]}],height:33.33},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"columns",children:[{type:"rows",children:[{type:"columns",
children:[{type:"rows",children:[{type:"item"},{type:"item"}]},{type:"item"}]},{type:"item"}]},{type:"item"}]}]},{type:"item"}]}]},Page97:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page98:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}]},{type:"columns",
children:[{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}],width:25},{type:"item"}]}]},Page99:{items:[{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]},{type:"columns",children:[{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:50},{type:"rows",children:[{type:"item"},
{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}]}]}]},Page100:{items:[{type:"columns",children:[{type:"item",width:50},{type:"rows",children:[{type:"item",height:50},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}]}],width:25},{type:"rows",children:[{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"columns",children:[{type:"item"},{type:"item"}],height:25},{type:"item"}]}],
height:50},{type:"columns",children:[{type:"item",width:25},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item"}],height:25},{type:"columns",children:[{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"rows",children:[{type:"item"},{type:"item"}],width:12.5},{type:"item",width:25},{type:"item",width:25},{type:"item"}]}]},Page101:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page102:{items:[{type:"columns",children:[{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]},Page103:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"}]}]},Page104:{items:[{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},
{type:"item"},{type:"item"}]},{type:"columns",children:[{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"},{type:"item"}]}]}};var md={a4:{name:"A4",sentenceName:"document",width:794,height:1123,dpi:300,multiPage:!0,templates:{blank:{width:794,height:1123,dpi:300}}},usLetter:{name:"US Letter",sentenceName:"US letter",width:816,height:1056,dpi:300,multiPage:!0,templates:{blank:{width:816,height:1056,dpi:300}}},TABQqtmBi1w:{name:"Letterhead (A4)",sentenceName:"letterhead (A4)",width:794,height:1123,dpi:300,multiPage:!0,templates:{blank:{width:794,height:1123,dpi:300}}},TABQqupS2LE:{name:"Letterhead (US)",sentenceName:"letterhead (US)",
width:816,height:1056,dpi:300,multiPage:!0,templates:{blank:{width:816,height:1056,dpi:300}}},presentation:{name:"Presentation",sentenceName:"presentation",width:1024,height:768,multiPage:!0,templates:{blank:{width:1024,height:768}}},presentationWide:{name:"Wide Presentation",sentenceName:"wide presentation",width:1920,height:1080,multiPage:!0,templates:{blank:{width:1920,height:1080}}},blogGraphic:{name:"Blog Graphic",sentenceName:"blog graphic",width:800,height:1200,multiPage:!0,templates:{blank:{width:800,
height:1200}}},facebookCover:{name:"Facebook Cover",sentenceName:"Facebook cover",width:851,height:315,multiPage:!0,templates:{blank:{width:851,height:315,elements:[{type:"fixed",placeholder:"FACEBOOK",left:15,top:173,width:170,height:170}]}}},twitterBG:{name:"Twitter Background",sentenceName:"Twitter background",width:2048,height:1152,multiPage:!0,templates:{blank:{width:2048,height:1152}}},twitterHeader:{name:"Twitter Header",sentenceName:"Twitter header",width:1500,height:500,multiPage:!0,templates:{blank:{width:1500,
height:500,elements:[{type:"fixed",placeholder:"TWITTER_MENU",left:0,top:0,width:1500,height:46,transparency:15},{type:"fixed",placeholder:"TWITTER_STATS",left:0,top:440,width:1500,height:60,transparency:15},{type:"fixed",placeholder:"TWITTER_AVATAR",left:165,top:317,width:210,height:210}]}}},socialMediaGraphic:{name:"Social Media",sentenceName:"social media graphic",width:800,height:800,multiPage:!0,templates:{blank:{width:800,height:800}}},card:{name:"Card",sentenceName:"card",width:560,height:397,
dpi:300,multiPage:!0,templates:{blank:{width:560,height:397,dpi:300}}},TABQqt5Z4RU:{name:"Postcard",sentenceName:"postcard",width:560,height:397,dpi:300,multiPage:!0,templates:{blank:{width:560,height:397,dpi:300}}},photoCollage:{name:"Photo Collage",sentenceName:"photo collage",width:945,height:756,dpi:300,multiPage:!0,templates:{blank:{width:945,height:756,dpi:300}}},poster:{name:"Poster",sentenceName:"poster",width:1588,height:2246,dpi:300,multiPage:!0,templates:{blank:{width:1588,height:2246,
dpi:300}}},posterUS:{name:"Poster (US)",sentenceName:"poster",width:1728,height:2304,dpi:300,multiPage:!0,templates:{blank:{width:1728,height:2304,dpi:300}}},businessCard:{name:"Business Card",sentenceName:"business card",width:322,height:189,dpi:300,multiPage:!0,templates:{blank:{width:322,height:189,dpi:300}}},invitation:{name:"Invitation",sentenceName:"invitation",width:530,height:530,dpi:300,multiPage:!0,templates:{blank:{width:530,height:530,dpi:300}}},TABQqqo4v1s:{name:"Invitation (portrait)",
sentenceName:"invitation (portrait)",width:480,height:672,dpi:300,multiPage:!0,templates:{blank:{width:480,height:672,dpi:300}}},invitationLandscape:{name:"Invitation",sentenceName:"invitation",width:672,height:480,dpi:300,multiPage:!0,templates:{blank:{width:672,height:480,dpi:300}}},profileHeader:{name:"Canva Profile Header",sentenceName:"profile Header",width:1440,height:500,multiPage:!1,templates:{blank:{width:1440,height:500}}},pinterest:{name:"Pinterest Graphic",sentenceName:"Pinterest graphic",
width:735,height:1102,multiPage:!0,templates:{blank:{width:735,height:1102}}},eBook:{name:"eBook",sentenceName:"eBook cover",width:816,height:1056,dpi:300,multiPage:!0,templates:{blank:{width:816,height:1056,dpi:300}}},facebookAd:{name:"Facebook Ad",sentenceName:"Facebook Ad",width:1200,height:627,multiPage:!0,templates:{blank:{width:1200,height:627}}},eBayBillboard:{name:"eBay Billboard",sentenceName:"eBay billboard",width:1200,height:270,multiPage:!0,templates:{blank:{width:1200,height:270}}},facebookPost:{name:"Facebook Post",
sentenceName:"Facebook post",width:940,height:788,multiPage:!0,templates:{blank:{width:940,height:788}}},facebookApp:{name:"Facebook App",sentenceName:"Facebook App",width:810,height:450,multiPage:!0,templates:{blank:{width:810,height:450}}},facebookAppTall:{name:"Facebook App (Tall)",sentenceName:"Facebook App",width:810,height:610,multiPage:!0,templates:{blank:{width:810,height:610}}},gPlusHeader:{name:"Google+ Photo",sentenceName:"Google+ photo",width:1240,height:700,multiPage:!0,templates:{blank:{width:1240,
height:700,elements:[{type:"fixed",placeholder:"GPLUS_CARD",left:-620,top:0,width:620,height:700}]}}},resume:{name:"Résumé",sentenceName:"résumé",width:816,height:1056,dpi:300,multiPage:!0,templates:{blank:{width:816,height:1056,dpi:300}}},realEstateFlyer:{name:"Real Estate Flyer",sentenceName:"real estate flyer",width:816,height:1056,dpi:300,multiPage:!0,templates:{blank:{width:816,height:1056,dpi:300}}},kindleCover:{name:"Kindle Cover",sentenceName:"Kindle cover",width:2820,height:4500,multiPage:!0,
templates:{blank:{width:2820,height:4500}}},kindleCoverSmall:{name:"Kindle Cover",sentenceName:"Kindle cover",width:1410,height:2250,multiPage:!0,templates:{blank:{width:1410,height:2250}}},albumCover:{name:"Album Cover",sentenceName:"album cover",width:1400,height:1400,multiPage:!0,templates:{blank:{width:1400,height:1400}}},TABQqsu2GmY:{name:"Etsy Banner",sentenceName:"Etsy banner",width:760,height:100,multiPage:!0,templates:{blank:{width:760,height:100}}},storeHeaderSmall:{name:"Store Header (Small)",
sentenceName:"store header",width:760,height:100,multiPage:!0,templates:{blank:{width:760,height:100}}},goDaddyStoreImage:{name:"GoDaddy Store Image",sentenceName:"GoDaddy store image",width:1200,height:500,multiPage:!0,templates:{blank:{width:1200,height:500}}},storeHeaderLarge:{name:"Store Header (Large)",sentenceName:"store header",width:1200,height:500,multiPage:!0,templates:{blank:{width:1200,height:500}}},storeHeaderWide:{name:"Etsy store header",sentenceName:"Etsy store header",width:1038,
height:180,multiPage:!0,templates:{blank:{width:1038,height:180}}},storeHeaderWideRetina:{name:"Etsy store header",sentenceName:"Etsy store header",width:2076,height:360,multiPage:!0,templates:{blank:{width:2076,height:360}}},emailHeader:{name:"Email Header",sentenceName:"email header",width:600,height:200,multiPage:!0,templates:{blank:{width:600,height:200}}},blogTitle:{name:"Blog Title",sentenceName:"blog title",width:560,height:315,multiPage:!0,templates:{blank:{width:560,height:315}}},adMediumRectangle:{name:"Ad (Medium Rectangle)",
sentenceName:"Ad",width:300,height:250,multiPage:!0,templates:{blank:{width:300,height:250}}},adLargeRectangle:{name:"Ad (Large Rectangle)",sentenceName:"Ad",width:336,height:280,multiPage:!0,templates:{blank:{width:336,height:280}}},adLeaderboard:{name:"Ad (Leaderboard)",sentenceName:"Ad",width:728,height:90,multiPage:!0,templates:{blank:{width:728,height:90}}},adWideSkyscraper:{name:"Ad (Wide Skyscraper)",sentenceName:"Ad",width:160,height:600,multiPage:!0,templates:{blank:{width:160,height:600}}},
ebayLogo:{name:"eBay Logo",sentenceName:"eBay logo",width:300,height:300,multiPage:!0,templates:{blank:{width:300,height:300}}},eventBanner:{name:"Event Banner",sentenceName:"event banner",width:960,height:240,multiPage:!0,templates:{blank:{width:960,height:240}}},twitterPost:{name:"Twitter Post",sentenceName:"Twitter post",width:1024,height:512,multiPage:!0,templates:{blank:{width:1024,height:512}}},instagramPost:{name:"Instagram Post",sentenceName:"Instagram post",width:640,height:640,multiPage:!0,
templates:{blank:{width:640,height:640}}},pozibleBanner:{name:"Pozible Banner",sentenceName:"Pozible banner",width:596,height:366,multiPage:!0,templates:{blank:{width:596,height:366}}},profilePicture:{name:"Profile Picture",sentenceName:"profile picture",width:600,height:600,multiPage:!0,templates:{blank:{width:600,height:600}}},onboardingDesign:{name:"Onboarding Design",sentenceName:"onboarding design",width:940,height:788,multiPage:!0,templates:{blank:{width:940,height:788}}},blogHeader:{name:"Blog Header",
sentenceName:"blog header",width:1163,height:539,multiPage:!0,templates:{blank:{width:1163,height:539}}},youtubeChannelArt:{name:"Youtube Channel Art",sentenceName:"Youtube Channel art",width:2560,height:1440,multiPage:!0,templates:{blank:{width:2560,height:1440}}},youtubeThumbnail:{name:"Youtube Thumbnail",sentenceName:"Youtube thumbnail",width:1280,height:720,multiPage:!0,templates:{blank:{width:1280,height:720}}},TABQqtO7tYQ:{name:"Infographic",sentenceName:"infographic",width:800,height:2E3,multiPage:!0,
templates:{blank:{width:800,height:2E3}}},certificate:{name:"Certificate",sentenceName:"certificate",width:1056,height:816,dpi:300,multiPage:!0,templates:{blank:{width:1056,height:816,dpi:300}}},worksheet:{name:"Worksheet",sentenceName:"worksheet",width:816,height:1056,dpi:300,multiPage:!0,templates:{blank:{width:816,height:1056,dpi:300}}},foodDrinkMenu:{name:"Food \x26 Drink Menu",sentenceName:"food \x26 drink menu",width:816,height:1056,dpi:300,multiPage:!0,templates:{blank:{width:816,height:1056,
dpi:300}}},catalog:{name:"Catalog",sentenceName:"catalog",width:816,height:1056,dpi:300,multiPage:!0,templates:{blank:{width:816,height:1056,dpi:300}}},brochure:{name:"Brochure",sentenceName:"brochure",width:816,height:1056,dpi:300,multiPage:!0,templates:{blank:{width:816,height:1056,dpi:300}}},TABQqpdwi18:{name:"Gift Certificate",sentenceName:"gift certificate",width:576,height:384,dpi:300,multiPage:!0,templates:{blank:{width:576,height:384,dpi:300}}},promotion:{name:"In-store Promotion",sentenceName:"in-store promotion",
width:816,height:1056,dpi:300,multiPage:!0,templates:{blank:{width:816,height:1056,dpi:300}}},TABQqumtl1k:{name:"Flyer",sentenceName:"flyer",width:480,height:672,dpi:300,multiPage:!0,templates:{blank:{width:480,height:672,dpi:300}}},productLabel:{name:"Product Label",sentenceName:"product label",width:480,height:288,dpi:300,multiPage:!0,templates:{blank:{width:480,height:288,dpi:300}}},TABQqu1V70w:{name:"Wedding Invitation",sentenceName:"wedding invitation",width:480,height:672,dpi:300,multiPage:!0,
templates:{blank:{width:480,height:672,dpi:300}}},custom:{name:"Custom",sentenceName:"design",multiPage:!0,templates:{blank:{}}},fusionContents:{name:"Contents",sentenceName:"contents",width:794,height:1123,dpi:300,multiPage:!0,templates:{blank:{width:794,height:1123,dpi:300,elements:[{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:57,top:0,width:1,height:1123},{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:737,top:0,width:1,height:1123},{type:"fixed",placeholder:"FUSION_HORIZONTAL_DANGER_GUIDE",
left:0,top:57,width:794,height:1},{type:"fixed",placeholder:"FUSION_HORIZONTAL_DANGER_GUIDE",left:0,top:1066,width:794,height:1}]}}},fusionArticle:{name:"Article",sentenceName:"article",width:794,height:1123,dpi:300,multiPage:!0,templates:{blank:{width:794,height:1123,dpi:300,elements:[{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:57,top:0,width:1,height:1123},{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:737,top:0,width:1,height:1123},{type:"fixed",placeholder:"FUSION_HORIZONTAL_DANGER_GUIDE",
left:0,top:57,width:794,height:1},{type:"fixed",placeholder:"FUSION_HORIZONTAL_DANGER_GUIDE",left:0,top:1066,width:794,height:1}]}}},fusionPhoto:{name:"Photo Page",sentenceName:"photo page",width:794,height:1123,dpi:300,multiPage:!0,templates:{blank:{width:794,height:1123,dpi:300,elements:[{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:57,top:0,width:1,height:1123},{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:737,top:0,width:1,height:1123},{type:"fixed",placeholder:"FUSION_HORIZONTAL_DANGER_GUIDE",
left:0,top:57,width:794,height:1},{type:"fixed",placeholder:"FUSION_HORIZONTAL_DANGER_GUIDE",left:0,top:1066,width:794,height:1}]}}},fusionGroupPhoto:{name:"Group Photo Page",sentenceName:"group photo page",width:794,height:1123,dpi:300,multiPage:!0,templates:{blank:{width:794,height:1123,dpi:300,elements:[{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:57,top:0,width:1,height:1123},{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:737,top:0,width:1,height:1123},{type:"fixed",
placeholder:"FUSION_HORIZONTAL_DANGER_GUIDE",left:0,top:57,width:794,height:1},{type:"fixed",placeholder:"FUSION_HORIZONTAL_DANGER_GUIDE",left:0,top:1066,width:794,height:1}]}}},fusionProfile:{name:"Profile Page",sentenceName:"profile page",width:794,height:1123,dpi:300,multiPage:!0,templates:{blank:{width:794,height:1123,dpi:300,elements:[{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:57,top:0,width:1,height:1123},{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:737,top:0,
width:1,height:1123},{type:"fixed",placeholder:"FUSION_HORIZONTAL_DANGER_GUIDE",left:0,top:57,width:794,height:1},{type:"fixed",placeholder:"FUSION_HORIZONTAL_DANGER_GUIDE",left:0,top:1066,width:794,height:1}]}}},fusionPassport:{name:"Passport Page",sentenceName:"passport page",width:794,height:1123,dpi:300,multiPage:!0,templates:{blank:{width:794,height:1123,dpi:300,elements:[{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:57,top:0,width:1,height:1123},{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",
left:737,top:0,width:1,height:1123},{type:"fixed",placeholder:"FUSION_HORIZONTAL_DANGER_GUIDE",left:0,top:57,width:794,height:1},{type:"fixed",placeholder:"FUSION_HORIZONTAL_DANGER_GUIDE",left:0,top:1066,width:794,height:1}]}}},fusionAutograph:{name:"Autograph Page",sentenceName:"autograph page",width:794,height:1123,dpi:300,multiPage:!0,templates:{blank:{width:794,height:1123,dpi:300,elements:[{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:57,top:0,width:1,height:1123},{type:"fixed",
placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:737,top:0,width:1,height:1123},{type:"fixed",placeholder:"FUSION_HORIZONTAL_DANGER_GUIDE",left:0,top:57,width:794,height:1},{type:"fixed",placeholder:"FUSION_HORIZONTAL_DANGER_GUIDE",left:0,top:1066,width:794,height:1}]}}},fusionCover:{name:"Yearbook Cover",sentenceName:"yearbook cover",width:1606,height:1123,dpi:300,multiPage:!0,templates:{blank:{width:794,height:1123,dpi:300,elements:[{type:"fixed",placeholder:"FUSION_SPINE_GUIDE",left:794,top:0,width:2,
height:1123,transparency:15},{type:"fixed",placeholder:"FUSION_SPINE_GUIDE",left:810,top:0,width:2,height:1123,transparency:15},{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:57,top:0,width:1,height:1123},{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:737,top:0,width:1,height:1123},{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:869,top:0,width:1,height:1123},{type:"fixed",placeholder:"FUSION_VERTICAL_DANGER_GUIDE",left:1549,top:0,width:1,height:1123},{type:"fixed",
placeholder:"FUSION_HORIZONTAL_COVER_DANGER_GUIDE",left:0,top:57,width:1606,height:1},{type:"fixed",placeholder:"FUSION_HORIZONTAL_COVER_DANGER_GUIDE",left:0,top:1066,width:1606,height:1}]}}},TABQquexRPQ:{name:"Magazine Cover",sentenceName:"magazine cover",width:816,height:1056,dpi:300,multiPage:!0,templates:{blank:{width:816,height:1056,dpi:300}}},TABQqvMf5YM:{name:"Desktop Wallpaper",sentenceName:"desktop wallpaper",width:1920,height:1080,dpi:300,multiPage:!0,templates:{blank:{width:1920,height:1080,
dpi:300}}},TABQqnNW0R8:{name:"Tumblr Graphic",sentenceName:"tumblr graphic",width:540,height:810,dpi:300,multiPage:!0,templates:{blank:{width:540,height:810,dpi:300}}},TABQqru_B30:{name:"Tumblr Banner",sentenceName:"tumblr banner",width:3E3,height:1055,dpi:300,multiPage:!0,templates:{blank:{width:3E3,height:1055,dpi:300}}},TABQqppdmyw:{name:"Announcement",sentenceName:"announcement",width:480,height:672,dpi:300,multiPage:!0,templates:{blank:{width:480,height:672,dpi:300}}},TABQquggrwo:{name:"Greeting Card",
sentenceName:"greeting card",width:672,height:480,dpi:300,multiPage:!0,templates:{blank:{width:672,height:480,dpi:300}}},TABQqmfUPU8:{name:"iPhone 6",sentenceName:"iPhone 6",width:750,height:1334,dpi:300,multiPage:!0,templates:{blank:{width:750,height:1334,dpi:300}}},TABQqoz4upY:{name:"iPhone 6 Plus",sentenceName:"iPhone 6 Plus",width:1242,height:2208,dpi:300,multiPage:!0,templates:{blank:{width:1242,height:2208,dpi:300}}},TABQqvkTd7I:{name:"eBook",sentenceName:"eBook",width:1410,height:2250,dpi:300,
multiPage:!0,templates:{blank:{width:1410,height:2250,dpi:300}}},TABQqsLsPq0:{name:"Facebook Event Cover Photo",sentenceName:"Facebook event cover photo",width:784,height:295,dpi:300,multiPage:!0,templates:{blank:{width:784,height:295,dpi:300}}},TABQqvJFYqw:{name:"LinkedIn Background/Cover Image",sentenceName:"LinkedIn background/cover image",width:1400,height:425,dpi:300,multiPage:!0,templates:{blank:{width:1400,height:425,dpi:300}}},TABQqqKUufg:{name:"LinkedIn Career Opportunities Cover Image",
sentenceName:"LinkedIn career opportunities cover image",width:974,height:300,dpi:300,multiPage:!0,templates:{blank:{width:974,height:300,dpi:300}}},TABQqt_j8DY:{name:"iPad Wallpaper",sentenceName:"iPad wallpaper",width:2048,height:1536,dpi:300,multiPage:!0,templates:{blank:{width:2048,height:1536,dpi:300}}},TABQqmx_gkM:{name:"iPhone Wallpaper",sentenceName:"iPhone wallpaper",width:1136,height:640,dpi:300,multiPage:!0,templates:{blank:{width:1136,height:640,dpi:300}}},TABQqtk2ELE:{name:"Business Card (vertical)",
sentenceName:"business card (vertical)",width:189,height:322,dpi:300,multiPage:!0,templates:{blank:{width:189,height:322,dpi:300}}},TABQquqDyVY:{name:"Large Instagram",sentenceName:"large Instagram",width:1080,height:1080,dpi:300,multiPage:!0,templates:{blank:{width:1080,height:1080,dpi:300}}},TABQqiwF3Zk:{name:"Event Badges/IDs",sentenceName:"event badges/IDs",width:384,height:288,dpi:300,multiPage:!0,templates:{blank:{width:384,height:288,dpi:300}}},TABQqnlehdk:{name:"Etsy Shop Icon",sentenceName:"Etsy shop icon",
width:500,height:500,dpi:300,multiPage:!0,templates:{blank:{width:500,height:500,dpi:300}}},TABQqsrpGTg:{name:"Etsy Cover Photo",sentenceName:"Etsy cover photo",width:1200,height:300,dpi:300,multiPage:!0,templates:{blank:{width:1200,height:300,dpi:300}}},TABQqtdPlkk:{name:"Social Media (for Canva iPhone)",sentenceName:"Social media (for Canva iPhone)",width:1080,height:1080,dpi:300,multiPage:!0,templates:{blank:{width:1080,height:1080,dpi:300}}},TABQqs5Kbyc:{name:"Instagram Post",sentenceName:"Instagram post",
width:1080,height:1080,dpi:300,multiPage:!0,templates:{blank:{width:1080,height:1080,dpi:300}}}};function mg(a){a&&a.id&&null!=a.version&&(this.id=a.id,this.version=a.version)}function ng(a){return og(new mg(a.layout),a)}function og(a,b){$.extend(!0,a,_.omit(b,"layout"));return a}function pg(a){var b=new mg;a&&md[a]?($.extend(!0,b,md[a]),b.name=a):($.extend(!0,b,md.custom),b.name="custom",b.width=0,b.height=0);return b}f=mg.prototype;f.getName=function(){return this.name};
f.$e=function(){var a={elements:this.elements,width:this.width,height:this.height,dpi:this.dpi},b=this.serialize();if(b&&a.elements){var c=(new qg(b)).bj().serialize();a.elements.forEach(function(a){a.origin=c})}return a};f.serialize=function(){return this.id&&this.version?{id:this.id,version:this.version}:null};f.Z=function(a){this.width=a};f.W=function(a){this.height=a};f.A=function(){return this.width};f.B=function(){return this.height};f.ba=function(){return new K(0,0,this.A(),this.B())};
function rg(a){function b(a){return"fixed"===a.type}a=a.templates.blank;return a.elements?a.elements.filter(b):[]}function sg(a){a=rg(a);a=Array.min(_.pluck(a,"left"));return Math.min(0,a)}function tg(a){a=rg(a);a=Array.min(_.pluck(a,"top"));return Math.min(0,a)}function ug(a){var b=rg(a),b=Array.max(b.map(function(a){return a.top+a.height})),c=tg(a);return Math.max(a.height,b)-c}
function vg(a){var b=rg(a),b=Array.max(b.map(function(a){return a.left+a.width})),c=sg(a);return Math.max(a.width,b)-c}function wg(a){function b(a){a.mediaId&&c.push(new xg(a.mediaId,a.mediaVersion));a.fontMedia&&c.push(new xg(a.fontMedia.id,a.fontMedia.version));a.htmlFontMedia&&a.htmlFontMedia.forEach(function(a){c.push(new xg(a.id,a.version))})}var c=[];a.elements&&a.elements.length&&a.elements.forEach(function(a){b(a);a.contents&&a.contents.length&&a.contents.forEach(b)});return c};function yg(a){var b=Array.prototype.concat.apply([],arguments);b.length||(b=[1,0,0,0,1,0,0,0,1]);this.m=new Float32Array(b)}function zg(a){var b=new yg;b.m[2]=a[0];b.m[5]=a[1];return b}function Ag(a){return[a.m[2],a.m[5]]}f=yg.prototype;
f.multiply=function(a){var b=new yg;b.m[0]=this.m[0]*a.m[0]+this.m[1]*a.m[3]+this.m[2]*a.m[6];b.m[1]=this.m[0]*a.m[1]+this.m[1]*a.m[4]+this.m[2]*a.m[7];b.m[2]=this.m[0]*a.m[2]+this.m[1]*a.m[5]+this.m[2]*a.m[8];b.m[3]=this.m[3]*a.m[0]+this.m[4]*a.m[3]+this.m[5]*a.m[6];b.m[4]=this.m[3]*a.m[1]+this.m[4]*a.m[4]+this.m[5]*a.m[7];b.m[5]=this.m[3]*a.m[2]+this.m[4]*a.m[5]+this.m[5]*a.m[8];b.m[6]=this.m[6]*a.m[0]+this.m[7]*a.m[3]+this.m[8]*a.m[6];b.m[7]=this.m[6]*a.m[1]+this.m[7]*a.m[4]+this.m[8]*a.m[7];b.m[8]=
this.m[6]*a.m[2]+this.m[7]*a.m[5]+this.m[8]*a.m[8];this.m=b.m;return this};f.transform=function(a){var b=new yg;b.m=this.m;this.m=a.m;return this.multiply(b)};f.translate=function(a,b){var c=new yg;c.m[2]=a;c.m[5]=b;return this.transform(c)};f.reflect=function(){var a=new yg;a.m[0]=-1;a.m[4]=-1;return this.transform(a)};f.scale=function(a,b){var c=new yg;c.m[0]=a;c.m[4]=void 0===b?a:b;return this.transform(c)};
f.rotate=function(a){if(0===a||360===Math.abs(a))return this;var b=new yg,c=a*Math.PI/180;a=Math.cos(c);c=Math.sin(c);b.m[0]=a;b.m[1]=c;b.m[3]=-1*c;b.m[4]=a;return this.transform(b)};f.toArray=function(){return Array.prototype.slice.call(this.m)};function Bg(){this.r=255;this.g=0;this.b=255;this.h=300;this.s=100;this.Vk=50}function Cg(a,b,c,d){a.h=b;a.s=c;a.Vk=d;var e;e=b/60;c/=100;d/=100;b=Math.floor(e);var g=e-b;e=d*(1-c);var h=d*(1-g*c);c=d*(1-(1-g)*c);b%=6;d=[Math.round(255*[d,h,e,e,c,d][b]),Math.round(255*[c,d,d,h,e,e][b]),Math.round(255*[e,e,c,d,d,h][b])];a.r=d[0];a.g=d[1];a.b=d[2];return a}
function Dg(a,b,c,d){a.r=b;a.g=c;a.b=d;var e;b=a.r;c=a.g;d=a.b;b/=255;c/=255;d/=255;var g=Math.max(b,c,d),h=Math.min(b,c,d);if(g==h)e=h=0;else{var k=g-h,h=k/g;switch(g){case b:e=(c-d)/k+(c<d?6:0);break;case c:e=(d-b)/k+2;break;case d:e=(b-c)/k+4}e/=6}e=[360*e,100*h,100*g];a.h=e[0];a.s=e[1];a.Vk=e[2];return a}
function Eg(a){var b=new Bg;if(!/^#?[0-9a-z]*$/i.test(a))throw new SyntaxError('Invalid hexadecimal color: "'+a+'"');"#"==a.charAt(0)&&(a=a.slice(1));var c=Math.ceil(a.length/3);return Dg(b,Fg(a,0*c,c),Fg(a,1*c,c),Fg(a,2*c,c))}function Gg(a){return 0==(a.r&-256|a.g&-256|a.b&-256)}f=Bg.prototype;f.X=function(){return"#"+(256+this.r).toString(16).slice(-2)+(256+this.g).toString(16).slice(-2)+(256+this.b).toString(16).slice(-2)};f.clone=function(){var a=new Bg;Dg(a,this.r,this.g,this.b);return a};
f.distanceTo=function(a){var b=(this.r+a.r)/2,c=this.r-a.r,d=this.g-a.g;a=this.b-a.b;return(512+b)*c*c/256+4*d*d+(767-b)*a*a/256};function Hg(a){return Math.round(Math.sqrt(.241*a.r*a.r+.691*a.g*a.g+.068*a.b*a.b))}f.equals=function(a){return a&&a.X()==this.X()};f.serialize=Bg.prototype.X;f.toString=Bg.prototype.X;
function Q(a){if(a){a=String(a);try{if("#"==a.slice(0,1))return Eg(a);if("hsl("==a.slice(0,4)){var b=new Bg,c=/^hsl\((\d*(?:\.\d+)?),\s*(\d*(?:\.\d+)?)%,\s*(\d*(?:\.\d+)?)%\)$/.exec(a);if(!c)throw new SyntaxError('Invalid HSL color: "'+a+'"');var d,e=+c[2],g=+c[3],e=e/100,g=g/100,h=e*(.5>g?g:1-g),k=g+h;d=[+c[1],100*(0<g?2*h/k:e),100*k];return Cg(b,d[0],d[1],d[2])}if("rgb("==a.slice(0,4)){h=new Bg;k=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(a);if(!k)throw new SyntaxError('Invalid RGB color: "'+a+'"');
return Dg(h,+k[1],+k[2],+k[3])}if(6===a.length)return Eg("#"+a)}catch(l){}}return null}function Ig(a,b,c){0>c&&(c+=1);1<c&&--c;return c<1/6?a+6*(b-a)*c:.5>c?b:c<2/3?a+(b-a)*(2/3-c)*6:a}function Fg(a,b,c){var d=parseInt(a.charAt(b),16)|0;return 16*d+(1==c?d:parseInt(a.charAt(b+1),16)|0)};var Jg=_.template('\x3cdiv class\x3d"colorPicker showColorCode"\x3e\x3ca class\x3d"enterColorCode" href\x3d"#"\x3e\x26#xe003;\x3c/a\x3e\x3cdiv class\x3d"colorPickerSpectrum"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"colorPickerBrightness"\x3e\x3cdiv class\x3d"marker"\x3e\x3c/div\x3e\x3c/div\x3e\x3cul class\x3d"colorPickerSlots"\x3e\x3c/ul\x3e\x3cdiv class\x3d"colorPickerColorCode"\x3e\x3c%- colorCodeLabel %\x3e #\x3cinput class\x3d"colorPickerColorCodeHex" maxlength\x3d"8" name\x3d"colorPickerColorCodeHex" /\x3e\x3c/div\x3e\x3c/div\x3e');
function Kg(a,b,c,d){function e(a){var b=g.data("angle")||0,c=g.data("radius")||0,d=g.data("distance")||0;if(b=Cg(new Bg,b,100*c,100*(1-d)))l.css("background-color",Cg(new Bg,b.h,b.s,100).X()),$(".colorPickerColorCodeHex",g).val(b.X().slice(1)),a&&a(b)}var g=$(Jg({colorCodeLabel:a.format("colorPickerColorCode")}));g.data("canvaPicker",this).on("mousedown",!1).on("click",!1);Lg(g,b);var h=$(".colorPickerSpectrum",g),k=$(".marker",h),l=$(".colorPickerBrightness",g),m=$(".marker",l),n=$(".colorPickerColorCodeHex",
g);b&&n.val(b.X().slice(1));(new S(h)).on("touchstart+mousedown",function(a){function b(a){var d=$("body").scrollLeft()||$("html").scrollLeft(),h=$("body").scrollTop()||$("html").scrollTop(),d=(void 0!==a.clientX?a.clientX:a.touches[0].clientX)+d-l.left;a=(void 0!==a.clientY?a.clientY:a.touches[0].clientY)+h-l.top;var h=Pg(m/2,x/2,d,a),n=h*Math.PI/180,p=Qg(d,a,m/2,x/2);p>z&&(p=z,a=Math.sin(n)*z+m/2,d=Math.cos(n)*z+x/2);n=p/z;g.data("angle",h).data("radius",n);k.css("left",d).css("top",a);c&&e(c);
return!1}function d(){h.removeClass("mousedown");e(c);G.off("mousemove|touchmove",b).off("mouseup|touchend",d);return!1}var l=h.offset(),m=h.width(),x=h.height(),y=parseInt(k.css("margin-top"),10),z=m/2+y;h.addClass("mousedown");n.blur();var G=new S($(document));G.on("mousemove|touchmove",b).on("mouseup|touchend",d);b(a);return!1});(new S(n)).on("touchstart+mousedown",function(){$(this).focus().select()}).on("keyup",function(a){var b=$(this).val().replace(/\u200B/g,"").replace(/\u200E/g,"").split("").filter(function(a){return 0<=
"0123456789abcdef".indexOf(a.toLowerCase())}).join("").substring(0,6);b!==$(this).val()&&$(this).val(b);6===b.length&&(b=Q("#"+b),Lg(g,b),c(b));(13===a.which||27===a.which)&&d&&d()});(new S(l)).on("touchstart+mousedown",function(a){function b(a){a=(void 0!==a.clientX?a.clientX:a.touches[0].clientX)-h.left;a<-y?a=-y:a>z&&(a=z);g.data("distance",(a+y)/(z+y));m.css("left",a);e(c);return!1}function d(){l.removeClass("mousedown");e(c);G.off("mousemove|touchmove",b).off("mouseup|touchend",d);return!1}var h=
l.offset(),k=l.outerWidth(),x=m.outerWidth(),y=parseInt(m.css("margin-left"),10);l.addClass("mousedown");n.blur();var z=k-x-y,G=new S($(document));G.on("mousemove|touchmove",b).on("mouseup|touchend",d);b(a);return!1});this.element=g}Kg.prototype.remove=function(){this.element.remove()};
function Lg(a,b){var c=$(".colorPickerSpectrum",a),c=$(".marker",c),d=$(".colorPickerBrightness",a),e=$(".marker",d);b?(a.data("angle",b.h).data("radius",b.s/100).data("distance",1-b.Vk/100),c.css("left",Math.round(Math.min(90,b.s/100*100)*Math.cos(b.h*Math.PI/180)+100)).css("top",Math.round(Math.min(90,b.s/100*100)*Math.sin(b.h*Math.PI/180)+100)),e.css("left",Math.round(Math.min(190,Math.max(10,200*(1-b.Vk/100))))),d.css("background-color",Cg(new Bg,b.h,b.s,100).X())):(c.css("left",100).css("top",
100),e.css("left",10),d.css("background-color",""))};function Rg(a){this.view=null;this.Ka=a.Ka;this.$c=a.$c;this.Tb=a.Tb||null;this.ig=void 0===a.ig||a.ig;this.Yn=this.Xn=this.ff=null;this.Bp=!1;this.Fe=a.Fe;this.mf=!!a.mf;(this.Xr=!a.Ny)&&Sg.push(this)}var Sg=[];function Tg(){Sg.slice(0).forEach(function(a){a.remove()})}f=Rg.prototype;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;
function Ug(a,b,c){var d=document.body;a.Xn=b;a.Yn=c;a.view||(a.view=a.ql(),a.view.render().$el.appendTo(d));Vg(new Wg({toolbar:b,Cq:a.view.$el.get(0)}),c,d)}function Xg(a){a.Bp&&(a.Bp=!1,a.trigger("confirmColor"))}function Yg(a,b,c){return a.view?b===a.Xn&&(!c||c===a.Yn):!1}f.ql=function(){var a=new Zg({ej:$g(this),colors:ah(this),Tb:this.Tb,ig:this.ig,mf:this.mf});this.listenTo(a,{addColor:this.BA,updateColor:this.zq,dragColor:this.Uf,removeColor:this.gC,overlayClick:this.aC});return a};
f.remove=function(){this.Uf();Xg(this);this.stopListening();this.view&&this.view.remove();this.Yn=this.Xn=this.view=null;this.Xr&&(Sg.splice(Sg.indexOf(this),1),this.Xr=!1)};f.Uf=function(){if(this.ff){this.ff.remove();this.ff=null;var a=this.view;a.rl=null;var b=ah(this);a.colors=[].concat(b);if(a=a.render().$(".colorPaletteStandard").get(0))a.scrollTop=a.scrollHeight-a.getBoundingClientRect().height;this.Tb&&bh(this.$c,this.Tb)}};
function $g(a){function b(a){return Q("#"+ch(a))}return(a=function(){try{var a;var b=this.Ka;a=b.colorPalettes?b.colorPalettes.filter(Boolean).map(dh):void 0;return a[0]}catch(e){return null}}.call(a))?a.Qe().map(b).filter(Boolean):[]}function ah(a){var b=$g(a).map(function(a){return a.X()});return a.$c.Ue().Qe().filter(function(a){return 0>b.indexOf(a.X())})}f.xw=function(a){this.Tb=a.clone();this.trigger("updateColor",this.Tb);this.Bp=!0;this.ff&&(a=this.view,a.rl=this.Tb,a.render())};
f.BA=function(a){if(this.ff)this.Uf(),Xg(this);else{this.ff=new Kg(this.Fe,this.Tb||Q("#ffffff"),this.dC.bind(this),this.eC.bind(this));var b=this.ff;a=a.currentTarget;var c=a.ownerDocument.body,d=a.getBoundingClientRect();a=d.left+d.width/2;var d=d.top+d.height/2,e;b.element.appendTo(c);c=c.getBoundingClientRect();if(e=b.element.get(0)&&b.element.get(0).getBoundingClientRect())a+7+e.width<c.width?b.element.css("left",a+7+"px"):b.element.css("left",a-7-e.width+"px"),d+7+e.height<c.height?b.element.css("top",
d+7+"px"):b.element.css("top",d-7-e.height+"px");this.trigger("showPicker")}};f.aC=function(){this.Uf()};f.dC=function(a){this.xw(a)};f.eC=function(){this.Uf()};f.gC=function(a){eh(this.$c,a);a=this.view;var b=ah(this);a.colors=[].concat(b);a.render()};f.zq=function(a){var b=this.Tb;if(b&&a?b.X()!==a.X():b!==a)this.xw(a),this.ff?Lg(this.ff.element,this.Tb):Xg(this)};function Zg(){}Zg=Backbone.View.extend({tagName:"div",className:"colorPalette"});f=Zg.prototype;f.initialize=function(a){this.ej=[].concat(a.ej);this.colors=[].concat(a.colors);this.Tb=a.Tb;this.ig=a.ig;(this.mf=a.mf)&&this.$el.addClass("colorPaletteScrollable");this.rl=this.draggable=null;this.du=!1};
f.events=function(){return{touchClick:this.RB,"touchClick .colorPaletteSwatchSelect":this.zq,"touchClick .colorPaletteSwatchAdd":this.trigger.bind(this,"addColor"),"mousedown .colorPaletteStandard .colorPaletteSwatchSelect":this.fC,"startdrag .colorPaletteSwatch":this.wC}};
f.render=function(){this.du?this.$(".colorPaletteStandard").html(fh(this)):(this.$el.html([0===this.ej.length?"":this.pv({paletteClass:1===this.ej.length?"colorPaletteBrandSingle":"colorPaletteBrand",itemsHtml:this.ej.map(this.Nv.bind(this)).join("")}),this.pv({paletteClass:"colorPaletteStandard scrollPane",itemsHtml:fh(this)})].filter(Boolean).join(this.QD())),this.mf&&new gh(this.$(".colorPaletteStandard")),this.du=!0);return this};
function fh(a){var b=a.colors.map(a.Nv.bind(a));a.ig&&b.push(a.kx({pickerColor:a.rl&&a.rl.X()}));return b.join("")}f.aB=function(a){for(var b=!0;b&&a.parentElement;)b=a!==this.$el[0],a=a.parentElement;b&&(a=$(this.draggable.target).css("background-color"),this.trigger("removeColor",Q(a)))};f.RB=function(a){$(a.target).is(".colorPalette \x3e menu")&&this.trigger("overlayClick")};
f.fC=function(a){var b=a.originalEvent;if(0===b.button&&a.target){var c=new hh({target:a.target}),d=b.clientY;c.xl.x=b.clientX;c.xl.y=d;c.Ke=c.target.cloneNode(!0);document.addEventListener("mousemove",c.Ru);document.addEventListener("mouseup",c.Su);this.draggable=c;this.listenTo(this.draggable,{end:this.aB,start:this.trigger.bind(this,"dragColor")});a.preventDefault()}};f.wC=function(a){a.preventDefault()};f.zq=function(a){(a=Q($(a.target).css("color")))&&this.trigger("updateColor",a)};
f.Nv=function(a){var b=["colorPaletteSwatchSelect"];this.Tb&&this.Tb.X()===a.X()&&b.push("colorPaletteSwatchActive");return this.Gg({color:a.X(),classes:b.join(" ")})};f.kx=_.template('\x3cli class\x3d"colorPaletteSwatch colorPaletteSwatchAdd"\x3c% if (pickerColor) { %\x3e style\x3d"color: \x3c%- pickerColor %\x3e"\x3c% } %\x3e\x3e\x3c/li\x3e');f.pv=_.template('\x3cmenu class\x3d"colorPaletteSwatchGroup \x3c%- paletteClass %\x3e"\x3e\x3c%\x3d itemsHtml %\x3e\x3c/menu\x3e');f.Gg=_.template('\x3cli class\x3d"colorPaletteSwatch \x3c%- classes %\x3e" style\x3d"color: \x3c%- color %\x3e"\x3e\x3c/li\x3e');
f.QD=_.template('\x3chr class\x3d"colorPaletteSeparator"\x3e');function hh(a){this.target=a.target;this.Ke=null;this.xl={x:0,y:0};this.yl=void 0!==a.yl?a.yl:5;this.st=!1;this.Ok=null;this.Ru=this.Hz.bind(this);this.Su=this.Iz.bind(this)}f=hh.prototype;f.trigger=Backbone.Events.trigger;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;
f.release=function(a){document.removeEventListener("mousemove",this.Ru);document.removeEventListener("mouseup",this.Su);$(this.target).removeClass("fauxDraggerTarget");this.Ke&&this.Ke.parentNode&&this.Ke.parentNode.removeChild(this.Ke);this.Ke=null;this.trigger("end",a);this.off()};f.Hz=function(a){var b=a.pageX-this.xl.x;a=a.pageY-this.xl.y;this.st?$(this.Ke).css("top",this.Ok.top+a+"px").css("left",this.Ok.left+b+"px"):(Math.abs(b)>this.yl||Math.abs(a)>this.yl)&&this.Oo()};
f.Iz=function(a){a.preventDefault();a.target instanceof Element&&this.release(a.target)};f.Oo=function(){this.Ok=this.target.getBoundingClientRect();$(this.Ke).css("top",this.Ok.top+"px").css("left",this.Ok.left+"px").addClass("fauxDraggerClone");$(this.target).addClass("fauxDraggerTarget");document.body.appendChild(this.Ke);this.trigger("start");this.st=!0};function ih(a,b){this.item={elements:[],nk:null,timestamp:0};this.hn=a;this.kw=(b||"anonymous")+"-copybuffer"}function jh(a){var b=JSON.stringify({elements:a.item.elements.map(function(a){return a.serialize()}),timestamp:a.item.timestamp});try{a.hn.setItem(a.kw,b)}catch(c){}}function kh(a){var b;return a.hn&&(b=a.hn.getItem(a.kw))&&(b=JSON.parse(b),b.timestamp>a.item.timestamp)?{elements:(b.elements||[]).map(function(a){return Cc(a)}),nk:null,timestamp:b.timestamp}:null}
function lh(a,b){var c=Va;c.item.timestamp=Date.now();c.item.elements=a;c.item.nk=b?b:null;c.hn&&jh(c)}function mh(){var a=Va,b=kh(a);return b?b:{elements:a.item.elements,nk:a.item.nk,timestamp:a.item.timestamp}};function nh(a){this.sw=a||null;this.Xk=this.sk=null;this.wu=!1}nh.prototype.read=function(a){this.sk||(oh++,ph.splice(oh,0,this));this.sk=a;if(qh==rh||qh==sh)window.requestAnimationFrame(th),qh=uh;return this};nh.prototype.write=function(a){this.Xk||(vh++,wh.splice(vh,0,this));this.Xk=a;qh==rh&&(window.requestAnimationFrame(th),qh=uh);return this};nh.prototype.done=function(){this.wu=!0;xh(this)};function xh(a){!a.wu||a.sk||a.Xk||yh.push(a)}var yh=[];
function bd(a){var b=yh.pop();if(!b)return new nh(a);nh.call(b,a);return b}var rh=0,uh=1,sh=3,qh=rh,ph=[],wh=[],oh=0,vh=0;function th(){var a,b;qh=2;vh=-1;for(a=0;a<ph.length;a++){oh=a;var c=b=ph[a],d=c.sk;c.sk=null;d&&d.call(c.sw,c);xh(b)}ph.length=0;oh=-1;qh=sh;for(a=0;a<wh.length;a++)vh=a,c=b=wh[a],d=c.Xk,c.Xk=null,d&&d.call(c.sw,c),xh(b);wh.length=0;vh=-1;qh!=uh&&(qh=rh)};function zh(){this.R=va;this.url="/designschool"}function Ah(a){var b=u.ya();return td(a.R,a.url+"/"+encodeURIComponent(b)+"/complete",null).get(0).then(Bh)};function Ch(){}function Bh(a){return Object.freeze(D(Ch,a))};function Dh(a){this.valid=!0;var b;b=a.action;var c=_.values(Eh);b&&-1<c.indexOf(b)||(this.valid=!1,b=null);this.action=b;this.param=Fh(this,a.param)}var Eh={LF:"tab",Yw:"search",yF:"folder"};function Gh(){var a=window.location.hash;if(!a)return{};a=a.slice(1).split("\x3d");return 2!==a.length?{}:{action:a[0],param:a[1]}}
function Fh(a,b){if(!a.action||!a.valid)return null;var c=a.action,d=_.values($a);return"tab"===c&&-1===d.indexOf(b)||!/^[\w ]+$/.test(b)?(a.action=null,a.valid=!1,null):b||null}Dh.prototype.isValid=function(){return this.valid};function Hh(a){this.colors=Ih(a)}function Ih(a){if(a){var b={};a.forEach(function(a){var d=a.X();!b.hasOwnProperty(d)&&Gg(a)&&(b[d]=a)});return _.values(b)}return gb.map(Q)}function Jh(a,b){return 0<=Kh(a).indexOf(b.X())}f=Hh.prototype;f.mc=function(){delete this.so;delete this.SF};f.fd=function(a){Gg(a)&&!Jh(this,a)&&(this.colors.push(a),this.mc())};f.unshift=function(a){Gg(a)&&!Jh(this,a)&&(this.colors.unshift(a),this.mc())};function Lh(){var a=new Hh;a.colors=[];a.mc();return a}
function Mh(a,b){b&&b.length&&b.forEach(function(b){a.fd(b)});a.mc();return a}f.Qe=function(){return this.colors};function Kh(a){a.so||(a.so=a.colors.map(function(a){return a.X()}));return a.so}f.serialize=function(){this.mc();return this.colors.filter(function(a){return-1==gb.indexOf(a.X())}).map(function(a){return a.serialize()})};function Nh(a){function b(){q&&(q=!1,$("#overlays .rotationGuide").addClass("willSnap"))}function c(a){a.shiftKey&&$("#overlays .rotationGuide").hasClass("willSnap")&&(q=!0,$("#overlays .rotationGuide").removeClass("willSnap"))}function d(a){var b=p+Pg(l,m,void 0!==a.clientX?a.clientX:a.touches[0].clientX,void 0!==a.clientY?a.clientY:a.touches[0].clientY)-r;$("#overlays .rotation.align").addClass("on");var c=b%45;0>c&&(c+=45);var d=b>n.Ga(),e=d&&42<c,d=!d&&3>c,g=3>c||42<c;if(a.shiftKey)x=!1,$("#overlays .rotationGuide").removeClass("willSnap"),
g||(q=!1);else{g?$("#overlays .rotationGuide").addClass("willSnap"):(x=!1,$("#overlays .rotationGuide").removeClass("willSnap"));if(x)return!1;e?(b=b+45-c,x=!0):d&&($("#overlays .rotationGuide").addClass("willSnap"),b-=c,x=!0)}a=b;$("#overlays .rotationGuide").css("transform",Oh({rotateZ:a}));c=a=b;0>c&&(c=360+c);v.html(Math.round(c)+"\x26deg;").css("transform",Oh({rotateZ:360-a}));Ph(n,b);n instanceof Qh&&Rh(n);return!1}function e(){Sh();n.uc=!1;w.off("mousemove|touchmove",d).off("mouseup|touchend",
e);g.removeClass("on");n.se&&n.se();$(".cornerHandles .rotate").empty();$("#overlays .align").removeClass("on");$("#overlays .rotationGuide").removeClass("willSnap");$(document).off("keydown",c);$(document).off("keydown",b);if(p!=n.Ga()){var a={elementIndex:n.V(),pageIndex:T(t,n.T()),"new":{rotation:n.Ga()},old:{rotation:p}};C.register(new V(Th,a))}}Uh();var g=$(this);g.addClass("on");var h=$(this).parents(".selectionBox").data("element"),k=h.offset(),l=k.left+h.width()/2,m=k.top+h.height()/2,n=h.data("canvaElement"),
p=n.Ga(),r=Pg(l,m,void 0!==a.clientX?a.clientX:a.touches[0].clientX,void 0!==a.clientY?a.clientY:a.touches[0].clientY),q=!1,v=$('\x3cspan class\x3d"degrees"\x3e\x3c/span\x3e');$(".cornerHandles .rotate").append(v);Tg();$(document).on("keydown",c);$(document).on("keyup",b);var w=new S($(document));n.uc=!0;w.on("mousemove|touchmove",d).on("mouseup|touchend",e);a=Vh(n);var x=!1,h=$("#overlays").get(0).getBoundingClientRect();$("#overlays .rotation.align").first().css("left",a.x-h.left+"px").css("top",
a.y-h.top+"px");$("#overlays .rotationGuide").first().css("left",a.x-h.left+"px").css("top",a.y-h.top+"px").css("margin-top",-1*Wh(n)/2+"px").css("height",Wh(n)+"px");return!1};function Xh(a,b,c,d){this.xa=c;this.jF=a;this.ad=b;this.L=d}Xh.prototype.go=function(a,b,c,d,e){a=a&&a.content;if(!a)throw Error("Malformed document. Missing content.");Yh(this,a,b,c,d,e)};
function Yh(a,b,c,d,e,g){b={content:b,ez:!(-1==od.indexOf(c.Id())&&!c.Id()),El:Zh(a.jF),Bf:c,jx:e,JE:g,L:a.L,Ka:d,Et:function(){var b=["C4W_UPGRADED_USER","C4W_INVITED_EXISTING_USER"],d=c.Id();if(t){-1!=od.indexOf(c.Id())&&(new $h(t,c)).go();var e=new ai(a.ad,c,a.L);"FREE_NEW_USER"===d?e.go():bi()?(e.go(),new ci):-1<b.indexOf(d)&&di({Id:d,ul:a.xa.ul(),iD:0<=rd(c).indexOf("TEAM_TEMPLATE")}).start()}}};ei(b)};function fi(a,b){function c(a){var b=Q(a.replace("!",""));b&&(/^!/gi.test(a)?d.Ah.fd(b):d.Pg.fd(b))}var d=this;this.ja=pg(a.layout);"custom"===this.ja.name&&a.pages&&a.pages[0]&&(this.ja.Z(a.pages[0].width),this.ja.W(a.pages[0].height));this.ow=a.pages||[];this.Yh=a.keywords||[];this.Pg=Lh();this.Ah=Lh();a.palette&&a.palette.length&&a.palette.forEach(c);this.O=[];this.cj=null;this.title=new gi(b,a.title,this.Ul());this.title.on("change",this.Kz.bind(this));this.ih={title:{},subtitle:{},body:{}};$.extend(this.ih,
a.defaultFonts);this.gj={title:{fontSize:42,fontFamily:"Abril Fatface"},subtitle:{fontSize:24,fontFamily:"Trocchi"},body:{fontSize:16,fontFamily:"Arimo"}};$.extend(this.gj,a.canvaDefaultFonts);var e=hi(this,a);e.pages?e.pages.forEach(function(a){d.O.push(new ii(d,a))}):this.O.push(new ii(this,this.$e()));ji(this,0)}f=fi.prototype;f.Ul=function(){var a;if(!(a=kd(this.ja.getName()))){a=ki(this);var b=li(this);a=new O("custom","Custom Dimensions",a,b,"px")}return a};f.$e=function(){return this.ja.$e()};
f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(fi.prototype,Backbone.Events);f=fi.prototype;f.Ue=function(){var a=this,b=this.Pg.Qe(),c=Lh(),d=[];b.forEach(function(a){c.fd(a)});this.O.forEach(function(b){b.Ue().Qe().forEach(function(b){Jh(a.Ah,b)||d.unshift(b)})});d.forEach(function(a){c.unshift(a)});return c};
function bh(a,b){if(!Jh(a.Pg,b)){a.Pg.fd(b);var c=a.Ah.Qe().filter(function(a){return a.X()!==b.X()});a.Ah=Mh(Lh(),c);a.trigger("paletteEntry:add",a,b)}}function eh(a,b){a.Ah.fd(b);var c=a.Pg.Qe().filter(function(a){return a.X()!==b.X()});a.Pg=Mh(Lh(),c);a.trigger("paletteEntry:remove",a,b)}function mi(a){return Kh(a.Pg).concat(a.Ah.Qe().map(function(a){return"!"+a.X()}))}
f.serialize=function(a){var b;b=this.O.reduce(function(b,d){d.zd||b.push(d.serialize(!!a));return b},[]);b={canvaDefaultFonts:this.gj,defaultFonts:this.ih,layout:this.ja.getName(),pages:b,palette:mi(this),title:this.title.yg()};this.Yh&&0<this.Yh.length&&(b.keywords=this.Yh);return b};f.Aa=function(){return this.title};f.Te=function(){return this.Yh};function ni(a,b){a.Yh=b;""!==a.Yh.join("")&&(a.trigger("change:keywords",a),a.trigger("change",a))}
function li(a){return a.ja.B()||(a.ow[0]||{}).height||0}function ki(a){return a.ja.A()||(a.ow[0]||{}).width||0}function I(a){for(var b=0;b<a.O.length;b++)if(a.O[b].selected)return a.O[b];return a.O[0]}f.St=function(){return this.O};f.Yl=function(){return this.O.length};function oi(a){return a.O.filter(function(a){return!a.zd})}f.Tp=function(){return!!this.ja.multiPage};
function ji(a,b){b=Math.min(Math.max(0,b),a.O.length-1);var c=a.O[b],d=c.selected;c.Xf(!0);d!==c.selected&&a.trigger("page:change:selected",a,c)}function T(a,b){return a.O.indexOf(b)}function pi(a){var b=new ii(a,a.$e());if(0<a.O.length){var c=qi(a.O[a.O.length-1]);0<c.length&&(c=c[c.length-1].clone(),c.appendTo(b),ri(c))}a.O.push(b);a.trigger("page:add",a,b);b.fa().forEach(function(a){b.trigger("element:add",b,a)});return b}
function si(a,b,c,d){var e=a.O.indexOf(b),g=!0;!1===d&&(g=!1);ti(b,a);-1==e?(a.O.splice(c,0,b),a.trigger("page:add",a,b,c,g)):(a.O.splice(c,0,a.O.splice(e,1)[0]),a.trigger("page:move",a,b,e,c));-1==e&&b.fa().forEach(function(a){b.trigger("element:add",b,a)})}function ui(a,b){var c=T(a,I(a)),d=a.O.indexOf(b);-1<d&&a.O.splice(d,1);ti(b,null);c>d&&c--;ji(a,Math.max(0,Math.min(a.O.length-1,c)));a.trigger("page:remove",a,b,d)}
f.pa=function(){var a=[],b=this.O.map(function(a){return a.pa()});return a.concat.apply(a,b)};function vi(){return t.O.some(function(a){return 0<a.pa().length})}f.fa=function(){var a=[],b=this.O.map(function(a){return a.fa()});return a.concat.apply(a,b)};function wi(a){a=a.fa();var b=a.filter(function(a){return a.Dg()});a.filter(function(a){return a.Rp()}).forEach(function(a){a.Rt().forEach(function(a){b.push(a)})});return b}
function xi(a){var b={};wi(a).filter(function(a){return a.Gc()}).map(function(a){return a.Gc()}).forEach(function(a){yi(ma,a)&&(b[a.F()]=a)});return _.values(b)}function zi(a){return wi(a).some(function(a){return(a=a.Gc())&&!yi(ma,a)?!0:!1})}function Ai(a,b,c){var d=a.ie(b);_.isEqual(c,d)||(a.ih[b]=$.extend(!0,{},c),a.trigger("change:defaultFont",a,b,c),a.trigger("change",a),Bi(a,b))}f.ie=function(a){return $.extend(!0,{},this.gj[a],this.ih[a])};
function Bi(a,b){var c=a.ie(b);c&&a.fa().filter(function(a){return a instanceof Ci&&a.style===b}).forEach(function(a){var b=$.extend(!0,{},a.xd),g;for(g in c)c.hasOwnProperty(g)&&!a.xd[g]&&(-1<Di.indexOf(g)&&("fontFamily"==g?a.Ce(0,c[g]):"fontSize"==g?a.jc(0,c[g]):"bold"==g?a.of(0,c[g]):"italic"==g?a.pf(0,c[g]):"justification"==g&&a.wd(0,c[g])),"color"==g&&a.setColor(0,Q(c[g])));a.xd=b;a.mc()})}
function hi(a,b){var c=$.extend(!0,{},b);(function(a){var b=[];(a.pages||[]).forEach(function(a){(a.elements||[]).forEach(function(a){"text"===a.type?b.push(a):"svg"===a.type&&a.contents&&a.contents.forEach(function(a){"text"===a.type&&b.push(a)})})});return b})(c).forEach(function(b){var c=Object.keys(jb).map(function(a){return jb[a]}),g=b.style;-1<c.indexOf(g)&&(c=a.ie(g),void 0===b.fontFamily&&(b.fontFamily=c.fontFamily),void 0===b.fontSize&&(b.fontSize=c.fontSize))});return c}
function Ei(a){function b(a){var e,g;for(g in a)a.hasOwnProperty(g)&&(e=a[g],c=c&&("number"===typeof e?!isNaN(e):!0),"object"==typeof e&&b(e));Array.isArray(a)&&a.forEach(function(a){c=c&&("number"===typeof a?!isNaN(a):!0);"object"==typeof e&&b(e)})}var c=!0;b(a);return c}f.isEmpty=function(){return 0===this.fa().length};f.Kz=function(){this.trigger("change:title",this);this.trigger("change",this)};f.resize=function(a){this.ja=a;this.O.forEach(function(b){b.resize(a)});this.trigger("resize");this.trigger("change")};
f.Yr=function(a){this.ja=pg(a.layout);this.ja.W(a.pages[0].height);this.ja.Z(a.pages[0].width);this.O.forEach(function(b,c){b.Yr(a.pages[c])});this.trigger("resize");this.trigger("change")};function Fi(){Error.captureStackTrace&&Error.captureStackTrace(this,Fi)}Fi.prototype=Object.create(Error.prototype);function Gi(){Fi.call(this)}Gi.prototype=Object.create(Fi.prototype);function Hi(){Fi.call(this)}Hi.prototype=Object.create(Fi.prototype);function Ii(){Fi.call(this)}Ii.prototype=Object.create(Fi.prototype);function Ji(){this.fr=[]}Ji.prototype.update=function(a){this.fr.push(a)};Ji.prototype.serialize=function(){if(0==this.fr.length)return null;var a=this.fr.reduce(function(a,c){a.min=Math.min(a.min,c);a.max=Math.max(a.max,c);a.mn+=c;a.count++;return a},{min:Infinity,max:-Infinity,count:0,mn:0});return{min:a.min,max:a.max,sum:a.mn,count:a.count,mean:a.mn/a.count}};function Ki(a){this.R=a;this.path="/documents"}f=Ki.prototype;f.duplicate=function(a){return td(this.R,this.path+"?duplicate\x3d"+encodeURIComponent(a.F()),a).get(0).then(Li)};f.move=function(a,b,c){return td(this.R,this.path+"/"+encodeURIComponent(a)+"?move",{owner:{user:b,brand:c}}).get(0).get("doc")};f.si=function(a){return td(this.R,this.path+"/"+encodeURIComponent(a)+"?publicify",null).return()};f.Ri=function(a){return td(this.R,this.path+"/"+encodeURIComponent(a)+"?unpublicify",null).return()};
f.co=function(a){return td(this.R,this.path+"/"+encodeURIComponent(a)+"?brandPublicify",null).return()};f.fo=function(a){return td(this.R,this.path+"/"+encodeURIComponent(a)+"?brandUnpublicify",null).return()};f.Pk=function(a){return td(this.R,this.path+"/"+encodeURIComponent(a)+"?templatify",null).return()};f.Sk=function(a){return td(this.R,this.path+"/"+encodeURIComponent(a)+"?untemplatify",null).return()};
function Mi(a,b){var c=[a.path+"?",null!=b.continuation?"\x26continuation\x3d"+encodeURIComponent(b.continuation):"",null!=b.designType?"\x26designType\x3d"+encodeURIComponent(b.designType):"",b.excludeApiDocuments?"\x26excludeApiDocuments":"",b.excludeEmpty?"\x26excludeEmpty":"",b.excludePages?"\x26excludePages":"",null!=b.ids?"\x26ids\x3d"+encodeURIComponent(b.ids):"",null!=b.limit?"\x26limit\x3d"+encodeURIComponent(b.limit):"",null!=b.principal?"\x26brand\x3d"+encodeURIComponent(b.principal.brand):
"",null!=b.principal?"\x26user\x3d"+encodeURIComponent(b.principal.user):"",null!=b.principalRole?"\x26principalRole\x3d"+encodeURIComponent(b.principalRole):"",b["public"]?"\x26public":"",b.published?"\x26published":"",null!=b.withoutTags?"\x26withoutTags\x3d"+encodeURIComponent(b.withoutTags):""].join("").replace("?\x26","?");return wd(a.R,c).spread(function(a){return{documents:Ni(a.documents),continuation:a.continuation}})}f.search=function(a){a=this.path+"/search?"+a.yd();return wd(this.R,a).get(0).then(Oi)};
function Pi(a){var b=pa;return wd(b.R,b.path+"/"+encodeURIComponent(a)+"/media").get(0).then(Qi)};function Ri(){this.remix=this.edit=this.view=this["default"]=null}function Si(a){var b=new Ri;a&&$.extend(b,a);return b}function Ti(){}function Li(a){return Object.freeze(D(Ti,a))}Ti.prototype.dG=function(){return Ui(this.document)};Ti.prototype.getSession=function(){return this.session};Ti.prototype.Yb=function(){if(this.type)return Object.freeze(D(Vi,this.type))};function Wi(){}Wi.prototype.Cn=function(a){this.ids=a.slice(0);return this};
function Xi(){var a=new Wi;a.excludeApiDocuments=!0;a.excludeEmpty=!0;return a}Wi.prototype.Wk=function(a,b){this.continuation=a;this.limit=b;return this};function Yi(a,b,c){a.principal={user:b,brand:c};a.principalRole="OWNER";return a}function Zi(){}Zi.prototype.sb=function(){return this.thumbnail};function $i(a){if(!a)return null;a=$.extend(new Zi,a);a.thumbnail&&(a.thumbnail=aj(a.thumbnail));a.preview&&(a.preview=aj(a.preview));return a}function bj(){}bj.prototype.B=function(){return this.height};
bj.prototype.sp=function(){return this.images};bj.prototype.S=function(){return this.version};bj.prototype.A=function(){return this.width};function aj(a){if(!a)return null;a=$.extend(new bj,a);if(a.images){var b;b=(b=a.images)?b.map(cj):null;a.images=b}return a}function dj(){}dj.prototype.T=function(){return this.page};dj.prototype.ca=function(){return this.url};function cj(a){return a?$.extend(new dj,a):null}function ej(){}ej.prototype.F=function(){return this.id};ej.prototype.S=function(){return this.version};
ej.prototype.sp=function(){return this.images};function fj(a){a=D(ej,a);var b=a.images;if(b)for(var c in b)b[c]=gj(b[c]);return a}function Qi(a){return a.map(fj)}function hj(){}function Oi(a){return Object.freeze(D(hj,a))}hj.prototype.am=function(){return this.results?this.results.map(ij):[]};function jj(){}function ij(a){return Object.freeze(D(jj,a))}jj.prototype.Aa=function(){return this.title};jj.prototype.Vl=function(){return this.layout};jj.prototype.F=function(){return this.id};
jj.prototype.sb=function(){return gj(this.thumbnail)};function kj(){}f=kj.prototype;f.Bj=function(){return this.extensions};f.F=function(){return this._id};f.je=function(){return this.draft};f.T=function(a){return this.je().content.pages[a]};f.Yl=function(){var a,b,c=0,d;if(a=this.draft){var e=a.imageSets;if("preview"in e)for(b=e.preview.images,a=0;a<b.length;a++)d=b[a].page,d>c&&(c=d);if("thumbnail"in e)for(b=e.thumbnail.images,a=0;a<b.length;a++)d=b[a].page,d>c&&(c=d)}return c};
f.Vt=function(){var a=this.draft;return a&&a.imageSets.thumbnail?a.imageSets.thumbnail.height:0};function lj(a,b){var c=a.draft;if(c&&c.imageSets&&c.imageSets.thumbnail)for(var c=c.imageSets.thumbnail.images,d=0;d<c.length;d++)if(c[d].page==b+1)return c[d].url;return null}f.Wt=function(){var a=this.draft;return a&&a.imageSets.thumbnail?a.imageSets.thumbnail.width:0};f.Aa=function(){try{return this.draft.content.title.trim()||null}catch(a){return null}};
f.S=function(){var a=this.draft;return a?a.version:-1};f.Eg=function(a,b){return this.acl?this.acl.rules.some(function(c){return c.role==mj&&c.principal.brand==b.F()&&c.principal.user==a.F()}):!1};var mj="OWNER";function Ui(a){var b=new kj;$.extend(b,a);b.extensions=Si(a.extensions);return b}function Ni(a){return a.map(function(a){return Ui(a)})};function pj(a,b,c,d){this.Ac=a;this.R=b;this.context=c;this.ag=null;this.Pr=d;this.Pf=!1;this.Kj=this.rv=this.nh=this.ni=this.tf=null}f=pj.prototype;f.start=function(){null!=this.context.id&&(qj(this,6666),rj(this))};function qj(a,b){b!=a.nh&&(null!=a.tf&&window.clearInterval(a.tf),a.nh=b,a.tf=null!=b?window.setInterval(function(){a.save()},b):null)}function rj(a){6E5!=a.rv&&(null!=a.ni&&window.clearInterval(a.ni),a.rv=6E5,a.ni=window.setInterval(function(){a.sync()},6E5))}
f.save=function(){this.context.ne()&&this.sync()};f.sync=function(){function a(a){var e=b.nh;a=a.throttle;if(b.ag==c){b.ag=null;var g=e;!0===a?g=Math.min(2*b.nh,6E5):!1===a&&(g=Math.max(b.nh-1E3,6666));g!=b.nh&&qj(b,g)}return e}if(this.Pf&&null!=this.context.id&&!this.ag){var b=this,c=new sj(b.R,b.context);b.ag=c;b.ag.sync().then(a).then(b.Pr.update.bind(b.Pr))}};
f.close=function(){this.Pf=!1;this.ag&&(this.ag.stop(),this.ag=null);this.tf&&(window.clearInterval(this.tf),this.tf=null);this.ni&&(window.clearInterval(this.ni),this.ni=null)};f.yr=function(a){this.context.yr(a)};f.post=function(a,b){var c;c=this.context;var d=null;3!=c.Vb&&(c.Vd!=a?(c.Vb=3,c.state=null):(c.Vb=0,c.state=b,c.Vd++,d=c.Vd));tj(c);c=d;null!=c&&(this.Kj=b);return c};f.bi=function(a){this.Kj||(this.Kj=a)};function uj(a,b){return!(!a.Kj||!_||_.isEqual(a.Kj,b))}
f.si=function(a){var b=this.context.F();if(this.context.ne())return P.reject(new Hi);if(!this.context.sd())return P.reject(new Gi);if(!b)return P.reject(new Ii);switch(a){case "BRAND":return this.Ac.co(b);case "GLOBAL":return this.Ac.si(b)}return P.reject(new Fi)};f.Ri=function(a){var b=this.context.F();if(!b)return P.reject(new Ii);switch(a){case "BRAND":return this.Ac.fo(b);case "GLOBAL":return this.Ac.Ri(b)}return P.reject(new Fi)};
f.Pk=function(){var a=this.context.F();return a?this.Ac.Pk(a):P.reject(Error("synced context has no id"))};f.Sk=function(){var a=this.context.F();return a?this.Ac.Sk(a):P.reject(Error("synced context has no id"))};f.ya=function(){return this.context.F()};function vj(a){return a.context.Bj()["default"]}function wj(){return u.context.Bj().edit}f.timestamp=function(){return this.context.Xt()};f.version=function(){return this.context.Vd};f.vb=function(){return this.context.vb};f.ne=function(){return this.context.ne()};
f.Vh=function(){return this.context.Vh()};f.state=function(){return this.context.sd()};function xj(a,b,c,d,e,g,h,k,l){this.id=a;this.Vd=c;this.ml=d;this.vb=e;this.Ek=g;this.state=k;this.Eu=null;this.timestamp=h;this.nz=l;this.Cu=this.Vb=b;this.pn=null}f=xj.prototype;f.F=function(){return this.id};f.Bj=function(){return this.nz};f.Xt=function(){return this.timestamp};f.ne=function(){return 0==this.Vb||1==this.Vb};f.Vh=function(){return 3!=this.Vb};f.sd=function(){return this.state};
f.yr=function(a){if(this.pn)throw Error("Cannot overwrite DocumentContext sync listener");this.pn=a};function yj(a,b,c){b==a.Vd&&c==a.vb&&0==a.Vb&&(a.Vb=1,tj(a))}function zj(a,b,c){3!=a.Vb&&a.vb==b&&(b=c.document.draft,b.version<=a.vb||(a.timestamp=b.timestamp,a.vb=b.version,a.Ek=b.session,a.Ek!=a.ml&&(a.Vd++,a.Vb=3,a.state=null),tj(a)))}function Aj(a,b,c,d,e){3!=a.Vb&&(e=e.document.draft,a.vb==d&&(a.Eu=b,a.Vd==c&&(a.Vb=2),a.timestamp=e.timestamp,a.vb=e.version,a.Ek=e.session,tj(a)))}
function Bj(a,b,c,d){3==a.Vb||a.vb>c||(a.timestamp=d.timestamp,a.vb=d.version,a.Ek=d.session,a.Ek!=a.ml?(a.Vd++,a.Vb=3,a.state=null):a.Vd==b&&(a.Vb=2),tj(a))}function tj(a){a.Vb!=a.Cu&&null!=a.id&&(a.Cu=a.Vb,a.pn&&a.pn(a.Vb))}function sj(a,b){this.R=a;this.context=b;this.bg=this.request=this.qb=null}function Cj(a){var b=.2*Math.random()-.1;return null==a?5E3:6E5<a?6E5:a*(1.6+b)}
sj.prototype.stop=function(){this.qb=null;this.request&&(this.request.cancel(),this.request=null);null!=this.bg&&(window.clearTimeout(this.bg),this.bg=null)};sj.prototype.sync=function(){if(this.qb)throw Error("already syncing");return new P(function(a){this.qb=a;Dj(this,Cj(null))}.bind(this))};sj.prototype.finish=function(a,b){var c=this.qb;c&&(this.qb=null,c({success:a,throttle:b}))};
function Ej(a,b){var c=null,d=!1,e=b;if(null!=a){var g=_.extend({},a),h=_.extend({},b),k=[],l;for(l in h)h.hasOwnProperty(l)&&"pages"!=l&&(_.isEqual(h[l],g[l])||k.push(l));g=g.pages;h=h.pages;if(g&&h){l=g.length==h.length;var m=!_.isEqual(g,h);if(0==k.length&&l&&m){for(k=0;k<g.length;k++)if(!_.isEqual(g[k],h[k]))if(null==c)c=k;else{c=null;break}null!=c&&(e=h[c])}else m||1!=k.length||"title"!=k[0]||(e={title:b.title},d=!0)}}return{KE:d,nv:c,ZC:e}}
function Dj(a,b){function c(c,e){window.clearTimeout(a.bg);a.request=null;a.bg=null;var g=e&&null!=e.throttle?!!e.throttle:null,l=!1;n&&200==c?Aj(d,m,h,k,e):n&&409==c?Bj(d,h,k,e):n||200!=c?0!=c&&(l=!0):zj(d,k,e);l?a.bg=window.setTimeout(function(){Dj(a,Cj(b))},b):a.finish(200==c,g)}var d=a.context,e=d.F(),g=d.ml,h=d.Vd,k=d.vb,l,m=d.sd(),n=d.ne();if(n&&m)l=Ej(d.Eu,m),e="/documents"+(null==e?"":"/"+encodeURIComponent(e)+"/content"),l.KE?e+="/title":null!=l.nv&&(e+="/pages/"+l.nv),e+="?version\x3d"+
encodeURIComponent(k.toString())+(null==g?"":"\x26session\x3d"+encodeURIComponent(g.toString()));else{if(null==e)return;e="/documents/"+encodeURIComponent(e)+(null==g?"":"?session\x3d"+encodeURIComponent(g.toString()))}a.bg=window.setTimeout(function(){var c=a.qb;a.qb=null;a.request&&a.request.cancel();a.request=null;a.bg=null;a.qb=c;Dj(a,Cj(b))},b);n?(a.request=a.R.post(e,l.ZC,null,c),yj(d,h,k)):a.request=a.R.get(e,c)};function Fj(a){this.R=a;this.url="/doctypes"}Fj.prototype.createDocumentType=function(a){return td(this.R,this.url,a).get(0).then(Gj)};function Hj(a,b){var c=a.url+"?"+b.yd();return wd(a.R,c).get(0).then(Ij)};function Jj(){}Jj.prototype.A=function(){return this.width};Jj.prototype.B=function(){return this.height};function Vi(){}Vi.prototype.sb=function(){if(this.thumbnail)return Object.freeze(D(Kj,this.thumbnail))};function Kj(){}Kj.prototype.A=function(){return this.width};Kj.prototype.getKey=function(){return this.key};Kj.prototype.ca=function(){return this.url};Kj.prototype.B=function(){return this.height};Vi.prototype.getName=function(){return this.name};Vi.prototype.F=function(){return this.id};
Vi.prototype.ea=function(){return this.brand};Vi.prototype.Hf=function(){if(this.dimensions)return Object.freeze(D(Jj,this.dimensions))};function Lj(){}function Gj(a){return Object.freeze(D(Lj,a))}Lj.prototype.F=function(){return this.id};function Mj(){}f=Mj.prototype;f.yd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};f.Dn=function(a){this.limit=a;return this};
f.An=function(a){this.continuation=a;return this};f.rd=function(){return this.limit};f.gc=function(){return this.continuation};function Nj(){}function Ij(a){return Object.freeze(D(Nj,a))}function Oj(a){if(a.docTypes)return a.docTypes.filter(function(a){return!!a}).map(function(a){return Object.freeze(D(Vi,a))})}Nj.prototype.gc=function(){return this.continuation};function Pj(a){this.R=a}function Qj(a){return"0"==a.toString()?"0":/^2[0-9]{2}$/.test(a.toString())?"2xx":/^3[0-9]{2}$/.test(a.toString())?"3xx":/^4[0-9]{2}$/.test(a.toString())?"4xx":/^5[0-9]{2}$/.test(a.toString())?"5xx":"418"}function Rj(a){this.cancel=a;this.$h=[]}Rj.prototype.cancel=function(){this.cancel&&this.cancel()};function Sj(a,b){a.$h.forEach(function(a){a.status!==b&&"*"!==a.status||a.handler(b)})}
Rj.prototype.on=function(a,b){1===arguments.length?this.$h.push({status:"*",handler:a}):this.$h.push({status:a,handler:b})};Rj.prototype.off=function(a,b){var c=[];this.$h.forEach(function(d){d.status===a&&d.handler===b&&c.push(d)});var d=this;c.forEach(function(){var a=d.$h.indexOf(c);d.$h.splice(a,1)})};Pj.prototype.pl=function(a,b,c){return this.R.post("/export",a,null,function(a,e){var g=new Tj(Qj(a));if(200==a){var h=Uj(e["export"]);b&&(g=g.Bn(h.F()),g.rg=h,b(g))}else c&&c(g)})};
Pj.prototype.hc=function(a,b,c){return this.R.get("/export/"+encodeURIComponent(a.F().toString())+"?attachment\x3d"+encodeURIComponent(a.attachment+""),function(d,e){var g=(new Tj(Qj(d))).Bn(a.F());if(200==d){var h=Uj(e["export"]);g.rg=h;var h=g.hc().lb(),k=[];"COMPLETE"==h?(k=Vj(g.hc().Ej()),0<k.length&&(h=k[0].ca(),g.url=h)):"FAILED"==h?g.message=e.error:"CANCELLED"==h&&(g.message="The export job was cancelled");b&&b(g)}else c&&c(g)})};
Pj.prototype.th=function(a,b,c){function d(a){var d=a&&a.hc()?a.hc().lb():"FAILED";h(d);if(d=a.rg)d=a.rg.lb(),d="COMPLETE"==d||"FAILED"==d||"CANCELLED"==d;d&&(g(),r=!0);a.Xe()&&b&&b(a);var e;(e=a.rg.lb())&&("FAILED"==e||"CANCELLED"==e)&&c&&c(a.Om)}function e(a){var b=a&&a.hc()?a.hc().lb():"FAILED";h(b);a.Om&&"0"==a.Om||(r=!1)}function g(){n&&window.clearTimeout(n);p&&window.clearTimeout(p)}function h(a){a!==x&&Sj(v,a);x=a}var k=this,l,m,n,p,r=!1,q=Wj(a),v=new Rj(function(){g();l&&l.cancel();m&&m.cancel();
r=!0}),w=1E3,x;(function(){g();l=k.pl(q,function(a){function b(){g();n=window.setTimeout(function(){var c=new Xj(a.hc().F());m=k.hc(c,d,e);r||(w=Math.min(3E4,1.6*w),b())},w)}b();var c=a&&a.hc()?a.hc().lb():"FAILED";h(c)},function(a){var b=a&&a.hc()?a.hc().lb():"FAILED";h(b);g();c&&c(a.Om)})})();return v};function Yj(){}Yj.prototype.F=function(){return this.id};Yj.prototype.Ej=function(){return this.output};Yj.prototype.lb=function(){return this.status};Yj.prototype.vp=function(){return this.spec};
function Uj(a){if(!a)return null;a=$.extend(new Yj,a);if(a.output){var b;if(b=a.output){if(b=$.extend(new Zj,b),b.exportBlobs){var c;c=(c=b.exportBlobs)?c.map(ak):null;b.exportBlobs=c}}else b=null;a.output=b}a.spec&&(b=(b=a.spec)?$.extend(new bk,b):null,a.spec=b);return a}function ck(){}ck.prototype.getKey=function(){return this.key};ck.prototype.T=function(){return this.page};ck.prototype.ca=function(){return this.url};function ak(a){return a?$.extend(new ck,a):null}function Zj(){}
function Vj(a){return a.exportBlobs}Zj.prototype.getFileName=function(){return this.fileName};Zj.prototype.B=function(){return this.height};Zj.prototype.A=function(){return this.width};function bk(){}function dk(a,b){a.mediaDpi=b;return a}function ek(a){a.format="PNG";return a}function fk(a,b){a.mediaQuality=b;return a}function gk(a){return fk(a,"SCREEN")}bk.prototype.Xi=function(a){this.type=a;return this};function hk(){this.attachment=!0}
function Wj(a){var b=new hk,c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function ik(a,b){a.docId=b;return a}function jk(a,b){a.docVersion=b;return a}function kk(a,b){a.spec=b;return a}hk.prototype.vp=function(){return this.spec};hk.prototype.validate=function(){if(void 0===this.docId||null===this.docId||void 0===this.spec||null===this.spec||!this.spec.validate())throw Error("Invalid create export request");};function Xj(a){this.id=a;this.attachment=!0}Xj.prototype.F=function(){return this.id};
Xj.prototype.validate=function(){if(void 0!==this.id&&null!==this.id)throw Error("Invalid get export request");};function Tj(a){this.Om=a}f=Tj.prototype;f.hc=function(){return this.rg};f.Bn=function(a){this.id=a;return this};f.F=function(){return this.id};f.ca=function(){return this.url};f.Xe=function(){return this.rg&&"COMPLETE"==this.rg.lb()};function lk(a){this.R=a;this.path="/profile"}lk.prototype.hb=P.method(function(a){return wd(this.R,this.path+"/users/"+encodeURIComponent(a)).get(0).then(mk)});function nk(a){return wd(a.R,a.path+"/user/uiinfo").get(0)}function ok(a,b){nk(a).then(function(a){if(!0===a[b])return a;a[b]=!0;return td(this.R,this.path+"/user/uiinfo",a).get(0)}.bind(a))}lk.prototype.ea=function(a){return wd(this.R,this.path+"/brands/"+encodeURIComponent(a)).get(0).then(pk)};
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ea())+"/invitations";return td(this.R,b,a).spread(qk)});P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ea())+"/invitations?"+(null!=a.gc()?"\x26continuation\x3d"+encodeURIComponent(a.gc()):"")+(null!=a.rd()?"\x26limit\x3d"+encodeURIComponent(a.rd()):"")+(a.qp()?"\x26countOnly\x3d"+encodeURIComponent(a.qp()):"");return wd(this.R,a).spread(rk)});
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ea())+"/invitations?update\x3dtrue";return td(this.R,b,a).spread(sk)});
P.method(function(a){a=this.path+"/brands/"+encodeURIComponent(a.ea())+"/members?"+(a.Az()?"\x26includeAvatars\x3d"+encodeURIComponent(a.Az()):"")+(a.Bz()?"\x26includeEmails\x3d"+encodeURIComponent(a.Bz()):"")+(a.qp()?"\x26countOnly\x3d"+encodeURIComponent(a.qp()):"")+(null!=a.gc()?"\x26continuation\x3d"+encodeURIComponent(a.gc()):"")+(null!=a.rd()?"\x26limit\x3d"+encodeURIComponent(a.rd()):"");return wd(this.R,a).spread(tk)});
P.method(function(a){var b=this.path+"/brands/"+encodeURIComponent(a.ea())+"/members";return td(this.R,b,a).spread(uk)});function vk(){}function wk(a){return Object.freeze(D(vk,a))}vk.prototype.clone=function(){return wk(JSON.parse(JSON.stringify(this)))};vk.prototype.equals=function(a){function b(a){for(var d in a){var e=a[d];null===e?delete a[d]:e instanceof Object&&b(e)}return a}return _.isEqual(b(JSON.parse(JSON.stringify(this))),b(JSON.parse(JSON.stringify(a))))};function xk(){}function dh(a){return Object.freeze(D(xk,a))}xk.prototype.Qe=function(){if(this.colors)return this.colors.filter(Boolean).map(yk)};
xk.prototype.getName=function(){return this.name};function zk(a){if(a.textStylePalettes)return a.textStylePalettes.filter(Boolean).map(Ak)}function Bk(){}function Ak(a){return Object.freeze(D(Bk,a))}Bk.prototype.getName=function(){return this.name};function Ck(a){if(a.textStyles)return a.textStyles.filter(Boolean).map(Dk)}function Ek(){}function Dk(a){return Object.freeze(D(Ek,a))}function Fk(a){if(a.font)return Object.freeze(D(Gk,a.font))}Ek.prototype.getName=function(){return this.name};
function Gk(){}Gk.prototype.Pe=function(){return this.bold};function Hk(a){return a.family}Gk.prototype.Se=function(){return this.italic};Gk.prototype.Oh=function(){return this.size};Gk.prototype.Na=function(){return this.media};vk.prototype.Gd=function(){if(this.brandColor)return yk(this.brandColor)};function Ik(){}function yk(a){return Object.freeze(D(Ik,a))}function ch(a){return a.hexString}Ik.prototype.getName=function(){return this.name};
function Jk(){this.id="";this.brandname=this.displayName=null;this.thirdParty=this.contributor=this.personal=!1;this.brandColor=null}Jk.prototype.F=function(){return this.id};Jk.prototype.Mb=function(){return this.displayName};Jk.prototype.Gd=function(){return this.brandColor};function pk(a){if(!a)return null;var b=D(Jk,a);a.brandKit&&(b.brandKit=wk(a.brandKit));return b}
function Kk(){this.id="UNKNOWN_USER_ID";this.displayName=this.personalBrand=this.username="";this.avatar=this.headerDesign=this.countryCode=this.city=this.homepage=null;this.roles=[];this.deactivated=!1}Kk.prototype.F=function(){return this.id};Kk.prototype.Hj=function(){return this.username};Kk.prototype.Mb=function(){return this.displayName};function mk(a){if(!a)return null;a=D(Kk,a);a.avatar&&(a.avatar=Lk(a.avatar));return a}function Mk(){this.version=0;this.sizes={}}Mk.prototype.S=function(){return this.version};
function Lk(a){if(!a)return null;a=D(Mk,a);var b;var c=a.sizes,d={};if(c){for(b in c){var e=b,g;g=(g=c[b])?D(Nk,g):null;d[e]=g}b=d}else b=null;a.sizes=b;return a}function Nk(){this.height=this.width=this.size=0;this.url=""}Nk.prototype.Oh=function(){return this.size};Nk.prototype.A=function(){return this.width};Nk.prototype.B=function(){return this.height};Nk.prototype.ca=function(){return this.url};
var Ok=function(){var a={version:0,sizes:{}};[50,200].forEach(function(b){a.sizes[b]={size:b,width:b,height:b,url:"https://static.canva.com/images/default_avatar_"+b+".png"}});return Lk(a)}();function Pk(){}function qk(a){return Object.freeze(D(Pk,a))}function Qk(){}Qk.prototype.gc=function(){return this.continuation};function rk(a){return Object.freeze(D(Qk,a))}function Rk(){}Rk.prototype.gc=function(){return this.continuation};function tk(a){return Object.freeze(D(Rk,a))}function Sk(){}
Sk.prototype.ea=function(){return this.brand};function uk(a){return Object.freeze(D(Sk,a))}function Tk(){}function sk(a){return Object.freeze(D(Tk,a))};function Uk(a){this.R=a;this.path="/social"}Uk.prototype.createComment=function(a,b){return td(this.R,this.path+"/comments/"+encodeURIComponent(a),{content:b}).get(0)};function Vk(a,b,c,d,e,g){return td(a.R,a.path+"/documents/"+encodeURIComponent(b)+"/emails",{emails:c,extension:e,mode:d,utmSource:g}).return()};function Wk(){}Wk.prototype.F=function(){return this.id};Wk.prototype.Re=function(){return this.content};function Xk(){}function Yk(){var a=D(Xk,window.clientInfo),b;b=D(Zk,a.brandInfo);b.brand=pk(b.brand);b.brandKit&&(b.brandKit=wk(b.brandKit));b.subscription&&(b.subscription=sf(b.subscription));b=Object.freeze(b);a.brandInfo=b;b=D($k,a.user);b.avatar=Lk(b.avatar);b=Object.freeze(b);a.user=b;return Object.freeze(a)}function al(a){return a.brandInfo}function Zk(){}Zk.prototype.ea=function(){return this.brand};function bl(a){return a.brandKit||null}
Zk.prototype.getSubscription=function(){return this.subscription||null};function $k(){}$k.prototype.F=function(){return this.id};$k.prototype.Ot=function(){return this.email};$k.prototype.Hj=function(){return this.username};$k.prototype.Mb=function(){return this.displayName};function cl(){}cl=Backbone.View.extend();cl.prototype.initialize=function(a){a=_.defaults({},a,{ij:!0,content:$(),Di:!0,Ei:!0});this.ij=!!a.ij;this.content=a.content;this.$b=new dl({style:this.Wl()});this.listenTo(this.$b,"maskClick",this.blur);this.result=1;this.Di=!!a.Di;this.cn=!!a.cn;this.Ei=!!a.Ei;this.title=a.Ei?a.title:""};cl.Sw=300;f=cl.prototype;f.blur=function(){this.ij&&(this.result=0,this.remove())};f.cancel=function(){this.result=1;this.remove()};f.fail=function(){this.result=3;this.remove()};
f.events=function(){return{"touchClick .close":this.Wu,"touchClick .dialogMaskCloseButton":this.Wu,"touchClick button.done":this.ok}};f.Wl=function(){return el};f.ok=function(){this.result=2;this.remove()};f.Wu=function(a){a.preventDefault();this.cancel()};f.remove=function(){var a=this;this.$el.children(".dialog").addClass("disappearing");this.$b.hide();this.trigger("hide",this.result);setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},cl.Sw);return this};
f.render=function(){this.$el.html(this.template(this.rc()));this.$(".content").append(this.content);this.$(".dialog").data("Canva_Views_Dialog",this);this.$(".dialog").toggleClass("dialogNoAnimations","Safari"===(new UAParser).getResult().browser.name);return this};f.rc=function(){return{showCloseButton:this.Di,showDialogMaskCloseButton:this.cn,showTitle:this.Ei,title:this.title}};function fl(a,b){a.$("h2").text(b);a.title=b}
f.show=function(){function a(d){d.target===d.currentTarget&&(b.off("animationend transitionend",a),c.trigger("showTransitionEnd",c))}var b,c=this;this.render();b=this.$el.children(".dialog");this.$b.show(this.$el);this.trigger("show",this);window.setTimeout(function(){b.removeClass("preparing");b.on("animationend transitionend",a)},20);return this};f.template=_.template('\x3c% if (showDialogMaskCloseButton) { %\x3e\x3ca class\x3d"dialogMaskCloseButton"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"dialog preparing"\x3e\x3c% if (showTitle) { %\x3e\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3c% } %\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c% if (showCloseButton) { %\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this dialog"\x3eClose\x3c/a\x3e\x3c% } %\x3e\x3c/div\x3e');function gl(){}gl=cl.extend({className:"fontUploadDialog"});gl.create=function(){return new gl({})};f=gl.prototype;f.events=function(){return _.extend(cl.prototype.events.call(this),{"click .fontUploadDialogConfirm":this.OA,"click .fontUploadDialogFinish":this.ok,"click .fontUploadDialogCancel":this.Fx})};f.initialize=function(){cl.prototype.initialize.call(this,{Di:!0,ij:!0,cn:!1});this.error=null;this.kp="the font you are uploading.";this.opentype=opentype;this.progress=!1};
f.render=function(){cl.prototype.render.call(this);hl(this);this.$(".fontFileInput").remove();var a=$('\x3cinput class\x3d"fontFileInput" type\x3d"file" accept\x3d".ttf,.otf,.woff"\x3e');this.$el.append(a);a.on("change",this.xA.bind(this));return this};
f.xA=function(){var a={message:"Your font file could not be read. Try a different font. If this problem persists, contact support."},b=this.$(".fontFileInput")[0].files;if(b.length&&/.*\.(ttf|otf|woff)$/gi.test(b[0].name)){if(this.error=null,this.Pl=b[0],this.kp=this.Pl.name,this.opentype){var c=new FileReader;c.onload=function(){if(c.result)try{var b=this.opentype.parse(c.result);b&&b.supported?b.names&&b.names.fullName&&b.names.fullName.en&&(this.kp=b.names.fullName.en):this.error=a}catch(e){this.error=
a}else this.error=a;this.show()}.bind(this);c.readAsArrayBuffer(this.Pl);return}}else this.error={message:"Are you sure that is a font? Please check the file and try again."};this.show()};
f.OA=function(){this.$(".fontUploadDialogDisclaimerCheck").prop("checked")?(this.progress=1,this.$(".fontUploadDialogBlurb").html("Please wait while the font is uploaded to your brand kit. It will be ready in a jiffy."),this.$(".fontUploadDialogConfirm").addClass("buttonProgress").html('\x3cspan class\x3d"buttonProgressIndicator"\x3e\x3c/span\x3e\x3cspan class\x3d"buttonProgressText"\x3eUploading\x26hellip;\x3c/span\x3e'),this.Pl&&this.trigger("fontUpload",this.Pl)):il(this)};
function il(a){a.$(".fontUploadDialogDisclaimerError").addClass("on");setTimeout(function(){this.$(".fontUploadDialogDisclaimerError").removeClass("on")}.bind(a),3200)}f.Dr=function(a){this.error=a;hl(this)};function hl(a){a.$(".fontUploadDialogContents").remove();a.$(".dialog .content").append(a.zy({canEditFontName:!1,error:null!=a.error?a.error.message:!1,supportUrl:null!=a.error?a.error.xG:null,supportTitle:null!=a.error?a.error.wG:"fonts",fontName:a.kp,progress:a.progress||!1}))}
f.Fx=function(){this.trigger("fontUploadCancel");this.cancel()};f.zy=_.template('\x3cdiv class\x3d"fontUploadDialogContents"\x3e\x3c% if (error) { %\x3e\x3ch2\x3eSorry, something went wrong\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogError"\x3e\x3cp\x3e\x3c%- error %\x3e\x3c/p\x3e\x3c% if (supportUrl !\x3d null) { %\x3e\x3cp\x3ePlease see the support article on \x3ca href\x3d"\x3c%- supportUrl %\x3e" target\x3d"_blank"\x3e\x3c%- supportTitle %\x3e\x3c/a\x3e for more info.\x3c/p\x3e\x3c% } %\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogFinish"\x3eOK\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c% } else { %\x3e\x3ch2\x3eBefore you upload, please confirm the following:\x3c/h2\x3e\x3cdiv class\x3d"fontUploadDialogDisclaimer"\x3e\x3cp\x3e\x3cstrong\x3eFont name\x3c/strong\x3e: \x3c% if (canEditFontName) { %\x3e\x3cinput class\x3d"fontUploadDialogFontName" autocomplete\x3d"off" value\x3d"\x3c%- fontName %\x3e"\x3e\x3c% } else { %\x3e\x3c%- fontName %\x3e\x3c% } %\x3e\x3c/p\x3e\x3cp\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerError"\x3eYou must confirm this before uploading.\x3c/span\x3e\x3clabel\x3e\x3cinput class\x3d"fontUploadDialogDisclaimerCheck" type\x3d"checkbox"\x3e\x3cspan class\x3d"fontUploadDialogDisclaimerText"\x3eI own this font or have the right to use it for my intended purpose.\x3c/span\x3e\x3c/label\x3e\x3c/p\x3e\x3c/div\x3e\x3cdiv class\x3d"fontUploadDialogControls"\x3e\x3cbutton class\x3d"button buttonBlock buttonSubmittable fontUploadDialogConfirm"\x3eYes. Upload away!\x3c/button\x3e\x3cspan class\x3d"fontUploadDialogCancel"\x3eCancel the upload.\x3c/span\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e');function jl(){}jl=Backbone.View.extend({className:"multipageDialog"});f=jl.prototype;f.initialize=function(a){this.Lb=0;this.gp=a.gp||[];this.wf=void 0===a.wf||a.wf;this.$b=new dl({style:el});this.O=a.O;this.O.forEach(function(a){this.listenTo(a,"next",this.iE);this.listenTo(a,"back",this.jE)},this)};f.events=function(){return{touchClick:this.cf}};f.hide=function(){this.$el.addClass("multipageDialogDisappearing");this.$b.hide();setTimeout(function(){this.trigger("hide")}.bind(this),300)};
f.cf=function(a){a.target.classList.contains("multipageDialogPage")&&this.wf&&this.hide()};f.render=function(){var a=this;(function(){a.gp.forEach(function(b){a.$el.addClass(b)})})();(function(){a.O.forEach(function(a){a.$el.detach()});a.$el.empty()})();(function(){a.O.forEach(function(b){var c;c=$("\x3cdiv\x3e").addClass("multipageDialogPage");c.append(b.render().$el);a.$el.append(c)})})();kl(this,this.Lb);return this};
f.show=function(){this.$el.addClass("multipageDialogAppearing");this.$b.show(this.render().$el);setTimeout(function(){this.$el.removeClass("multipageDialogAppearing")}.bind(this),300)};f.iE=function(){var a=this.Lb+1;a>=this.O.length?this.hide():kl(this,a)};f.jE=function(){var a=this.Lb-1;0>a?this.hide():kl(this,a)};
function kl(a,b){a.trigger("pageChange",a.O[b]);a.Lb=b;a.$el.css("transform","translateY("+-100*b+"%)");a.$(".multipageDialogPage").removeClass("multipageDialogCurrentPage");a.$(".multipageDialogPage").eq(b).addClass("multipageDialogCurrentPage")};function ll(){}ll=cl.extend();ll.prototype.render=function(){cl.prototype.render.call(this);this.$(".dialog").addClass("alert");this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOK\x3c/button\x3e\x3c/p\x3e');return this};function W(){}W=cl.extend();f=W.prototype;f.initialize=function(a){cl.prototype.initialize.call(this,a);this.ce=a.ce||"Done";this.$i=null;this.position=a.position||"top";this.ud=_.defaults({},a.ud,{left:0,top:0});this.on("hide",this.gt)};f.events=function(){var a=cl.prototype.events.apply(this,arguments);a.keydown=this.keydown;return a};f.Wl=function(){return ml};
f.render=function(){cl.prototype.render.call(this);this.$(".dialog").addClass("popover").prepend('\x3cdiv class\x3d"'+this.position+' pointer"\x3e\x3c/div\x3e');this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button buttonBlock done"\x3e'+this.ce+"\x3c/button\x3e\x3c/p\x3e");return this};
f.Md=function(a){if(!this.$i){var b=_.debounce(this.Si.bind(this),300);window.addEventListener("resize",b,!1);this.on("remove",function(){window.removeEventListener("resize",b,!1)})}this.show();nl(this,a);this.Si();return this};
f.Si=function(){var a=this.$i,b=a.offset(),c=b.top-$(document).scrollTop(),d=a.outerWidth(),e=a.outerHeight(),a=this.$(".dialog"),g=a.outerWidth(),h=this.$el.width(),k=Math.round(b.left+d/2-g/2);switch(this.position){case "top":b=(k+g+30>h?h-g-30:k)+this.ud.left;d=k-b;d="calc(50% - 8.5px + "+d+"px)";a.children(".pointer").css("left","-webkit-"+d).css("left",d);a.css("left",b).css("top",Math.round(c)+e+19+this.ud.top);break;case "topLeft":b=b.left+g+30>h?h-g-30:b.left;b+=this.ud.left;a.children(".pointer").css("left",
b+19);a.css("left",b).css("top",Math.round(c)+e+19+this.ud.top);break;case "left":b=b.left+d+this.ud.left;a.css("left",b+19).css("top",c-a.height()/2+19+this.ud.top);break;case "leftTop":b=b.left+d+this.ud.left;c=c+e/2-40+this.ud.top;10>c&&(e=c-10,c=10,a.children(".pointer").css("margin-top",e));a.css("left",b+19).css("top",c);break;case "rightTop":b=b.left-g+this.ud.left,c=c+e/2-40+this.ud.top,10>c&&(e=c-10,c=10,a.children(".pointer").css("margin-top",e)),a.css("left",b-19).css("top",c)}return this};
function nl(a,b){a.gt();a.$i=b;b.addClass("on");b.blur()}f.gt=function(){this.$i&&this.$i.removeClass("on")};f.keydown=function(a){27===a.which&&(this.cancel(),a.stopPropagation(),a.preventDefault())};function ei(a){Ea=new ol;Ya&&$("html").addClass("isMac");$("#content").addClass("preparing");pl();window.setTimeout(function(){ql(a.content,a.Bf,a.L,a.jx,a.JE);rl();sl({Ka:a.Ka,L:a.L});tl(a);$("#zoomIn").on("touchClick",ul);$("#zoomOut").on("touchClick",vl);wl(a.L);a.ez&&xl();yl();a.Et&&a.Et();$("body").hasClass("preroll")?(window.setTimeout(function(){window.requestAnimationFrame(zl)},600),window.setTimeout(function(){Al()},2E3)):window.setTimeout(function(){$("#content").removeClass("preparing").addClass("on")},
600)},20)}function zl(){var a=$(".preroll .prerollDelay6");if(1>a.length)window.requestAnimationFrame(zl);else $(a).one("animationend",Al)}function Al(){$("#content").removeClass("preparing").addClass("on");window.setTimeout(function(){if(!(new nd(window.viewConfig)).Id()){var a=ge(),b=new lk(a),a=new Bl(a),c=ac();Cl(new Dl(c,F,b,a))}},1E3);$("#search").css("transform","translateX(0)");$("body").removeClass("preroll")}
function pl(){Ca=Ba=Aa=0;var a=El("editorPageToolbarStylesheet");if(null!=a)for(var b=0;b<a.length&&!(".pageToolbar"==a[b].selectorText?(Ca=parseInt(a[b].style.marginTop,10),Aa=parseInt(a[b].style.width,10)):".pageToolbar.vertical"==a[b].selectorText&&(Ba=parseInt(a[b].style.width,10)),Ba&&Aa&&Ca);b++);}function El(a){for(var b=null,c=0;c<document.styleSheets.length;c++)if(document.styleSheets[c].ownerNode.id==a){b=document.styleSheets[c];break}return null==b?null:b.cssRules||null}
function yl(){if(!Fl&&!Gl){var a=$("#objectPanel");Hl();var b=$(".layer",a).eq(0).width(),c=Math.ceil(b/110),d=Math.ceil(b/180),b=Math.ceil(b/145),e=El("objectPanelStylesheet");null!=e&&(e[0].style.width=Math.round(100/c*10)/10+"%",e[1].style.width=Math.round(100/d*10)/10+"%",e[2].style.width=Math.round(100/b*10)/10+"%");Il();window.setTimeout(function(){a.find(".results \x3e .layer \x3e .inner \x3e .browseCategories").each(function(){Jl($(this),!0)})},20);$("#canvaDocument").nextAll(".hScrollTrack").andSelf().css("left",
$("#objectPanel").outerWidth(!0));Kl==L&&Da&&Da.ip()}}function Ll(a){return u.Vh()?u.ne()?new P(function(b,c){function d(a){2==a?(e(),b()):1!=a&&0!=a&&(e(),c())}function e(){window.clearTimeout(g);E.off("session:sync",d)}var g=window.setTimeout(function(){e();c()},a||1500);E.on("session:sync",d);u.save()}):P.resolve():P.reject()};function Ml(a){this.R=a.R;this.Aq=a.Aq;this.md=a.md;this.ka=a.ka;this.Wo=a.Wo;this.Sr=a.Sr;this.$n=a.$n;this.To=a.To}
Ml.prototype.BD=function(){if(!this.Wo&&this.ka&&this.ka.Vh()&&!$("#savingError").hasClass("on")){if(0<this.Sr.Pi.length)return"You're in the middle of uploading an image. Are you sure you want to leave the Canva editor?";if(this.ka.ne())return this.ka.save(),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";var a=t;if(a&&uj(this.ka,a.serialize()))return a.trigger("change"),"We are still auto-saving the latest changes to your design. Are you sure you want to leave the Canva editor?";
this.ka.close();this.$n||ke(this.R,"/session/editor/"+encodeURIComponent(this.md)+"?close",this.To,{docId:this.md,session:this.ka.context.ml,durationSecs:Math.floor((Date.now()-this.Aq)/1E3)})}};var Di="bold fontFamily fontSize italic justification letterSpacing lineHeight list textTransform".split(" ");function Nl(a){a=a.children(".inner").get(0);a=Ol(a);for(var b=window.getSelection(),c=a.filter(function(a){return Pl(b,a,!1)}),d=a.map(function(a){return a.textContent||""}).join(""),e="",g=0,h=b.rangeCount;g!=h;g++)e+=b.getRangeAt(g).toString();d=Ql(d,e);(e=a.length)&&"BR"==a[e-1].nodeName&&--e;return c.length>=e&&d}
function Ql(a,b){if(a==b)return!0;var c=a.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," "),d=b.replace(/^\s*/,"").replace(/\s*$/,"").replace(/(?!^)\s+(?!$)/gi," ");return c==d}function Rl(a){var b=window.getSelection();return 0<b.rangeCount&&(b=b.getRangeAt(0).cloneRange(),b.collapse(!0),a=a.get(0))?(b.setStart(a,0),b.toString().slice(-1)):""}
function Sl(a){var b=window.getSelection();if(0==b.rangeCount)return-1;a=a.children(".inner");if(0==a.length)return-1;a=a.get(0);return Tl(b,a)?b.toString().length:-1}function Ul(a){var b=window.getSelection();if(0==b.rangeCount)return!0;a=a.children(".inner");if(0==a.length)return!0;a=a.get(0);return Tl(b,a)?b.isCollapsed:!0}
function Tl(a,b){if(!b)return!1;var c=a.getRangeAt(0),d=c.startContainer,c=c.endContainer;if(!d||!c)return!1;var d=3==d.nodeType||4==d.nodeType?Vl(d):d,e=3==c.nodeType||4==c.nodeType?Vl(c):c,c=!(b!=d&&b!=e),d=!(!b.contains(d)&&!b.contains(e));return c||d}function Wl(a,b){var c=a.za(b).children(".inner");Xl(c);Yl(c);c.find("*").css({"font-size":"","line-height":"","letter-spacing":"",color:""});c.find("br").removeAttr("color");Zl(a,b)}
function Zl(a,b){function c(a){if(1!==a.length)return!1;a=a.get(0);if(a.nodeType!==Node.ELEMENT_NODE)return!1;var b=a.nodeName.toLowerCase();return"ul"===b||"li"===b?!1:1===a.parentNode.childNodes.length}for(var d=a.Pb(b),e=a.za(b).children(".inner").contents(),g=e,h=!1;c(e);)$l(d,e.get(0)),h=!0,e=e.contents();h&&(g.replaceWith(e),a.$g(b,d))}
function $l(a,b){function c(a){a=a.match(/"[^"]*"|'[^']*'|[^\s"',]+/g);if(!a)return"";a=a[0];var b=a.charAt(0);if('"'===b||"'"===b)a=a.slice(1,-1).trim();return a}var d=b.nodeName.toLowerCase();if("b"===d||"strong"===d)a.bold=!0;else{var e=b.style.fontWeight;a.bold="bold"===e||"600"<=e&&"900">=e}"i"===d||"em"===d?a.italic=!0:(e=b.style.fontStyle,a.italic="italic"===e||"oblique"===e);e=Q(b.style.color);b.color&&(e=Q(b.color));e&&(a.color=e.X());e=null;(e="font"===d?c(b.face):c(b.style.fontFamily))&&
(d=am(e))&&(a.fontFamily=d)}function bm(a){var b=[],c=[],d=a.children(".inner").get(0);Ol(d).forEach(function(d){"br"!==d.nodeName.toLowerCase()&&(d=cm(Vl(d),a),Array.prototype.push.apply(b,d.Fd),Array.prototype.push.apply(c,d.Dc))});return{Fd:b,Dc:c}}function dm(a){return a.filter(function(){return 0!==this.offsetHeight||0!==this.offsetWidth})}function em(a,b){var c=a.offsetTop-b.offsetTop;return 0<=c||c>=b.offsetHeight-a.offsetHeight}
function fm(a){function b(){if(this.nodeType===Node.ELEMENT_NODE){var a=this.nodeName.toLowerCase();if("br"!==a&&"script"!==a&&"style"!==a){var c=$(this).contents();if("span"===a){if(this.classList.contains("fauxCaret"))return;if(this.classList.contains("char")){if(1===c.length&&c[0].nodeType===Node.TEXT_NODE&&1===c[0].data.length)return;c.replaceAll(this)}}c.each(b)}}else this.nodeType===Node.TEXT_NODE&&(a=this.data.split("").map(function(a){var b=document.createElement("span");b.classList.add("char");
b.appendChild(document.createTextNode(a));return b}),$(this).replaceWith(a))}var c=String(a.data("fontFamily"));xa&&gm(c)||a.children(".inner").each(b)}function hm(a,b){!b&&a.data("kernPairs")||a.find(".char").each(function(){$(this).contents().replaceAll(this)})}var im=!1;
function jm(a,b){function c(a){return" "===a||"\n"===a||"\t"===a||"\r"===a||"᠎"===a||"\u2028"===a||"\u2029"===a||"﻿"===a}fm(a);var d=[],e=a.children(".inner"),g=e.find(".char"),h=a.data("letterSpacing")||0,k=0!==h?h/1E3+"em":"0";if(function(){return b.reduce(function(a,b){return a+b},0)}()===g.length){e.addClass("explicitLineBreaksLayoutMode");e.find(".implicitLineBreak").remove();a.removeData("ephemeralLetterSpacing");a.css("letter-spacing",k);a.data("cachedLineLengths",b);document.body.contains(a[0])||
(e.addClass("doNotTransform"),a.addClass("doNotTransform"),a.appendTo("#limbo"),d.push(function(){a.detach();a.removeClass("doNotTransform");e.removeClass("doNotTransform")}));var l=0,m=-1,n=0,p=0,r=0;b.forEach(function(a){var b=l,e=Math.min(b+a,g.length);if(!(b>=e)){for(var h=b,k=e-1;h<=k&&c(g[h].firstChild.data);)h++;for(;h<=k&&c(g[k].firstChild.data);)k--;d.push(function(){g.slice(b,h).addClass("superfluousWhitespace");g.slice(k+1,e).addClass("superfluousWhitespace")});h<=k&&(0<=m&&em(g[m],g[h])&&
d.push(function(){$("\x3cbr\x3e").addClass("implicitLineBreak").insertBefore(g[b])}),m=k,h!==k&&(a=g[k].offsetLeft+g[k].offsetWidth-g[h].offsetLeft,a>n&&(n=a,p=h,r=k)));l=e}});k=e[0].offsetWidth;if(n>k){var q=dm(g.slice(p,r+1)).length,k=(k-n)/q,q=parseFloat(window.getComputedStyle(e[0]).getPropertyValue("font-size")),v=Math.max(h-1E3/12,1E3*k/q),w=a.data("index")||0;d.push(function(){var b=a.data("canvaElement");b&&b.Yv(w,v)})}d.forEach(function(a){a()});im=!0;km(a);im=!1}}
function lm(a,b){if(!im){hm(a,b);a.removeData("cachedLineLengths");var c=a.children(".inner");c.hasClass("explicitLineBreaksLayoutMode")&&(c.removeClass("explicitLineBreaksLayoutMode"),c.find(".implicitLineBreak").remove(),c.find(".superfluousWhitespace").removeClass("superfluousWhitespace"),km(a))}}
function Xl(a){for(var b=a.find("*"),c=b.length-1;0<=c;c--){var d=b[c],e=d.nodeName.toLowerCase();"br"!==e&&"div"!==e&&"ul"!==e&&"li"!==e&&"p"!==e&&(("span"!==e&&"font"!==e||0!==d.attributes.length)&&""!==d.textContent.trim()||$(d).contents().replaceAll(d))}a.get(0).normalize()}
function Yl(a){function b(a,b){if(!a||!b)return!1;var e;if(a.nodeType===Node.ELEMENT_NODE){e=a.nodeName.toLowerCase();if("br"===e||"div"===e||"ul"===e||"li"===e||"p"===e)return!1;for(;(a=a.lastChild)&&a.nodeType===Node.ELEMENT_NODE;)if("br"===a.nodeName.toLowerCase())return!1}return b.nodeType===Node.ELEMENT_NODE&&(e=b.nodeName.toLowerCase(),"ul"===e||"li"===e)?!1:!0}a.find("div, p").each(function(){var a=$(this);b(this.previousSibling,this.firstChild||this.nextSibling)&&$("\x3cbr\x3e").insertBefore(this);
b(this.lastChild||this.previousSibling,this.nextSibling)&&$("\x3cbr\x3e").insertAfter(this);a.replaceWith(a.contents())})}
function mm(a){function b(a){var b;$.browser.msie?(b=document.selection.createRange(),b.collapse(!0),b=b.parentElement()):b=window.getSelection().getRangeAt(0).startContainer;return a.contains(b)}var c=[],d=[],e=window.getSelection(),g=a.children(".inner").get(0);Ul(a)?1==e.rangeCount&&b(g)&&(g=e.getRangeAt(0).startContainer,g=cm(Vl(g),a),c=c.concat(g.Fd),d=d.concat(g.Dc)):Ol(g).filter(function(a){return Pl(e,a,!0)&&a.nodeType==Node.TEXT_NODE}).forEach(function(b){b=cm(Vl(b),a);c=c.concat(b.Fd);d=
d.concat(b.Dc)});c=c.filter(function(a,b){return c.lastIndexOf(a)===b});d=d.filter(function(a,b){return d.lastIndexOf(a)===b});return{Fd:c,Dc:d}}
function cm(a,b){var c,d,e=[],g=[],h=b.children(".inner").get(0);c=b.get(0);var k=b.data("fontName"),l=b.data("fill");if(a==h||a==c)c=k,d=Q(l),c&&e.push(c),d&&g.push(d.X());else{for(;a!==h;)"font"==a.tagName.toLowerCase()&&((c=a.getAttribute("face"))&&e.push(c),(d=Q($(a).css("color")||a.getAttribute("color")))&&g.push(d.X())),a=a.parentElement;0==e.length&&k&&e.push(k);0==g.length&&l&&g.push(l)}return{Fd:e,Dc:g}}
function Ol(a){for(var b=[],c=0;c<a.childNodes.length;c++){var d=a.childNodes[c];0==d.childNodes.length?b.push(d):b=b.concat(Ol(d))}return b}function Vl(a){if(a.parentElement)return a.parentElement;for(a=a.parentNode;a&&a.nodeType!==Node.ELEMENT_NODE;)a=a.parentNode;return a}
function Pl(a,b,c){if(a.containsNode)return a.containsNode(b,c);c=document.createRange();c.selectNodeContents(b);b=0;for(var d;b<a.rangeCount;++b){d=a.getRangeAt(b);try{if(0>=d.compareBoundaryPoints(d.START_TO_START,c)&&0<=d.compareBoundaryPoints(d.END_TO_END,c))return!0}catch(e){if(e.code!==DOMException.WRONG_DOCUMENT_ERR)throw e;}}return!1}function nm(a){if(!a)return[];for(var b=/<font[^>]+\bface="([^"]+)/gi,c,d=[];c=b.exec(a);)c=c[1].replace(/('|&#39;)/g,""),d.push(c);return _.uniq(d)}
function om(a){var b=a.html().toString();a.data("fontFamily")&&(b+='\x3cfont face\x3d"'+a.data("fontFamily")+'"\x3e\x3c/font\x3e');return nm(b).filter(function(a){return null!==pm(xa,a)})}function qm(a,b){b?this.za(a).data("fontMedia",{id:b.F(),version:b.S()}):this.za(a).removeData("fontMedia")}function rm(a,b){function c(a){return{id:a.F(),version:a.S()}}b&&0<b.length?this.za(a).data("htmlFontMedia",b.map(c)):this.za(a).removeData("htmlFontMedia")}
function sm(a,b,c,d){function e(a){if(a){var d="'"+m.family+"'";$.browser.msie||(d+=", "+m.fe);h.css("font-family",d).css("font-weight",void 0!==m.weight?m.weight:"");km(h);g.trigger("change:fontFamily",this,h,b)}c&&c(a)}var g=this,h=this.za(a),k=h.data("fontName"),l=!1;b&&gm(String(b))&&(l=!0);d||h.find("font").removeAttr("face");b!==k&&(this.wk(a),this.Mm(a),lm(h),l&&Xl(h));if(void 0===b)h.removeData("fontName").removeData("fontFamily").removeData("fontWeight").removeData("fontMedia").removeData("htmlFontMedia").css("font-family",
"").css("font-weight",""),c&&c(!0);else if(xa){h.data("fontFamily",b);var m=pm(xa,b);a=tm(b);m||a?(h.data("fontName",m.name||m.family).data("fontFamily",m.family),um(a,b,e)):c&&c(!1)}else c&&c(!1)}function vm(a,b,c){var d=this.za(a),e=parseFloat(d.data("fontSize"))/b;if(isNaN(e)||2<=e||.5>=e)this.wk(a),this.Mm(a),lm(d);void 0===b?d.removeData("fontSize").css("font-size",""):(d.data("fontSize",b).css("font-size",b*bb+"%"),!0!==c&&km(d,!0))}function wm(a){this.jc(this.Ya(),a)}
function xm(a){return this.za(a).data("fontSize")||24}function ym(a,b){var c=this.za(a);void 0===b?c.removeData("justification").css("text-align",""):c.data("justification",b).css("text-align",b)}
function zm(a,b){function c(a,b,c){a.children(".inner").find("*").filter(function(){var a=Q($(this).css("color")||$(this).attr("color"));return a&&a.equals(b)}).attr("color",c?c.X():"")}function d(a,b,c){b?a.data("fill",b.X()).css("color",b.X()):a.removeData("fill").css("color","");c&&a.find("*").removeAttr("color").css("color","")}var e=this.za(a),g=Nl(e),h=Ul(e),k=e.is(".focused"),l=Q(e.data("fill")),m=Q(mm(e).Dc[0]);k&&b&&document.execCommand("foreColor",!1,b.X());k&&h?(g=0<mm(e).Dc.length,l=m&&
m.equals(l),!g||l?d(e,b,!1):c(e,m,b)):(g||h)&&d(e,b,k)}function Am(a,b){var c=this.za(a);c.is(".focused")&&document.execCommand("bold",!1,null);if(Nl(c)||Ul(c))void 0===b?c.removeData("bold").removeClass("bold"):(c.data("bold",b),b?c.addClass("bold"):c.removeClass("bold"));km(c,!0)}
function Bm(a,b){var c=this.za(a);c.is(".focused")&&document.execCommand("italic",!1,null);if(Nl(c)||Ul(c))void 0===b?c.removeData("italic").removeClass("italic"):(c.data("italic",b),b?c.addClass("italic"):c.removeClass("italic"));km(c,!0)}
function Cm(a,b){function c(){var b;l.focus();e()?b=!0:(l.click(),b=e());b&&(document.execCommand("selectAll",!1,null),document.execCommand("insertUnorderedList",!1,null),Wl(g,a),document.execCommand("selectAll",!1,null),d());l.attr("contentEditable",m)}function d(){window.setTimeout(function(){km(h,!0)},0)}function e(){return null!==window.getSelection().focusNode&&"BODY"!==window.getSelection().focusNode.tagName}var g=this,h=this.za(a),k=0<h.find("li").length;if(!!b!==k){var l=h.children(".inner"),
m=String(l.prop("contentEditable"));l.attr("contentEditable","true");l.focus();Dm(l,c)}b?h.data("list",!0):h.removeData("list")}function Em(a,b){var c=this.za(a);b?c.data("textTransform",b).css("text-transform",b):c.removeData("textTransform").css("text-transform","none")}function Fm(a,b){var c=this.za(a),d=c.children(".inner");b?(c.data("lineHeight",b),d.css("line-height",b/100)):(c.removeData("lineHeight"),d.css("line-height",1.4));km(c,!0)}
function Gm(a){return this.za(a).data("lineHeight")||140}function Hm(a,b){var c=this.za(a);c.removeData("ephemeralLetterSpacing");void 0===b||0===b?(c.removeData("letterSpacing"),c.css("letter-spacing","0")):(c.data("letterSpacing",b),c.css("letter-spacing",b/1E3+"em"));km(c,!0)}function Im(a,b){var c=this.za(a),d=0!==b?b/1E3+"em":"0";c.data("ephemeralLetterSpacing",b);c.css("letter-spacing",d)}
function Jm(a){a=this.za(a);var b=a.data("ephemeralLetterSpacing"),c=a.data("letterSpacing")||0;b!==c&&a.css("letter-spacing",0!==c?c/1E3+"em":"0");a.removeData("ephemeralLetterSpacing")}function Km(a){a=this.za(a);var b=a.data("ephemeralLetterSpacing");return void 0!==b?b:a.data("letterSpacing")||0}function Lm(a){return this.za(a).data("kernPairs")||{}}function Mm(a,b){var c=this.za(a).data("kernPairs");return c&&c.hasOwnProperty(b)?parseFloat(c[b]):0}
function Nm(a){a=this.za(a);a.data("kernPairs")&&(a.removeData("kernPairs"),hm(a,!0))}function Om(a){var b=this.za(a);a=this.Cj(a);if(0<Object.keys(a).length){if(fm(b),a=b.data("kernPairs")||null)if(b=b[0].querySelectorAll(".char"),0!==b.length)for(var c=b[0].firstChild.data,d=1;d<b.length;d++){var e=b[d].firstChild.data,c=a[c+e]||0;0===c?b[d].removeAttribute("style"):b[d].style.marginLeft=c/1E3+"em";c=e}}else hm(b)}
function Pm(a,b,c){if(2===c.length){var d=this.za(a);a=this.Cj(a);a[c]=b;d.data("kernPairs",a)}}function Qm(a,b){this.za(a).data("kernPairs",b)}function Rm(){var a=this.Hh();0<a.parents("#overlays").length&&Sm(a)}function Tm(a){var b=this.Cj(a),c=[];b&&0!==Object.keys(b).length&&Object.keys(b).forEach(function(a){c.push({pair:a,adjustment:b[a]})});return c}function Um(a){if(void 0===a||0===a.length)return null;var b={};a.forEach(function(a){b[a.pair]=a.adjustment});return b}
function Vm(a){function b(a){if(a=tm(a))return{id:a.F(),version:a.S()}}function c(){var a=h.data("cachedLineLengths");if(!a){a=h[0].style;if(""===a.fontFamily||""===a.width)return;a=h.data("fontScaling");if(void 0!==a&&1!==a||h.hasClass("focused"))return;var a=h,b=a.clone();b.addClass("doNotTransform");b.children(".inner").addClass("doNotTransform");b.appendTo("#limbo");fm(b);for(var c=b.find(".char"),d=0,e=[],k=dm(c),v=1;v<k.length;v++)if(!em(k[v-1],k[v])){var w=c.index(k[v]);e.push(w-d);d=w}e.push(c.length-
d);b.remove();a.data("cachedLineLengths",e);a=e}g.lineLengths=a}function d(){var b=e.Xv(a);0!==b.length&&(g.kerning=b)}var e=this,g={index:a},h=this.za(a),k=String(h.data("fontFamily")),k=gm(k);(function(){var a=h.clone();lm(a,!0);g.html=a.children(".inner").html()})();(function(){Di.forEach(function(a){var b=h.data(a);void 0!==b&&(g[a]=b)});h.data("fill")&&(g.color=h.data("fill"))})();k||(c(),d());(function(){var a=tm(g.fontFamily);a?g.fontMedia={id:a.F(),version:a.S()}:h.data("fontMedia")&&(g.fontMedia=
h.data("fontMedia"));var c=om(h).map(b).filter(function(a){return!!a}).filter(function(b){return!a||b.id!==a.id});0<c.length?g.htmlFontMedia=c:h.data("htmlFontMedia")&&(g.htmlFontMedia=h.data("htmlFontMedia"))})();return g};function qg(a){this.type=a.type;this.id=a.id||"";this.version=a.version||0}qg.prototype.Yb=function(){return this.type};qg.prototype.F=function(){return this.id};qg.prototype.bj=function(){this.type=Wm;return this};qg.prototype.serialize=function(){return this.type===Wm||this.type===Xm?{type:this.type,id:this.id,version:this.version}:this.type?{type:this.type}:null};function Y(a){this.L=ya;this.aa=$('\x3cdiv class\x3d"element" /\x3e');this.aa.data("canvaElement",this);this.selected=!1;this.tk=!0;this.Xa=this.rotation=this.height=this.width=this.top=this.left=0;this.page=this.Cb=null;this.pg=!1;this.bc=0;this.link="";this.zd=!1;this.origin=null;var b=ub(this.L);this.zb=null;this.Mk={Link:b.format("editorToolbarElementLink"),Transparency:b.format("editorToolbarElementTransparency")};this.Cg(1)&&(this.Mk["Flip Horizontally"]=b.format("editorToolbarElementFlipHorizontally"));
this.Cg(2)&&(this.Mk["Flip Vertically"]=b.format("editorToolbarElementFlipVertically"));this.un=!0;a&&(b=Zf({left:a.left,top:a.top,width:a.width,height:a.height}),this.ob(b),null!=a.rotation&&(this.rotation=a.rotation),null!=a.flipOrientation&&(this.Xa=a.flipOrientation),0<=Object.keys(a).indexOf("userEdited")&&(this.un=a.userEdited),0<=Object.keys(a).indexOf("transparency")&&(this.bc=a.transparency),0<=Object.keys(a).indexOf("link")&&(this.link=a.link),null!=a.origin&&(this.origin=new qg(a.origin)))}
f=Y.prototype;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(Y.prototype,Backbone.Events);f=Y.prototype;f.mw=function(){return!1};f.transform=function(a){var b=Ag(zg([this.N(),this.K()]).transform(a));Ph(this,Ym(this.Ga(),180*Math.atan2(a.m[3],a.m[4])/Math.PI*-1));this.setPosition(b[0],b[1])};f.C=function(){return this.aa};
function Zm(a){a=a.aa[0].children;for(var b=0;b<a.length;b++){var c=a[b];if(c.classList.contains("inner"))return $(c)}return $()}function $m(a){return a.elements&&0!==a.elements.length}f.Ku=function(){this.zd=!0};f.Qh=function(){return!1};f.hu=function(){return!1};f.Jm=function(){};f.Gf=function(){};f.Oe=function(){};function an(a){return _.map(a.Mk,function(a,c){return{name:a,id:c,enabled:!0}})}f.Ye=function(){return!0};
function bn(a,b){function c(){d.off("placeholderImage:loaded",e);d.em(b)}if(void 0===a.na||void 0===a.rb)throw Error("loadImagesAndFilters must be called on elements that have placeable and filterable images");var d=a,e=_.after(a.na.length,c);a.on("placeholderImage:loaded",e);0===a.na.length?window.setTimeout(c,0):a.na.forEach(function(a,b){a.update(function(){d.trigger("placeholderImage:loaded",b)})})}
f.em=function(a){function b(){c.Km();a&&a()}if(void 0===this.na||void 0===this.rb)throw Error("initializeFilters must be called on elements that have placeable and filterable images");var c=this,d=_.after(this.rb.length,b);0===this.rb.length?window.setTimeout(b,0):this.rb.forEach(function(a){a.initialize(d)})};f.Xc=function(){return this.origin};
function cn(a,b){for(var c=[],d={},e=_.pluck(a,"index"),g,h=0;h<b.length;h++)d={},g=e.indexOf(h),-1<g?d=a[g]:d.index=h,c.push(dn(d.filter,b[d.index]));return c}function en(a,b,c){for(var d=[],e={},g=_.pluck(a,"index"),h,k=0;k<b;k++)e={},h=g.indexOf(k),-1<h?e=a[h]:e.index=k,h=c.is(".svg.element")?c.find("svg image.placeholder").eq(k).parent():c.find(".placeholder").eq(k).parent(),d.push(new fn(e,h));return d}
function Cc(a){switch(a.type){case "text":return new Ci(a);case "image":return new gn(a);case "svg":return new Qh(a);case "grid":return new hn(a);case "fixed":return new jn(a);case "group":return new kn(a)}return null}f.mc=function(){delete this.Jc};f.remove=function(){this.page&&this.page.vi(this,!1,!0);this.zb&&this.zb.remove();this.zb=this.Cb=this.page=null};f.V=function(){return this.page?this.page.fa().indexOf(this):-1};f.T=function(){return this.page};f.Hk=function(a){this.bc=a;this.Pa()};
f.Yt=function(){return this.bc};function ln(a){return ab.test(a)||db.test(a)||eb.test(a)||ib.test(a)}function mn(a,b){ln(b)?a.link=b||"":a.link=""}function nn(a){return ln(a.link)?a.link:""}f.Ba=function(a){on(this,a);this.Pa()};function on(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.left=b)}f.N=function(){return this.left};function pn(a){return{bc:a.bc,rotation:a.Ga(),top:a.K(),left:a.N(),width:a.A(),height:a.B()}}
function qn(a){var b={left:0,top:0,right:0,bottom:0,width:0,height:0},c=L;if(a.Cb){var d=a.C().get(0);a=a.Cb.get(0);d.parentNode&&a.parentNode&&(d=d.getBoundingClientRect(),a=a.getBoundingClientRect(),b.left=(d.left-a.left)/c,b.right=(d.right-a.left)/c,b.top=(d.top-a.top)/c,b.bottom=(d.bottom-a.top)/c,b.width=b.right-b.left,b.height=b.bottom-b.top)}return b}f.gb=function(){return qn(this).left};f.Ob=function(){return qn(this).right};f.Oa=function(){return qn(this).top};f.Bb=function(){return qn(this).bottom};
f.Hc=function(){return qn(this).width};f.Fc=function(){return qn(this).height};f.Za=function(){var a=Math.round(this.left*L);return(this.page.Za()||0)+a};f.Da=function(a){rn(this,a);this.Pa()};function rn(a,b){void 0!==b&&!isNaN(b)&&isFinite(b)&&(a.top=b)}f.K=function(){return this.top};f.fb=function(){var a=Math.round(this.top*L);return(this.page.fb()||0)+a};f.Ds=function(){};f.Iv=function(){};f.setPosition=function(a,b){on(this,a);rn(this,b);this.Pa()};
f.Z=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.width=a);a=sn(this);this.C().css("width",a)};f.A=function(){return this.width};function sn(a){return Math.round(a.A()*L)}f.W=function(a){void 0!==a&&!isNaN(a)&&isFinite(a)&&(this.height=a);a=Wh(this);this.C().css("height",a)};f.B=function(){return this.height};function Wh(a){return Math.round(a.B()*L)}f.setSize=function(a,b){this.Z(a);this.W(b)};
function Vh(a){a=a.C().get(0).getBoundingClientRect();return{x:a.left+a.width/2,y:a.top+a.height/2}}f.Kh=function(){return this.N()+this.A()/2};f.ob=function(a){var b=a.N(),c=a.K();on(this,b);rn(this,c);this.setSize(a.A(),a.B())};f.ba=function(){return new K(this.N(),this.K(),this.A(),this.B())};function Ph(a,b){a.rotation=b;a.Pa()}f.Ga=function(){return this.rotation};f.Ai=function(a){this.Xa=a};f.Zg=function(a){var b=this.Xa^a;this.Ai(a);1!=b&&2!=b||this.pk();this.Pa()};f.Cg=function(){return!1};
f.pk=function(){};f.Ta=function(){return this.left+this.width};f.sa=function(){return this.top+this.height};f.Us=function(){};f.rh=function(){return!0};f.il=function(){return!0};f.fj=function(){return!0};f.jl=function(){return!1};f.qe=function(){return!1};f.ib=function(){return!1};f.Pp=function(){return!1};f.Xf=function(a){this.selected=a};function tn(a){return 0<a.C().parents(".group").length}
f.Pa=function(a){var b=this.C(),c=Math.round(this.left*L),d=Math.round(this.top*L);if(0<this.C().parents("#overlays").length&&!tn(this))var e=this.page||t.O[0],c=c+Math.round(e.Za()),d=d+Math.round(e.fb());b.css("transform",Oh({kc:c,lc:d,rotateZ:this.rotation}));b.css("opacity",(100-this.bc)/100);this.Cg(0)&&this.bs();!a&&this.Cb&&this.ua()};f.bs=function(){};function un(a){var b=2.5*a.A();a.C().css("perspective",b+"px")}f.clone=function(){return Cc(this.serialize())};
f.appendTo=function(a){-1==a.elements.indexOf(this)?a.addElement(this):vn(a,this,a.fa().length)};f.Wh=function(a){return a?ad(this.ba(),a.ba()):!1};f.insertAfter=function(a){var b=a.V();if(-1!=b){var c=a.page,d=c.elements.indexOf(this);-1==d?vn(c,this,b+1):d<b?vn(c,this,b):d>b&&vn(c,this,b+1);!this.Cb&&a.Cb&&(this.Cb=a.Cb);this.ra()}};
f.insertBefore=function(a){var b=a.V();if(-1!=b){var c=a.T(),d=c.elements.indexOf(this);-1==d?vn(c,this,b):d<b-1?vn(c,this,b-1):d>b&&vn(c,this,b);!this.Cb&&a.Cb&&(this.Cb=a.Cb)}};f.ra=function(){function a(){b.Cb&&b.ua()}var b=this;this.tk&&(on(this),rn(this),this.Pa(!0),this.Z(),this.W(),this.Pa(),this.zb&&this.zb.Xe()?this.zb.update(!1,a):a())};
f.ua=function(){var a=this.C(),b=this.Za(),c=this.fb()+(this.Oa()-this.K())*L,d=a.data("toolbar"),a=a.data("textToolbar");d?(a=$(".multipleSelectionBox"),b=new K(b,c,this.Hc()*L,this.Fc()*L),0>=a.length?(wn(d,b),xn(d,this)):(b=new K(parseInt(a.css("left"),10),parseInt(a.css("top"),10),a.width(),a.height()),wn(d,b))):a&&xn(a,this);yn(this)};
function yn(a){var b=a.C(),c=a.Za(),d=a.fb(),e=a.Ga(),g=sn(a),h=Wh(a)||b.height(),k=b.data("selectionBox"),l=0,m=0;bd().write(function(){if(k){k.css("transform",Oh({kc:c,lc:d,rotateZ:e})).css("width",g).css("height",h);if(a.ge&&a.ge()){var b=a.C().css("font-size").replace("px","");l=a.ge()/1E3*parseInt(b,10)}a.Ez&&(m=a.padding||0);k.css("padding",(l+m)*L)}zn(k,e)}).done()}
f.Ld=function(){var a=this.C(),b=a.data("selectionBox"),c=a.data("toolbar"),d=c&&c.data("colorSwatches");b&&b.remove();c&&c.remove();d&&d.remove();a.removeData("selectionBox").removeData("toolbar").removeData("colorSwatches");An();Bn.zf()};
f.serialize=function(){var a={elementIndex:this.V(),left:this.left,top:this.top,width:this.width,height:this.height,rotation:this.rotation,transparency:this.bc,userEdited:this.un};this.link&&(a.link=this.link);var b=this.origin&&this.origin.serialize();b&&(a.origin=b);0!=this.Xa&&(a.flipOrientation=this.Xa);return a};f.Dg=function(){return!1};f.Rp=function(){return!1};f.Ue=function(){return this.Jc||(this.Jc=new Hh)};f.Nj=function(){return!1};f.Gj=function(){return{}};f.aw=function(){};f.qr=function(){};
f.cr=function(){};function Cn(){return 0==this.Uc().length}function Dn(){var a=this.Ec(),b=this.Ra(),c=this.na?this.na[this.eb()].Xa:this.Xa;return kg(a,b,c)}
function En(){var a=this.C(),b=this.Uc(),c=this.Ra();c.scale(L).round();var d=a.data("toolbar");d&&d.css("display","none");d=a.data("cropControls");d||(d=$('\x3cdiv class\x3d"cropControls"\x3e\x3cdiv class\x3d"viewPort"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg class\x3d"masked" /\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"cropBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3cimg class\x3d"uncropped" /\x3e\x3c/div\x3e\x3c/div\x3e'),d.data("canvaElement",
this),a.data("cropControls",d),d.appendTo("#overlays"));var e=d.find(".viewPort");e.css(Fn(c,0));e.children(".inner").css("width",c.A()).css("height",c.B());var g=b.attr("src")||b.attr("xlink:href"),b=d.find("img.masked, img.uncropped");b.attr("src")!=g&&b.each(function(){Fa($(this),g)});var h=a.data("selectionBox"),b=Gn(h);d.css(Fn(b,this.Ga()));var k=this.Ec();k.scale(L).round();var l=this.na?this.na[this.eb()].Xa:this.Xa;Hn(e.find("img.masked"),k,l);k.translate(c.N(),c.K());c=d.find(".cropBox");
c.css(Fn(k,0));Hn(c.find("img.uncropped"),null,l);h.addClass("cropping");In(a);a=a.data("confirmationToolbar");c=k.clone().translate(b.N(),b.K());wn(a,c)}function Jn(a,b){var c=this.Ec(),d=this.Ra();d.Ba(0).Da(0);a>d.N()?a=d.N():a+c.A()<d.Ta()&&(a=d.Ta()-c.A());b>d.K()?b=d.K():b+c.B()<d.sa()&&(b=d.sa()-c.B());c.Ba(a).Da(b);this.Ae(c)}function Kn(a){var b=this.eb();-1<b&&Ln(this.na[b],a)}
function Mn(){var a=this.C();a.removeClass("cropping");var b=a.data("confirmationToolbar"),c=a.data("cropControls");a.removeData("confirmationToolbar").removeData("cropControls");b&&b.remove();c&&c.remove();(a=a.data("selectionBox"))&&a.removeClass("cropping")}function Nn(){this.C().removeClass("cropping");var a=this.Uc();if(a){var b=this.Rl().scale(L).round();a.css(Fn(b,0)).attr("data-image-rect",JSON.stringify(this.Ec().serialize()))}}function On(){var a=this.eb();return this.Ve(a)}
function Pn(){var a=this.eb();if(-1===a)return!1;a=this.Lf(a);return void 0!==a.mediaId&&void 0!==a.mediaVersion}function Qn(a){var b=a.pe;b.data("mediaId",a.ha);b.data("mediaVersion",a.ia);var c=a.Nl["print"===Rn?Sn:Oc];Fa(b,a.Nl[Tn].ca());Un(Ea,c.ca(),function(c,e){b.data("mediaId")===a.ha&&b.data("mediaVersion")===a.ia&&(e&&Fa(b,c),a.wm&&a.wm(e))})}
function gn(a){var b=this;Y.call(this,a);this.pg=!0;this.background=!!a.isBackground;this.ft=!!a.isDark;this.backgroundColor=a.backgroundColor;this.ha=a.mediaId;this.ia=a.mediaVersion;this.Ib=void 0===a.mediaApproved?!0:a.mediaApproved;this.tl=(this.Ap=void 0!==a.isCutout)?a.isCutout:!0;this.Yq=!!a.isRecolorable||this.tl;var c=void 0!=this.ha&&void 0!=this.ia,d=this.C();d.addClass("image").toggleClass("hasMedia",c);if(c){var e=$("\x3cdiv\x3e").addClass("imageWrapper");e.append("\x3cimg\x3e");e.appendTo(d);
this.Va=new fn({mediaId:this.ha,mediaVersion:this.ia,mediaApproved:this.Ib},e);this.zb=dn(a.filter,this.Va);this.Bi(this.ha,this.ia)}else this.zb=this.Va=null;this.Yq&&d.css("background-color",this.backgroundColor);this.wc=new K((this.width-.5*this.width)/2,(this.height-.5*this.height)/2,.5*this.width,.5*this.height);this.la=new K(-this.wc.N(),-this.wc.K(),this.width,this.height);this.Qi=this.ba();this.Wd=!1;if(d=a.imageBox)Ae(this,new K(-1*d.left,-1*d.top,this.width,this.height)),this.Ae(Zf(d)),
this.Qi=this.Ec(),this.og(),a=Zf({left:a.left,top:a.top,width:a.width,height:a.height}),this.ob(a);this.background&&ri(this);c||window.requestAnimationFrame(function(){E.trigger("elementLoaded",b);E.trigger("elementLoaded:image",b)})}gn.prototype=Object.create(Y.prototype);f=gn.prototype;f.constructor=gn;f.Th=Cn;f.pr=Jn;f.Tf=Mn;f.Ra=On;f.Rl=Dn;f.Qh=function(){return!!this.zb};f.hu=function(){return!0};f.Ab=function(){return this.zb};f.If=function(a){return 0===a?this.zb:null};
f.Ye=function(){return!(!this.zb||!this.zb.Xe())};f.Wz=gn.prototype.Ye;f.Jm=function(a,b){Vn(this.zb,b)};f.Gf=function(){this.zb.Gf()};f.Oe=function(){this.zb.Oe()};f.em=function(a){function b(){c.Km();E.trigger("elementLoaded",c);E.trigger("elementLoaded:image",c);a&&a()}var c=this;this.zb&&this.zb.initialize(b)};f.Km=function(){if(this.Wz()){var a=this.C().data("toolbar");a&&a.find(".elementToolbarPhotoFilters").removeClass("disabled").addClass("enabled")}};f.jl=function(){return!this.ib()&&!this.qe()};
function Wn(a){return a.ib()&&a.Ib&&null===a.Gc()}f.appendTo=function(a){this.ib()?(vn(a,this,0),Xn(a)):Y.prototype.appendTo.call(this,a)};
f.serialize=function(){var a=Y.prototype.serialize.call(this),b=null;this.zb&&(b=Yn(this.zb))&&(a.filter=b);a.type="image";a.mediaId=this.ha;a.mediaVersion=this.ia;a.isBackground=this.background;a.isRecolorable=this.Yq;a.isCutout=this.tl;a.isDark=this.ft;this.backgroundColor&&(a.backgroundColor=this.backgroundColor);this.Ib||(a.mediaApproved=!1);this.Wd&&(a.imageBox=this.la.serialize());return a};
f.Z=function(a){void 0===a&&(a=this.width);var b=this.C(),c=a!=this.width;this.la&&c&&!b.is(".cropping")&&(b=a/this.width,this.la.scale(b,1),this.wc.scale(b,1));this.Va&&Ln(this.Va,this.Wd?this.la:new K(0,0,a,this.height));Y.prototype.Z.call(this,a)};f.W=function(a){void 0===a&&(a=this.height);var b=this.C(),c=a!=this.height;this.la&&c&&!b.is(".cropping")&&(b=a/this.height,this.la.scale(1,b),this.wc.scale(1,b));this.Va&&Ln(this.Va,this.Wd?this.la:new K(0,0,this.width,a));Y.prototype.W.call(this,a)};
f.Cg=function(){return!0};f.Ai=function(a){kg(this.la,this.wc,this.Xa^a);this.wc.Ba(-this.la.N());this.wc.Da(-this.la.K());this.Xa=a};f.bs=function(){Hn(this.C().find(".imageWrapper"),null,this.Xa)};f.pk=function(){if(la){un(this);var a=this.C().find(".imageWrapper");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})}};f.ra=function(){Y.prototype.ra.call(this);var a=this.C();if(this.Wd&&!a.is(".cropping")){var b=this.Rl().scale(L).round();$("img",a).css(Fn(b,0))}};
f.ua=function(){Y.prototype.ua.call(this);this.C().is(".cropping")?this.oj():this.Tf()};f.wn=function(a){Wn(this)||yi(a,this.Gc())||(this.xr(!1),this.ia=this.ha=null)};f.Dg=function(){return!0};f.Gc=function(){return null!=this.ha&&null!=this.ia?new xg(this.ha,this.ia):null};f.Bi=function(a,b){function c(a){a?d.em():E.trigger("elementLoadingError",d)}this.ha=a;this.ia=b;var d=this,e=ua.Nb(a,b);e?Qn({Nl:e,pe:d.C().find("img"),ha:a,ia:b,wm:c}):c(!1)};f.Zj=function(){return this.Ib};
f.xr=function(a){this.Ib=a;this.C().toggleClass("unapproved",!a);this.ua()};f.Yg=function(){};f.Uc=function(){return this.C().find("img")};f.eb=function(){return 0};f.Fj=function(a){return 0!=a?$():$("img",this.C()).eq(0)};f.ke=function(){return 1};f.Ve=function(){return this.wc.clone()};f.Lf=function(){return null};f.Nh=function(){return this.Va};f.qf=function(){};f.xk=function(){};function Ae(a,b){var c=a.wc.N(),d=a.wc.K();a.wc=b.clone();a.la.translate(c-a.wc.N(),d-a.wc.K())}f.Ec=function(){return this.la.clone()};
f.Ep=function(){return!0};
f.oj=function(){var a=this.C();this.sn||(this.sn=!0,this.Qi=new K(this.left+(this.Wd?this.la.N():0),this.top+(this.Wd?this.la.K():0),this.la.A(),this.la.B()));var b=this.page.Za()||0,c=this.page.fb()||0,d=this.Qi.clone();d.scale(L).translate(b,c).round();a.data("selectionBox").css(Fn(d,this.Ga()));En.call(this);0==$(".viewPort .frameHandle").length&&(b=$('\x3ca class\x3d"frameHandle tl" href\x3d"#"\x3e\x3cspan class\x3d"tl"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle tr" href\x3d"#"\x3e\x3cspan class\x3d"tr"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle br" href\x3d"#"\x3e\x3cspan class\x3d"br"\x3e\x3c/span\x3e\x3c/a\x3e\x3ca class\x3d"frameHandle bl" href\x3d"#"\x3e\x3cspan class\x3d"bl"\x3e\x3c/span\x3e\x3c/a\x3e'),a=
a.data("cropControls"),$(".viewPort",a).append(b))};f.Ld=function(){Y.prototype.Ld.call(this);this.Tf()};f.Ae=function(a){this.la=a.clone()};f.og=function(){Nn.call(this);var a=this.C();this.Uc().css("position","absolute");a.css("overflow","hidden");var b=this.wc.clone();b.translate(this.Qi.N(),this.Qi.K());a.addClass("cropping");this.ob(b);a.removeClass("cropping");this.wc.Ba(-this.la.N()).Da(-this.la.K());this.Wd=!0;this.sn=!1};
function ri(a){a.background=!0;a.pg=!1;a.C().addClass("background");a.page&&(vn(a.page,a,0),Xn(a.page),a.page.trigger("change:background",a.page));a.mc()}function Zn(a){a.background=!1;a.pg=!0;a.C().removeClass("background");a.page&&a.page.trigger("change:background",a.page);a.mc()}f.ib=function(){return this.background};f.re=function(){return this.Yq};f.qe=function(){var a=this;this.Ap||(this.Ap=!0,sa.Na(this.ha,(new $n).mh(this.ia),function(b,c){a.tl=c.da().qe()}));return this.tl};
f.Vc=function(){var a=[];if(this.ib()&&this.re()){var b=Q(this.backgroundColor||"#ffffff");b&&a.push(b)}return a};f.Wm=function(a){var b=this.C();a?(this.backgroundColor=a.X(),b.css("background-color",this.backgroundColor)):(this.backgroundColor=null,b.css("background-color",""));this.ib()&&this.page&&(this.page.trigger("change:background",this.page),this.ua());this.mc()};f.yi=function(a,b){if(0!==a)throw Error("ImageElement.setChangeableColorAtIndex - invalid index: "+a.toString());this.Wm(b)};
f.Ue=function(){if(this.Jc)return this.Jc;var a=new Hh;this.Vc().forEach(function(b){a.fd(b)});return this.Jc=a};
function Qh(a){this.gf=[];this.ta=this.jb=this.On=null;this.Ha=$();this.Hi=[];this.Jr=$();this.na=[];this.rb=[];this.loaded=!1;this.Ms=null;Y.call(this,a);if(void 0!==a&&void 0!==a.mediaId){this.ha=a.mediaId;this.ia=a.mediaVersion;this.Ib=void 0===a.mediaApproved?!0:a.mediaApproved;var b=this.C();b.addClass("svg");var c=$('\x3cimg class\x3d"placeholder" /\x3e');b.append(c);this.listenTo(this,"change:fontSize",this.av);this.listenTo(this,"change:fontFamily",this.av);a.contents&&(this.contents=Object.freeze(a.contents.slice(0)));
a.scale&&(this.scale=a.scale);a.fillColors&&(this.xj=a.fillColors.map(function(a){return{index:a.index,color:Q(a.color)}}),Object.freeze(this.xj));this.Bi(this.ha,this.ia)}}Qh.prototype=Object.create(Y.prototype);f=Qh.prototype;f.constructor=Qh;f.Th=Cn;f.Tf=Mn;f.Ra=On;f.Ep=Pn;f.Rl=Dn;f.ph=Om;f.it=Um;f.Xb=xm;f.Pt=Mm;f.Cj=Lm;f.Qt=Km;f.tp=Gm;f.Mm=Jm;f.wk=Nm;f.Xv=Tm;f.nr=Vm;f.of=Am;f.setColor=zm;f.Yv=Im;f.Ym=qm;f.ur=rm;f.Ce=sm;f.jc=vm;f.Zm=wm;f.pf=Bm;f.wd=ym;f.$m=Pm;f.Zv=Qm;f.vr=Hm;f.wr=Fm;f.Fk=Cm;
f.an=Em;f.Mr=Rm;f.Cg=function(){return!1};f.Yj=function(){return!0};f.Qh=function(){return!0};f.bs=function(){Hn(this.C().children("svg"),null,this.Xa)};f.pk=function(){un(this);var a=this.C().children("svg");a.get(0).classList.add("flipping");a.one("transitionend",function(){a.get(0).classList.remove("flipping")})};f.Iv=function(){ok(ta,"hasUpdatedSvgPlaceholder");$(".dragAPhotoInHere").remove()};
function ao(){$(".dragAPhotoInHere").each(function(a,b){b.setAttribute("class","dragAPhotoInHere hidden")})}function bo(){$(".dragAPhotoInHere").each(function(a,b){b.setAttribute("class","dragAPhotoInHere")})}f.wn=function(a){yi(a,this.Gc())||(this.xr(!1),this.ia=this.ha=null)};f.Dg=function(){return!0};
f.Ds=function(){function a(){window.clearTimeout(y);x.setAttribute("fill",z);x.setAttribute("fill-opacity","1")}function b(){y=window.setTimeout(c,100)}function c(){x.setAttribute("fill","black");x.setAttribute("fill-opacity","0.4")}function d(){function b(g){jQuery.contains(document.documentElement,x)||($(".page.selected, #overlays").off("mousemove",b),$(".page.selected, #overlays").off("mouseover",d));g.clientX>=e.left&&g.clientX<=e.right&&g.clientY>=e.top&&g.clientY<=e.bottom?($("#overlays .selectionBox").css("cursor",
"pointer"),a()):($("#overlays .selectionBox").css("cursor","move"),c())}var e=x.getBoundingClientRect();$(".page.selected, #overlays").on("mousemove",b);$(".page.selected, #overlays").on("mouseout",function(){$(".page.selected, #overlays").off("mousemove",b)})}var e=50/54;if(!(1>this.gf.length)){var g=this.gf[this.gf.length-1],h=co(this).last();if(!h.parent().hasClass("filled")){var h=$(h).parent("g.canva"),k=g.A(),l=g.B(),m=l/15,n=.2*l,l=l/3.5,p=l*e,r=g.N(),q=g.K(),e=function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",
"text");c.setAttribute("width",p);c.setAttribute("x",r+k/2);c.setAttribute("y",b);c.setAttribute("font-size",m);c.setAttribute("text-anchor","middle");c.setAttribute("class","dragAPhotoInHere");c.appendChild(document.createTextNode(a));return c},g=q+l+n+1.44*m,v=g+1.2*m,w=v+1.2*m;h.append(function(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg","image");c.setAttributeNS("http://www.w3.org/1999/xlink","href","https://static.canva.com/static/images/placeholder_arrow.png");c.setAttribute("width",a);c.setAttribute("height",
b);c.setAttribute("x",r+k/2-p/1.5);c.setAttribute("y",q+n);c.setAttribute("class","dragAPhotoInHere");return c}(p,l));h.append(e("DRAG A PHOTO",g));h.append(e("IN HERE OR",v));l=function(a,b){var c=p/16,d=document.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("width",p);d.setAttribute("x",r+k/2);d.setAttribute("y",b+3*c);d.setAttribute("font-size",m-2);d.setAttribute("fill","white");d.setAttribute("text-anchor","middle");d.setAttribute("class","uploadYourOwn");d.setAttribute("z-index",
1);d.setAttribute("class","uploadAPhoto dragAPhotoInHere");d.appendChild(document.createTextNode(a));return d}("UPLOAD YOUR OWN",w);h.append(l);var x=function(a){var b=p/16,c=p/16,d=document.createElementNS("http://www.w3.org/2000/svg","rect");d.setAttribute("width",a.width+2*b+20);d.setAttribute("x",a.x-b-10);d.setAttribute("y",a.y-c);d.setAttribute("height",a.height+2*b);d.setAttribute("fill","black");d.setAttribute("fill-opacity","0.4");d.setAttribute("rx",a.height/1.6);d.setAttribute("ry",a.height/
1.6);d.setAttribute("class","uploadAPhoto uploadAPhotoButton dragAPhotoInHere");d.setAttribute("z-index",2);return d}(l.getBBox());x.onmouseover=a;l.onmouseover=a;var y=0,z="#00c4cc";x.onmouseout=b;l.onmouseout=b;$(".page.selected, #overlays").on("mouseover",d);l.parentNode.removeChild(l);h.append(x);h.append(l)}}};
f.gl=function(a,b){function c(){k.Ha.each(function(a,b){k.$g(a,k.Pb(a),x,!0);$(b).css("opacity","")});k.ra();l.forEach(function(a){var b=a.index,c=k.za(b);k.$g(b,a,function(b){b&&void 0!==a.lineLengths&&jm(c,a.lineLengths);x()},!0)});k.gf=eo(p,".photoPlaceholder");k.pg=0<k.ke();ho(p,k.gf);io(p,k.gf);jo(p,k.gf);0!==k.C().parent().length&&k.Ds(p);m&&(k.na=en(m,k.ke(),h),k.rb=cn(m,k.na),Object.freeze(k.rb),Object.freeze(k.na));k.na.forEach(function(a,b){ag(ko(a),$f)&&Ln(a,lo(k,b))});k.na.some(g)&&ao();
bn(k,function(){w=!0;e()})}function d(){v=!0;window.setTimeout(e,0)}function e(){w&&v&&!k.loaded&&(k.loaded=!0,p.css("position","absolute"),b&&b(!0))}function g(a){return mo(a)}var h=this.C(),k=this,l=this.contents?this.contents.filter(function(a){return"text"==a.type}):[],m=this.contents?this.contents.filter(function(a){return"image"==a.type}):[];if(no(a,!0)){var n=oo(),n=po(a,n),p=$(n).filter("svg");qo(p);p=$(p.get(0).cloneNode(!0));p.appendTo(h);this.jb=ro(p);this.width&&this.height||(this.Z(this.jb.A()),
this.W(this.jb.B()));this.Ha=so(p,qb(this.L));this.Ha.css("opacity",0).data("canvaElement",this).appendTo(h);to(this);uo(this).each(function(){var a=$(this).data("designObject");k.listenTo(a,"change:width",k.Zu);k.listenTo(a,"change:height",k.Yu)});n=vo(p,this.Ha);this.Hi=n.Hi;this.Hi.forEach(function(a){k.listenTo(a,"change",k.dv)});this.Jr=n.My;this.Jr.appendTo(h);this.xj&&this.xj.forEach(function(a){k.yi(a.index,a.color)});var r=[],q=[];this.Ha.each(function(){var a=$(this).data("fontFamily"),
b=bm($(this)).Fd;a&&r.push(a);r=r.concat(b)});l.forEach(function(a){var b=nm('\x3cfont face\x3d"'+a.fontFamily+'"\x3e\x3c/font\x3e'+a.html);r=r.concat(b);a.lineLengths&&k.za(a.index).data("cachedLineLengths",a.lineLengths);q=q.concat(wo([a.fontMedia])||[]);q=q.concat(wo(a.htmlFontMedia)||[])});q=q.filter(Boolean);k.ta=xo(p);k.ta&&(k.scale&&yo(k),k.Z(k.A()),k.W(k.B()));var v=!1,w=!1,n=this.Ha.length+l.length,x=_.after(n,d);0===n&&d();this.mc();zo(xa,q,r,c)}else b(!1)};
f.ra=function(){Y.prototype.ra.call(this);Rh(this);Ao(this)};f.Ab=function(){var a=this.eb();return-1<a?this.rb[a]:null};f.If=function(a){return this.rb[a]};f.Ye=function(){return!(!this.Ab()||!this.Ab().Xe())};f.Gf=function(){this.Ab()&&this.Ab().Gf()};f.Oe=function(){this.Ab()&&this.Ab().Oe()};f.Km=function(){if(this.Ab()&&this.Ab().Xe()){var a=this.C().data("imageToolbar");a&&a.find(".elementToolbarPhotoFilters").removeClass("disabled").addClass("enabled")}};f.Jm=function(a,b){Vn(this.rb[a],b)};
f.av=function(a,b){var c=b.data("designObject");c&&this.loaded&&Bo(c)};var Co=0;function oo(){Co=Co==Math.pow(2,53)?0:Co+1;return"CANVA"+Co+"_"}function Do(a){return 0<$("g",a).filter(function(){return-1!="nw n ne w c e sw s se".split(" ").indexOf(this.id)}).length}
function xo(a){function b(a){for(a=a.firstChild;a&&a.nodeType!=Node.ELEMENT_NODE;)a=a.nextSibling;return a}function c(a,c,d,e,g){if(0!=a.length){var h=document.createElementNS("http://www.w3.org/2000/svg","pattern");p.appendChild(h);h.id=oo()+Co.toString();h.setAttribute("width",e);h.setAttribute("height",g);h.setAttribute("patternUnits","userSpaceOnUse");h.setAttribute("patternTransform","translate("+c.toString()+", "+d.toString()+")");e=a.get(0).cloneNode(!0);e.removeAttribute("id");e.setAttribute("transform",
"translate("+(-c).toString()+", "+(-d).toString()+")");$("g.canva, .textPlaceholder, .photoPlaceholder",e).remove();h.appendChild(e);a.children(":not(.canva)").remove();e=document.createElementNS("http://www.w3.org/2000/svg","rect");e.setAttribute("class","repeat");e.setAttribute("fill","url(#"+h.id+")");e.setAttribute("x",c);e.setAttribute("y",d);e.setAttribute("width",h.getAttribute("width"));e.setAttribute("height",h.getAttribute("height"));a=a.get(0);a.insertBefore(e,b(a))}}if(!Do(a))return null;
var d=a.parent(),e=a.prev(),g=ro(a),h={left:0,right:0,top:0,bottom:0,repeat:!1,Ug:!0,kf:!0},k=$("\x3cdiv\x3e\x3c/div\x3e");k.appendTo($("#limbo"));k.css("opacity",0).css("width",g.A()*L).css("height",g.B()*L).append(a);var l=a.get(0),m=g.A(),n=g.B();$("g",a).each(function(a,b){-1!=["n","e","s","w"].indexOf(b.id)&&(h.repeat|=b.classList.contains("repeat"));-1!=["ne","e","se"].indexOf(b.id)?(h.right=Math.max(h.right,m-b.getBBox().x),h.right==m&&(h.right=0)):-1!=["n","c","s"].indexOf(b.id)&&(h.left=
Math.max(h.left,b.getBBox().x));-1!=["sw","s","se"].indexOf(b.id)?(h.bottom=Math.max(h.bottom,n-b.getBBox().y),h.bottom==n&&(h.bottom=0)):-1!=["w","c","e"].indexOf(b.id)&&(h.top=Math.max(h.top,b.getBBox().y))});h.Ug=!l.classList.contains("verticalOnly");h.kf=!l.classList.contains("horizontalOnly");if(h.repeat){var p=document.createElementNS("http://www.w3.org/2000/svg","defs");l.insertBefore(p,b(l));var g=h.left+h.right,r=h.top+h.bottom,q=l.classList.contains("horizontalOnly"),l=l.classList.contains("verticalOnly");
c($("g#n",a),h.left,0,m-g,q?n:h.top);c($("g#s",a),h.left,n-h.bottom,m-g,q?n:h.bottom);c($("g#c",a),h.left,h.top,m-g,n-r);c($("g#w",a),0,h.top,l?m:h.left,n-r);c($("g#e",a),m-h.right,h.top,l?m:h.right,n-r)}0<d.length?0<e.length?a.insertAfter(e):a.prependTo(d):a.detach();k.remove();return h}
function eo(a,b){var c=[];if(0===a.find(b).length)return c;var d=a.parent(),e=a.prev(),g=ro(a),h=$("\x3cdiv\x3e\x3c/div\x3e");h.appendTo($("#limbo"));h.css("width",g.A()).css("height",g.B());a.appendTo(h);a.attr("stroke","transparent").attr("stroke-width",0).forceLayout();var k=a.get(0).getBoundingClientRect();$(b,a).each(function(a,b){var d=$(b).clone();d.attr("fill","transparent").appendTo($(b).parents("g, svg").first()).forceLayout();var e=$c(d.get(0).getBoundingClientRect());d.remove();e.translate(-k.left,
-k.top);c.push(e)});0<d.length?0<e.length?a.insertAfter(e):a.prependTo(d):a.detach();h.remove();return c}
function so(a,b){var c=$(),d=eo(a,".textPlaceholder"),e=$(".canva .textPlaceholder",a);d.forEach(function(a,d){var k=e.eq(d),l=k.data()||{},m=$('\x3cdiv class\x3d"text"\x3e\x3cdiv class\x3d"inner"\x3e'+(l.placeholderText||b.format("documentSvgPlaceholderText"))+"\x3c/div\x3e\x3c/div\x3e");m.data("textIndex",d).data("placeholderElement",k).data("placeholderText",l.placeholderText).data("rect",a).data("justification",l.justification||"center").css("text-align",l.justification||"center").data("fontSize",
l.fontSize||24).css("font-size",(l.fontSize||24)*bb+"%").data("defaultFontSize",l.fontSize||24).data("original-fill",l.fill).data("is-primary-color",l.fill&&"#ffffff"===l.fill.toLowerCase()).data("is-secondary-color",l.fill&&"#3f4652"===l.fill.toLowerCase()).data("fill",l.fill).css("color",l.fill||"").data("fontName",l.fontName).data("fontFamily",l.fontFamily).css("font-family",l.fontFamily?l.fontFamily:"").data("bold",l.bold).data("italic",l.italic).data("lineSpacing",l.lineSpacing||1.2).css("line-height",
l.lineSpacing||1.2).data("dynamicFontSize",l.dynamicFontSize).data("dynamicHeight",l.dynamicHeight).data("dynamicWidth",l.dynamicWidth);0<k.parents().filter(function(){return this.classList.contains("stack")}).length||Eo(m);k=new Fo(m,0,0);m.data("designObject",k);c=c.add(m)});return c}
function vo(a,b){function c(a,b,c){var d=[];$(a).find(".textPlaceholder").each(function(e,g){var r=c.filter(function(){return $(this).data("placeholderElement").get(0)==g});if(1===r.length){var q=new Fo(r.eq(0),b.N(),b.K());r.data("stackId",a.getAttribute("data-stack-id")).data("designObject",q);d.push(q)}});return d}var d=$(),e=[],g=eo(a,".canva.stack");a.find(".canva.stack").each(function(a,k){var l=g[a],m=0<$(k).parents("#n, #c, #s").length,n=0<$(k).parents("#w, #c, #e").length,p=c(k,l,b),l={valign:k.getAttribute("data-valign"),
box:l.serialize(),resizeHorizontal:m,resizeVertical:n,contents:p},l=new Go(l);e.push(l);m=$('\x3cdiv class\x3d"stack"\x3e\x3c/div\x3e');n=b.filter(function(){return $(this).data("stackId")==k.getAttribute("data-stack-id")});m.data("sourceElement",k).data("stack",l).append(n);d=d.add(m)});return{Hi:e,My:d}}
function Eo(a){var b=a.data("placeholderElement"),c=0<b.parents("#n, #c, #s").length,b=0<b.parents("#w, #c, #e").length;c||b?b?a.data("dynamicHeight",!0):c&&a.data("dynamicWidth",!0):a.data("dynamicFontSize",!0)}function ho(a,b){b.forEach(function(b,d){var e=new K(0,0,1438,560);hg(e,b);$("image.placeholder",a).eq(d).attr("x",e.N()).attr("y",e.K()).attr("width",e.A()).attr("height",e.B())})}
function io(a,b){b.forEach(function(b,d){var e=Math.max(b.A(),b.B()),e=new K(0,0,e,e),g=$("image.placeholder",a).eq(d),h=document.createElementNS("http://www.w3.org/2000/svg","rect");gg(hg(e,b).scale(Math.max(1,1.3)),b);var k=isFinite(e.left)&&isFinite(e.top)&&isFinite(e.width)&&isFinite(e.height);isNaN(e.left)||isNaN(e.top)||isNaN(e.width)||isNaN(e.height)||!k||(h.classList.add("vignette"),$(h).appendTo(g.parent()).attr("fill","none").attr("clip-path",g.attr("clip-path")).attr("x",e.N()).attr("y",
e.K()).attr("width",e.A()).attr("height",e.B()))})}function jo(a,b){b.forEach(function(b,d){var e=$("image.placeholder",a).get(d),g=e.cloneNode(!0);g.classList.remove("placeholder");g.classList.add("broken");var h=gg(b.clone().scale(.33),b);$(g).appendTo(e.parentNode).attr("x",h.N()).attr("y",h.K()).attr("width",h.A()).attr("height",h.B());g.setAttributeNS("http://www.w3.org/1999/xlink","href","https://static.canva.com/static/images/broken_image_icon.svg")})}
function Ho(a,b,c,d){if(!c)return b.clone().scale(d.scale);b=b.clone();b.scale(d.scale);c=a.parents("g#ne, g#e, g#se");0<c.length&&(c=c.data("offsetX")||0,b.translate(d.scale*c,0));c=a.parents("g#n, g#c, g#s");0<c.length&&(c=c.data("deltaX")||0,fg(b,c*d.scale,0));c=a.parents("g#sw, g#s, g#se");0<c.length&&(c=c.data("offsetY")||0,b.translate(0,d.scale*c));c=a.parents("g#w, g#c, g#e");0<c.length&&(a=c.data("deltaY")||0,fg(b,0,a*d.scale));return b}f=Qh.prototype;
f.Zu=function(a,b){if(this.ta&&this.ta.Ug&&0!==b){var c=fg(this.ba(),b,0);switch(a.Td.data("justification")){case Io:c.translate(-b/2,0);break;case Jo:c.translate(-b,0)}Ko(this,c);this.Pa()}};f.Yu=function(a,b){if(this.ta&&this.ta.kf&&0!==b){var c=fg(this.ba(),0,b);c.translate(0,-b/2);Ko(this,c);this.Pa()}};function Ko(a,b){var c=a.ua,d=a.Pa;a.ua=function(){};a.Pa=function(){};a.ob(b);a.Pa=d;a.ua=c}
f.dv=function(a){if(this.ta&&(this.ta.Ug||this.ta.kf)){var b=!1,c=a.ba(),d=this.C().children(".stack").filter(function(){return $(this).data("stack")===a}),d=Ho($(d.data("sourceElement")),a.Dj(),!0,Lo(this));if(this.ta.kf){var e=c.sa()-d.sa(),b=b||0!==e;this.W(this.B()+e)}this.ta.Ug&&(c=c.Ta()-d.Ta(),b=b||0!==c,this.Z(this.A()+c));b&&this.ra()}};
function yo(a){var b,c=a.jb;b={scale:a.scale,deltaX:a.A()/a.scale-c.A(),deltaY:a.B()/a.scale-c.B()};var c=b.scale,d=b.deltaX;b=b.deltaY;a.setSize(a.jb.A()*c,a.jb.B()*c);d&&a.Z(c*d+a.A());b&&a.W(c*b+a.B())}
f.setSize=function(a,b){var c=this.width;Mo(a,this.width)&&!Mo(b,this.height)?this.W(b):Mo(b,this.height)&&!Mo(a,this.width)?this.Z(a):(Y.prototype.Z.call(this,a),Y.prototype.W.call(this,b),Ao(this),to(this),void 0!==a&&!isNaN(a)&&isFinite(a)&&this.na.forEach(function(b){var e=ko(b);e.scale(a/c);Ln(b,e)}))};
f.Z=function(a){var b;Y.prototype.Z.call(this,a);if(this.ta&&void 0!==this.width&&void 0!==a&&0!=$("svg",this.C()).length){this.Ha.each(function(){var a=$(this);a.data("dynamicWidth")&&lm(a)});b=ro($("svg",this.C()));b.B()==this.jb.B()?(a=this.jb.B()*this.width/this.height,b=this.jb.clone()):(a=b.B()*this.width/this.height,b=b.clone());b.Z(a);$("svg",this.C()).get(0).setAttribute("viewBox",b.N()+" "+b.K()+" "+b.A()+" "+b.B());b=this.ta.left+this.ta.right;var c=this.jb.A()-b,d=a-b,e=d/c,g=-this.ta.left*
(e-1),h=this;$("g#n, g#c, g#s",this.C()).each(function(){var a=void 0===$(this).data("scaleY")?1:$(this).data("scaleY"),b=$(this).data("offsetY")||0;"c"==this.id&&(b=-h.ta.top*(a-1));h.ta.repeat?$(".repeat",this).attr("width",d):$(this).attr("transform","translate("+g.toString()+", "+b.toString()+") scale("+e.toString()+", "+a.toString()+")");$(this).data("deltaX",d-c).data("scaleX",e)});var k=d-c-1;$("g#ne, g#e, g#se",this.C()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?
1:$(this).data("scaleY");"e"==this.id&&(a=-h.ta.top*(b-1));"e"==this.id&&h.ta.repeat?$(this).attr("transform","translate("+k.toString()+")").data("offsetX",k):$(this).attr("transform","translate("+k.toString()+", "+a.toString()+") scale(1, "+b.toString()+")").data("offsetX",k)});$("g#nw, g#w, g#sw",this.C()).each(function(){var a=$(this).data("offsetY")||0,b=void 0===$(this).data("scaleY")?1:$(this).data("scaleY");"w"==this.id&&(a=-h.ta.top*(b-1));"w"==this.id&&h.ta.repeat?$(this).attr("transform",
"translate(1, 0)").data("offsetX",1):$(this).attr("transform","translate(1,"+a.toString()+") scale(1,"+b.toString()+")").data("offsetX",1)});Ao(this)}};
f.W=function(a){Y.prototype.W.call(this,a);if(this.ta&&void 0!==this.height&&void 0!==a&&0!=$("svg",this.C()).length){var b;b=ro($("svg",this.C()));b.A()==this.jb.A()?(a=this.jb.A()*this.height/this.width,b=this.jb.clone()):(a=b.A()*this.height/this.width,b=b.clone());b.W(a);$("svg",this.C()).get(0).setAttribute("viewBox",b.N()+" "+b.K()+" "+b.A()+" "+b.B());b=this.ta.top+this.ta.bottom;var c=this.jb.B()-b,d=a-b,e=d/c,g=-this.ta.top*(e-1),h=this;$("g#w, g#c, g#e",this.C()).each(function(){var a=void 0===
$(this).data("scaleX")?1:$(this).data("scaleX"),b=$(this).data("offsetX")||0;"c"==this.id&&(b=-h.ta.left*(a-1));h.ta.repeat?$(".repeat",this).attr("height",d):$(this).attr("transform","translate("+b.toString()+", "+g.toString()+") scale("+a.toString()+", "+e.toString()+")");$(this).data("deltaY",d-c).data("scaleY",e)});var k=d-c-1;$("g#sw, g#s, g#se",this.C()).each(function(){var a=$(this).data("offsetX")||0,b=void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"s"==this.id&&(a=-h.ta.left*(b-
1));"s"==this.id&&h.ta.repeat?$(this).attr("transform","translate(0, "+k.toString()+")").data("offsetY",k):$(this).attr("transform","translate("+a.toString()+", "+k.toString()+") scale("+b.toString()+", 1)").data("offsetY",k)});$("g#nw, g#n, g#ne",this.C()).each(function(){var a=$(this).data("offsetX")||0,b=void 0===$(this).data("scaleX")?1:$(this).data("scaleX");"n"==this.id&&(a=-h.ta.left*(b-1));"n"==this.id&&h.ta.repeat?$(this).attr("transform","translate(0, 1)").data("offsetY",1):$(this).attr("transform",
"translate("+a.toString()+", 1) scale("+b.toString()+", 1)").data("offsetY",1)});Ao(this)}};function No(a){return a.jb?a.A()/a.jb.A():0}function Lo(a){var b={scale:No(a),deltaX:0,deltaY:0};if(!a.ta)return b;var c=null,d=ro($("svg",a.C()));a.jb.A()!=d.A()&&a.jb.B()!=d.B()?c=a.width/d.A():a.jb.B()==d.B()?c=a.height/a.jb.B():(a.jb.A(),d.A(),c=a.width/a.jb.A());b.scale=c;b.deltaX=d.A()-a.jb.A();b.deltaY=d.B()-a.jb.B();return b}
function Rh(a){a.Ha.each(function(b,c){var d=$(c),e=d.data("fontSize"),g=void 0!==d.data("stackId"),h=Lo(a),e=e*h.scale;d.css("font-size",e*bb+"%");!g&&d.data("placeholderElement")&&d.data("rect")&&d.data("designObject")&&(g=d.data("placeholderElement"),e=d.data("rect").clone(),e=Ho(g,e,!!a.ta,h),h=d.data("designObject"),a.stopListening(h,"change:width"),a.stopListening(h,"change:height"),h.ob(e),a.listenTo(h,"change:width",a.Zu),a.listenTo(h,"change:height",a.Yu),e.scale(L).round(),d.css(e.serialize()))})}
function uo(a){return a.Ha.filter(function(){return 0==$(this).data("placeholderElement").parents().filter(function(){return this.classList.contains("stack")}).length})}function to(a){if(a.Ha&&0!=a.Ha.length){var b=uo(a),c=Lo(a);b.each(function(){$(this).data("designObject").scale(c.scale)})}}
function Ao(a){a.Hi.forEach(function(b,c){var d=Lo(a),e=a.C().find(".canva.stack").eq(c),e=Ho(e,b.Dj(),!!a.ta,d),g=e.clone().scale(L).round();a.Jr.eq(c).css(g.serialize());a.stopListening(b,"change");b.ob(e,d.scale);b.Y();a.listenTo(b,"change",a.dv)})}f.remove=function(){Oo(this);this.wi();this.Ha.each(function(){var a=$(this);a.hasClass("focused")&&0<a.parents("#overlays").length&&Sm(a)});Y.prototype.remove.call(this);this.stopListening();this.Ha.remove();this.Hi.forEach(function(a){a.remove()})};
f.Ld=function(){Y.prototype.Ld.call(this);Oo(this);this.wi();this.Tf()};function Oo(a){a.Ha.each(function(){var a=$(this).data("textToolbar"),c=a&&a.data("colorSwatches");a&&a.find(".dd-container").ddslick("destroy");a&&a.remove();c&&c.remove();$(this).removeData("textToolbar").removeData("colorSwatches")})}f.wi=function(){var a=this.C().data("imageToolbar");a&&a.remove();this.C().removeData("imageToolbar")};
f.ua=function(){Y.prototype.ua.call(this);Po(this);var a=this.C(),b=a.data("selectionBox");b&&this.ta&&(this.ta.kf&&b.addClass("verticalScale"),this.ta.Ug&&b.addClass("horizontalScale"));var c=a.data("toolbar");c&&0<c.length&&this.Vc().forEach(function(a,b){a&&c.find(".elementToolbarColor").eq(b).find(".pickAColor \x3e span").css("background-color",a.X())});if(a.is(".cropping"))this.oj();else{this.Tf();var d=this,e=$("#overlays");if(0!==e.length){var b=e.find(".svg.text.focused"),b=b.filter(function(){return d==
$(this).data("canvaElement")}),g=a.get(0).getBoundingClientRect(),h=new K(d.Za(),g.top-e.offset().top,g.width,g.height),e=b&&b.data("textToolbar");0<b.length&&e&&(Qo(e,b),wn(e,h,2));co(this).each(function(){if(this.classList.contains("active")){var b=a.data("imageToolbar");b&&(wn(b,h,2),b.find(".imageToolbarDelete").removeClass("disabled").addClass("enabled"),b.find(".imageToolbarCrop").removeClass("disabled").addClass("enabled"))}})}}};
f.Gc=function(){return null!==this.ha&&null!==this.ia?new xg(this.ha,this.ia):null};f.Rt=function(){for(var a=[],b=0;b<this.ke();b++){var c=this.Nh(b);c&&a.push(c)}return a};f.Rp=function(){return!0};function Ro(a,b){Fa(a.C().find("img.placeholder"),b)}f.Bi=function(a,b){this.ha=a;this.ia=b;var c=ua.Nb(a,b);c?So(this,c):E.trigger("elementLoadingError",this)};
function So(a,b){function c(a){a=window.atob(a.substr(a.indexOf(",")+1));k.gl(a,e)}function d(a,b){var c=0>a.indexOf("?")?"?":"\x26",g;g=$.ajax({dataType:"text",url:a});g.done(function(a){k.gl(a,e)});g.fail(function(){b?E.trigger("elementLoadingError",k):d(a+c,!0)})}function e(a){if(a){var b=k;b.C().children("img.placeholder").remove();b.ra()}h(a)}function g(a){Un(Ea,a,function(a,b){Ro(k,a);k.C().find("img.placeholder").removeClass("placeholder");k.C().addClass("raster");h(b)})}function h(a){a?window.requestAnimationFrame(function(){k.ra();
k.cr();E.trigger("elementLoaded",k);E.trigger("elementLoaded:svg",k)}):E.trigger("elementLoadingError",k)}var k=a,l=b["print"==Rn?Sn:Oc],m=b[Tn],n=l.ca();l.url.match(/^data:image\/svg\+xml;base64,/i)?c(n):l.url.match(/\.svg(\?|$)/)?(Ro(k,"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),d(l.ca())):(Ro(k,m.ca()),g(l.ca()))}f.Zj=function(){return this.Ib};f.xr=function(a){this.Ib=a;this.C().toggleClass("unapproved",!a);this.ua()};
function To(a){a=1/No(a)/L;return"stroke-width: "+1*a+"px; "+("stroke-dasharray: "+3*a+" "+3*a+";")}function Po(a){var b=a.Uc();Uo(a);0<b.length&&(b=b.get(0),"https://static.canva.com/static/images/placeholder.jpg"!=b.getAttribute("xlink:href")&&b.classList.add("active"),b.parentNode.querySelector(".outline").setAttribute("style",To(a)))}function Uo(a){co(a).each(function(){this.classList.contains("active")&&(this.classList.remove("active"),this.parentNode.querySelector(".outline").removeAttribute("style"))})}f.Us=function(){Uo(this)};
f.Yg=function(a){this.Th()||(this.On=a,Po(this),this.C().hasClass("selected")&&Vo(this.C(),ub(this.L)))};f.Lf=function(a){return(a=this.na[a])?a.serialize():null};f.Nh=function(a){return this.na[a]||null};f.qf=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}ao();var d=this,e=this.na[a];b.mediaId?(Ln(Wo(Xo(Yo(e,b.mediaId,b.mediaVersion,c),b.origin?new qg(b.origin):null),b.mediaApproved),Zf(b.imageBox)).Ai(b.flipOrientation),ao()):this.xk(a)};f.Lv=function(){this.xk(this.eb())};
f.xk=function(a){a===this.eb()&&(this.On=null,Uo(this));var b=lo(this,a);Ln(Zo(this.na[a]),b);this.rb[a].remove();bo()};function lo(a,b){var c=a.Ve(b),d=new K(0,0,1438,560);c&&hg(d,c).translate(-c.N(),-c.K());return d}function co(a){return a.C().find("svg image.placeholder")}function $o(a){return co(a).filter(function(){return"https://static.canva.com/static/images/placeholder.jpg"!=$(this).attr("xlink:href")}).first()}f.Uc=function(){return this.On||$o(this)};f.eb=function(){return co(this).index(this.Uc())};f.Fj=function(a){return co(this).eq(a)};
f.ke=function(){return this.gf.length};
f.oj=function(){En.call(this);var a=this.C().data("cropControls");$(".viewPort",a).css("display","none");if(0==$("svg",a).length){var b=this.Uc().clone().get(0),c=this.Ra().scale(1/No(this)).round(),d=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","g"),c=[c.N(),c.K(),c.A(),c.B()].join(" ");d.appendChild(e);e.appendChild(b);d.setAttribute("viewBox",c);b=$(d).children("g").get(0);b.classList.add("cropLayer");b.classList.add("masked");
a.append(d)}d=this.Ra();d.scale(L).round();a.find("svg").css("transform",Oh({kc:d.N(),lc:d.K()})).css("width",d.A()).css("height",d.B())};f.pr=function(a,b){Jn.call(this,a,b);var c=this.C().data("cropControls"),d=this.Uc(),c=$("g.cropLayer image",c),e=this.Ra(),g=this.Ec();g.translate(e.N(),e.K()).scale(1/No(this));d.attr("x",g.N()).attr("y",g.K());c.attr("x",g.N()).attr("y",g.K())};
f.Ae=function(a){Kn.call(this,a);var b=this.C().data("cropControls"),b=$("g.cropLayer image",b),c=this.Ra();a=a.clone();a.translate(c.N(),c.K()).scale(1/No(this));b.attr("x",a.N()).attr("y",a.K()).attr("width",a.A()).attr("height",a.B())};f.Ve=function(a){var b=No(this);a=this.gf[a].clone();a.scale(b);return a};
f.Ec=function(){var a=this.Uc(),b=this.Ra(),a=new K(parseFloat(a.attr("x")),parseFloat(a.attr("y")),parseFloat(a.attr("width")),parseFloat(a.attr("height")));a.scale(No(this)).translate(-b.N(),-b.K());return a};f.og=function(){var a=this.C();a.removeClass("cropping");var b=this.Uc(),a=a.data("cropControls"),a=$("g.cropLayer image",a);b.attr("x",a.attr("x"));b.attr("y",a.attr("y"));b.attr("width",a.attr("width"));b.attr("height",a.attr("height"))};
f.serialize=function(){function a(a,b){return{index:b,color:a.X()}}var b=Y.prototype.serialize.call(this);b.type="svg";b.mediaId=this.ha;b.mediaVersion=this.ia;this.Ib||(b.mediaApproved=!1);0!==No(this)&&(b.scale=Lo(this).scale);var c=this,d=[],e;this.loaded?(this.na.forEach(function(a,b){var e;if(mo(a)||!a.Ib){e=a.serialize();var l=Yn(c.rb[b]);l&&(e.filter=l);d.push(e)}}),this.Ha&&this.Ha.each(function(a){a=c.Pb(a);a.type="text";d.push(a)}),0<d.length&&(b.contents=d),e=this.Vc().map(a),0<e.length&&
(b.fillColors=e)):(this.scale&&(b.scale=this.scale),this.contents&&(b.contents=this.contents.slice(0)),this.xj&&(b.fillColors=this.xj.map(function(b,c){return a(b.color,c)})));return b};f.Hh=function(){return this.Ha?this.Ha.filter(".focused"):$()};f.Ue=function(){if(this.Jc)return this.Jc;var a=new Hh;this.Ha&&this.Ha.each(function(b,c){bm($(c)).Dc.forEach(function(b){(b=Q(b))&&a.fd(b)})});this.Vc().forEach(function(b){a.fd(b)});return this.Jc=a};f.za=function(a){return this.Ha?this.Ha.eq(a):$()};
f.Ya=function(){return this.Ha.index(this.Hh())};f.Pb=function(a){if(0>a||a>=this.Ha.length)throw Error("SvgElement.getTextAtIndex - invalid index: "+a.toString());var b=this.Ha.eq(a);a=this.nr(a);var c=b.data("designObject");c&&(a.preferredFontSize=c.Gm);b=b.children(".inner");a.width=b.prop("clientWidth");a.height=b.prop("clientHeight");return a};
f.$g=function(a,b,c,d){if(0<=a&&this.Ha&&a<this.Ha.length){var e=this.Ha.eq(a),g=e.children(".inner");g.html(b.html);var h=("true"==g.attr("contentEditable")).toString();g.attr("contentEditable","true");for(var k=window.getSelection(),l=[],m=0;m<k.rangeCount;m++)l.push(k.getRangeAt(m));m=g.get(0)||null;document.body.contains(m)&&k.selectAllChildren(m);this.Ce(a,b.fontFamily,c,d);this.Ym(a,ap(b.fontMedia));this.setColor(a,Q(b.color));k.removeAllRanges();l.forEach(function(a){try{k.addRange(a)}catch(b){}});
this.jc(a,b.fontSize*Lo(this).scale);this.of(a,b.bold);this.pf(a,b.italic);this.wd(a,b.justification);this.Fk(a,b.list);this.an(a,b.textTransform);a=e.data("designObject");void 0!==b.preferredFontSize&&(a.Gm=b.preferredFontSize);g.attr("contentEditable",h);m&&m.hasAttribute("_moz_abspos")&&m.setAttribute("_moz_abspos","transparent");lm(e)}};
f.jc=function(a,b){var c=this.za(a);if(void 0===b)c.removeData("fontSize").css("font-size","");else{var d=Lo(this).scale,e=c.data("fontSize"),g=b/d;c.data("fontSize",b/d).css("font-size",b*bb+"%");if(e!==g){d=g/e;if(.5>d||2<d)this.wk(a),this.Mm(a),lm(c);this.trigger("change:fontSize",this,c,b)}}};f.Xb=function(a){a=xm.call(this,a);var b=Lo(this).scale;return a*b};f.Zm=function(a){var b=this.Hh().data("designObject"),c=Lo(this).scale;b.Gm=a/c;wm.apply(this,arguments)};
f.Vc=function(){var a=bp(this);return _.sortBy(a,function(a,c){return parseInt(c.match(/\d+/)[0],10)})};function bp(a){var b={};a.C().children("svg").find(".color").each(function(){for(var a,d=0;d<this.classList.length;d++){var e=this.classList.item(d);if(e.match(/^color-\d+$/)){a=e;break}}a&&(d=Q(this.getAttribute("fill")||""))&&(b[a]=d)});return b}f.qr=function(a){this.Ms=a};
f.cr=function(){function a(a,d){var e=Q(a),g=b.ratio||1;return Dg(new Bg,Math.round(e.r+(d.r-e.r)*g),Math.round(e.g+(d.g-e.g)*g),Math.round(e.b+(d.b-e.b)*g))}var b=this.Ms;b&&cp(this)&&(this.C().children("svg").find(".primaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.Sf).X())}),this.C().children("svg").find(".secondaryColor").each(function(){this.setAttribute("fill",a(this.getAttribute("data-color"),b.Vf).X())}),this.Ha.each(function(c,d){var e=!!jQuery.data(d,
"is-primary-color"),g=!!jQuery.data(d,"is-secondary-color"),h=jQuery.data(d,"original-fill");e?this.setColor(c,a(h,b.Sf)):g&&this.setColor(c,a(h,b.Vf))}.bind(this)))};
function cp(a){var b=!1,c=!1;a.C().find("[fill]").not('[fill\x3d"none"]').each(function(){var a=$(this);if(a.is(".primaryColor"))b=!0;else if(!a.is(".secondaryColor"))return c=!0,!1});if(c)return!1;a.Ha.each(function(a,e){var g=!!jQuery.data(e,"is-primary-color"),h=!!jQuery.data(e,"is-secondary-color");if(g)b=!0;else if(!h)return c=!0,!1});return b&&!c}
f.yi=function(a,b){var c=bp(this),c=_.sortBy(_.keys(c),function(a){return parseInt(a.match(/\d+/)[0],10)})[a];this.C().children("svg").find("."+c).each(function(){var a=b?b.X():this.getAttribute("data-color");this.setAttribute("fill",a)});this.mc()};
function Ci(a,b){function c(){g.$g(0,a,d,!0);g.xd=$.extend(!0,{},a.stylesOverriden);g.tk=!1}function d(a){n=!0;r=a;m&&e()}function e(){var c=p&&r;g.loaded=!0;c?(g.tk=!0,g.ra(),g.W(),rn(g),on(g),g.Pa(),E.trigger("elementLoaded",g),E.trigger("elementLoaded:text",g)):(c=g,Y.prototype.W.call(c,a.height),Y.prototype.Z.call(c,a.width),jm(c.C(),a.lineLengths||[]),c.vj=!0,c.C().toggleClass("failed",c.vj),c.tk=!0,E.trigger("elementLoadingError",g));h.removeClass("textElementLoading");b&&b(g)}Y.call(this,a);
var g=this,h=this.C(),k=qb(this.L);h.addClass("text").addClass("textElementLoading").data("placeholderText",a.placeholderText||k.Em()).append('\x3cdiv class\x3d"inner"\x3e'+k.Em()+"\x3c/div\x3e");this.style=a.style;this.padding=a.padding;this.border=a.border;this.nm=!0;!1===a.lockedWidth&&(this.nm=!1);var k=(wo([a.fontMedia])||[]).filter(Boolean),l=wo(a.htmlFontMedia);l&&(k=k.concat(l));l=nm(a.html);a.fontFamily&&l.push(a.fontFamily);var m=!1,n=!1,p=!1,r=!1;this.xd={};0<k.length?dp(xa,k,c):c();this.loaded=
!1;this.JC=a;zo(xa,k,l,function(a){m=!0;p=a;n&&e()})}Ci.prototype=Object.create(Y.prototype);f=Ci.prototype;f.constructor=Ci;f.ph=Om;f.it=Um;f.Xb=xm;f.Pt=Mm;f.Cj=Lm;f.Qt=Km;f.tp=Gm;f.Mm=Jm;f.wk=Nm;f.Xv=Tm;f.nr=Vm;f.of=Am;f.setColor=zm;f.Yv=Im;f.Ym=qm;f.ur=rm;f.Ce=sm;f.jc=vm;f.Zm=wm;f.pf=Bm;f.wd=ym;f.$m=Pm;f.Zv=Qm;f.vr=Hm;f.wr=Fm;f.Fk=Cm;f.an=Em;f.Mr=Rm;f.rh=function(){return this.loaded&&!this.vj};f.il=function(){return this.loaded&&!this.vj};f.mw=function(){return!0};f.Yj=function(){return this.nm};
f.se=function(){this.nm=!0};f.$r=function(){this.nm=!1};
function ep(a){if(!a.fg){var b=a.za(0),c=window.getSelection(),d=c.focusNode,c=c.toString();if(d&&d.parentNode&&d.parentNode.classList.contains("char"))(b=d&&d.parentNode&&d.parentNode.nextSibling)&&b.classList.contains("fauxCaret")&&(b=b.nextSibling),b&&b.classList.contains("char")&&(c=d.textContent+b.textContent);else if(1===c.length&&8203===c.charCodeAt(0)&&(c=""),0===c.length){d=Rl(b);a:{c=window.getSelection();if(0<c.rangeCount&&(c=c.getRangeAt(0).cloneRange(),c.collapse(!0),b=b.get(0))){c.setEnd(b,
1);b=c.toString().slice(0,1);8203===b.charCodeAt(0)&&(b=c.toString().slice(1,2));break a}b=""}c=d+b}else 1===c.length&&(c=Rl(b)+c);2===c.length&&(a.fg=c)}a.fg&&(a.fg=a.fg.replace(/\s/gi,""),2!==a.fg.length&&(a.fg=void 0));return a.fg}function fp(a){var b=ep(a);return b?a.Pt(0,b):0}f.$v=function(a){var b=ep(this);b&&(this.$m(0,a,b),this.ph(0))};f.ou=function(){var a=ep(this);if(a){var b=fp(this);this.$m(0,Math.min(b+10,200),a);this.ph(0)}};
f.ht=function(){var a=ep(this);if(a){var b=fp(this);this.$m(0,Math.max(b-10,-200),a);this.ph(0)}};f.Ce=function(a,b,c,d){this.xd.fontFamily=!0;sm.call(this,a,b,c,d)};f.jc=function(a,b,c){this.xd.fontSize=!0;vm.call(this,a,b,c)};f.of=function(a,b){this.xd.bold=!0;Am.call(this,a,b)};f.pf=function(a,b){this.xd.italic=!0;Bm.call(this,a,b)};f.wd=function(a,b){this.xd.justification=!0;ym.call(this,a,b)};f.setColor=function(a,b){this.xd.color=!0;zm.call(this,a,b);this.mc()};
f.Z=function(a){var b=void 0!==a&&a!==this.width;Y.prototype.Z.call(this,a);a=this.A();Zm(this).css("width",Math.round(a));b&&lm(this.C())};f.W=function(){var a=Zm(this).prop("scrollHeight")||0;Y.prototype.W.call(this,a)};f.Pa=function(){Zm(this).css("transform","translateY("+gp(this)+"em) scale("+L+")").css("transform-origin","top left").css("width",this.A());Y.prototype.Pa.apply(this,arguments)};f.Hh=function(){return this.aa};
f.Ue=function(){if(this.Jc)return this.Jc;var a=new Hh;bm(this.aa).Dc.forEach(function(b){(b=Q(b))&&a.fd(b)});return this.Jc=a};f.za=function(a){return 0!==a?$():this.aa};f.Ya=function(){return 0};f.Pb=function(a){a=this.nr(a);a.height=this.B();return a};
f.$g=function(a,b,c,d){var e=this,g=this.C(),h=(wo(b.htmlFontMedia)||[]).filter(Boolean),k=this.it(b.kerning),l=b.lineLengths;Zm(this).html(b.html);this.ur(a,h);this.Ym(a,ap(b.fontMedia));this.jc(a,b.fontSize);this.of(a,b.bold);this.pf(a,b.italic);this.wd(a,b.justification);this.vr(a,b.letterSpacing);this.wr(a,b.lineHeight);this.Fk(a,b.list);this.an(a,b.textTransform);this.setColor(a,Q(b.color));l&&g.data("cachedLineLengths",l);this.xd=$.extend(!0,{},b.stylesOverriden);this.mc();this.Ce(a,b.fontFamily,
function(b){b&&(k&&e.ph(a),l&&jm(g,l));c&&c(b)},d);k&&this.Zv(a,k)};function hp(a,b){a.border=b?{width:b}:{width:0};a.ra()}f.ge=function(){return this.border&&this.border.width||0};function ip(a,b){a.padding=b?b:0;a.ra()}f.Ez=function(){return this.padding};f.ra=function(){Y.prototype.ra.call(this);var a=this.C(),b="#000000",c=bm(a).Dc;0<c.length&&(b=c[c.length-1]);this.ge()?a.css("border",this.ge()/1E3*L+"em solid "+b):a.css("border","none");a.css("padding",this.padding*L+"px")};
function gp(a){var b=0,c=0;a=a.tp(0);140!==a&&(b=.2,c=(a-100)/200);return(b-c)*L}f.remove=function(){var a=this.C();0<a.parents("#overlays").length&&Sm(a);Y.prototype.remove.call(this)};f.ua=function(){Y.prototype.ua.call(this);var a=this.C(),b=this.Za(),c=this.fb()+(this.Oa()-this.K())*L,d=a.data("textToolbar"),e=a.data("selectionBox");d&&(e&&!e.hasClass("horizontalScale")&&e.addClass("horizontalScale"),Qo(d,a),a=new K(b,c,this.Hc()*L,this.Fc()*L),wn(d,a,2))};
f.Ld=function(){Y.prototype.Ld.call(this);var a=this.C(),b=a.data("textToolbar"),c=b&&b.data("colorSwatches"),d=$(".textToolbarJustification",b).data("dropdown"),e=$(".textToolbarList",b).data("dropdown");b&&b.find(".dd-container").ddslick("destroy");b&&b.remove();c&&c.remove();d&&d.remove();e&&e.remove();a.removeData("textToolbar")};
f.serialize=function(){if(!this.loaded)return this.JC;var a=Y.prototype.serialize.call(this),b=this.Pb(0);a.type="text";a.style=this.style;a.border=this.border;a.padding=this.padding;a.stylesOverriden=$.extend(!0,{},this.xd);for(var c in b)a[c]=b[c];return a};
function hn(a){function b(){var a={type:"columns",children:[{type:"item"},{type:"item"}]};return[a,a]}var c=this;void 0===a&&(a={});a.width=a.width||300;a.height=a.height||300;Y.call(this,a);this.spacing=a.spacing||10;this.items=a.items||b();this.pg=!0;var d=this.C();d.addClass("grid").css("width",this.width*L).css("height",this.height*L);jp(this,kp(this.items));a=a.contents||[];this.na=en(a,this.ke(),d);Object.freeze(this.na);this.rb=cn(a,this.na);Object.freeze(this.rb);bn(this,function(){window.requestAnimationFrame(function(){E.trigger("elementLoaded",
c);E.trigger("elementLoaded:grid",c)})})}hn.prototype=Object.create(Y.prototype);f=hn.prototype;f.constructor=hn;f.Th=Cn;f.Ec=function(){return-1===this.eb()?null:ko(this.na[this.eb()])};f.oj=En;f.pr=Jn;f.Ae=Kn;f.Tf=Mn;f.og=Nn;f.Ra=On;f.Ep=Pn;f.Rl=Dn;f.Ue=function(){if(this.Jc)return this.Jc;var a=new Hh;this.na.forEach(function(b){(b=b.backgroundColor)&&a.fd(b)});return this.Jc=a};f.Vc=function(){return this.na.map(function(a){return a.backgroundColor})};
f.yi=function(a,b){var c=this.na[a]||this.na[this.na.length-1];this.qf(a,null);c.Wm(b);this.Cb&&this.ua();this.mc()};
function kp(a){function b(a){var d=a.type||"rows";a=a.children||a;for(var e=$(),g=0,h=0;h<a.length;h++){var k=a[h],l=$('\x3cdiv class\x3d"'+k.type+'"\x3e\x3c/div\x3e');"item"==k.type&&$('\x3cdiv class\x3d"content"\x3e\x3cdiv class\x3d"placeholder" /\x3e\x3c/div\x3e').appendTo(l);if("rows"==d){var m=1/(a.length-h)*(100-g),m=k.height||m,n=g,m=~~(10*m)/10;l.css("top",n+"%").css("height",m+"%").attr("data-top",n/100).attr("data-height",m/100)}else m=1/(a.length-h)*(100-g),m=k.width||m,n=g,m=~~(10*m)/
10,l.css("left",n+"%").css("width",m+"%").attr("data-left",n/100).attr("data-width",m/100);g+=m;void 0!==k.children&&l.append(b(k));e=e.add(l)}return e}return b([{type:"rows",children:a}])}f.Qh=function(){return!0};f.Ab=function(){var a=this.eb();return-1!=a&&mo(this.na[a])?-1<a?this.rb[a]:null:null};f.If=function(a){return this.rb[a]};f.Ye=function(){return this.Ab()&&this.Ab().Xe()};f.Gf=function(){this.Ab()&&this.Ab().Gf()};f.Oe=function(){this.Ab()&&this.Ab().Oe()};
f.Km=function(){if(this.Ab()&&this.Ab().Xe()){var a=this.C().data("imageToolbar");a&&a.find(".elementToolbarPhotoFilters").removeClass("disabled").addClass("enabled")}};f.Jm=function(a,b){Vn(this.rb[a],b)};f.wi=function(){var a=this.C().data("imageToolbar");a&&a.remove();this.C().removeData("imageToolbar")};f.Lv=function(){this.xk(this.eb());this.C().find(".active").removeClass("active")};function lp(a,b,c,d){if(d)return new K(0,0,a,b);c*=1.2;return new K(-c,-c,a+2*c,b+2*c)}
function jp(a,b){var c=a.C();c.empty();$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e').append(b).appendTo(c)}f.ra=function(){Y.prototype.ra.call(this);var a=Zm(this),b=Math.round(Math.round(this.spacing/2)*L);a.css("left",b).css("right",b).css("top",b).css("bottom",b);$(".item \x3e .content",a).css("left",b).css("right",b).css("top",b).css("bottom",b);mp(this)};function mp(a){a.na.forEach(function(a){a.update()})}
f.ua=function(){function a(){var a=np(e.T());if(a){a=e.Ra().translate(e.N(),e.K()).scale(L).translate(a.N(),a.K()).round();wn(l,a,2);var g=e.na[e.eb()];g?(g.isEmpty()?c(".imageToolbarDelete"):d(".imageToolbarDelete"),mo(g)?(d(".imageToolbarMore"),d(".imageToolbarCrop"),d(".elementToolbarPhotoFilters"),a=g.aa.find("img.placeholder"),g=g.aa.find("canvas"),a=1==a.length&&a.attr("src")?""+a.attr("src"):1==g.length?g.get(0).toDataURL():"https://static.canva.com/static/images/placeholder.jpg",b(a)):(c(".imageToolbarCrop"),c(".imageToolbarMore"),
c(".elementToolbarPhotoFilters"),b("https://static.canva.com/static/images/placeholder.jpg"),(a=e.Vc()[e.eb()])&&l.find(".pickAColor \x3e span").css("background-image","none").css("background-color",a.X()))):b("https://static.canva.com/static/images/placeholder.jpg")}}function b(a){l.find(".pickAColor \x3e span").css("background-image","url("+a+")").css("background-size","cover")}function c(a){l.find(a).removeClass("enabled").addClass("disabled")}function d(a){l.find(a).removeClass("disabled").addClass("enabled")}Y.prototype.ua.call(this);var e=
this,g=this.C(),h=this.Za(),k=this.fb()+(this.Oa()-this.K())*L,h=new K(h,k,this.Hc()*L,this.Fc()*L),k=g.data("toolbar"),l=g.data("imageToolbar");k&&wn(k,h,2);g.is(".cropping")?this.oj():(this.Tf(),l&&a())};f.Ld=function(){Y.prototype.Ld.call(this);this.wi();this.Tf()};f.remove=function(){Y.prototype.remove.call(this);this.rb.forEach(function(a){a.remove()});this.wi()};
f.serialize=function(){var a=Y.prototype.serialize.call(this);a.type="grid";a.items=this.items;a.spacing=this.spacing;var b=this,c=[];this.na.forEach(function(a,e){var g;a.isEmpty()||(g=a.serialize(),g.filter=Yn(b.rb[e]),c.push(g))});a.contents=c;return a};f.Yg=function(a){if(!this.Th()){Bn.zf();var b=$(".item .placeholder.active, div.content.active",this.C());0<b.length&&b.removeClass("active");a.parent("div.content").andSelf().addClass("active");this.C().hasClass("selected")&&Vo(this.C(),ub(this.L))}};
f.Uc=function(){var a=this.C().find(".item .placeholder"),b=a.filter(".active");if(0!==b.length)return b.first();b=a.filter("[src]");return 0!==b.length?b.first():a.first()};f.eb=function(){var a=this.C().find(".item .content.active");0===a.length&&(a=this.C().find(".item.filled .content"));return this.C().find(".item .content").index(a)};f.Fj=function(a){return $(".item .placeholder",this.C()).eq(a)};f.ke=function(){return this.C().find(".item .placeholder").length};
f.Ve=function(a){a=this.Fj(a).parent("div.content");var b=new K(0,0,this.width,this.height);a=a.parentsUntil(".inner").reverse();eg(b,this.spacing);a.each(function(a,d){d=$(d);var e=parseFloat(d.data("left"))||0,g=parseFloat(d.data("top"))||0,h=parseFloat(d.data("width"))||1,k=parseFloat(d.data("height"))||1;b.translate(e*b.A(),g*b.B()).Z(b.A()*h).W(b.B()*k)});b.Z(b.A()-this.spacing).W(b.B()-this.spacing);return b};f.Lf=function(a){return(a=this.na[a])?a.serialize():null};
f.Nh=function(a){return this.na[a]||null};f.qf=function(a,b){function c(){d.trigger("placeholderImage:loaded",a)}var d=this,e=this.na[a];e&&(b&&b.mediaId?Ln(Wo(Xo(Yo(op(e),b.mediaId,b.mediaVersion,c),b.origin?new qg(b.origin):null),b.mediaApproved),Zf(b.imageBox)).Ai(b.flipOrientation):b&&b.backgroundColor?e.Wm(Q(b.backgroundColor)):(e.clear(),this.rb[a].remove(),pp(this.rb[a],new qp)))};f.xk=function(a){this.qf(a,null)};f.Nj=function(){return!0};
f.Gj=function(){return{imageBoxes:this.na.map(function(a){return a.isEmpty()?null:ko(a).serialize()})}};f.aw=function(a){a=a.imageBoxes;for(var b=0;b<this.na.length;b++){var c=this.na[b],d=a[b];d&&!c.isEmpty()&&Ln(c,Zf(d))}};f.Rt=function(){for(var a=[],b=0;b<this.ke();b++){var c=this.Nh(b);c&&a.push(c)}return a};f.Rp=function(){return!0};function kn(a){this.elements=[];this.xy={};this.Oc(a);Y.call(this,a);this.gl()}
function rp(a,b){var c=Math.min(100,b.bc+a.bc),d;d=zg([b.left+b.width/2-a.width/2,b.top+b.height/2-a.height/2]);var e=-a.rotation,g=new yg,h=e*Math.PI/180,e=Math.cos(h),h=Math.sin(h);g.m[0]=e;g.m[1]=h;g.m[2]=-0*e-0*h;g.m[3]=-1*h;g.m[4]=e;g.m[5]=-0*e+0*h;d=d.transform(g);g=Ag(d);return{bc:c||0,rotation:Ym(b.rotation,-(180*Math.atan2(d.m[3],d.m[4])/Math.PI))||0,top:g[1]-b.height/2+a.top+a.height/2,left:g[0]-b.width/2+a.left+a.width/2,width:b.width,height:b.height}}kn.prototype=Object.create(Y.prototype);
f=kn.prototype;f.constructor=kn;f.Pp=function(){return!0};f.Oc=function(a){function b(a,b){return a.elementIndex>b.elementIndex}var c=this;a&&0<=Object.keys(a).indexOf("elements")&&a.elements.sort(b).forEach(function(a){(a=Cc(a))&&c.addElement(a)})};
function sp(a,b){on(a,Math.min.apply(null,b.map(function(a){return a.gb()})));rn(a,Math.min.apply(null,b.map(function(a){return a.Oa()})));a.Z(Math.max.apply(null,b.map(function(a){return a.Ob()}))-a.N());a.W(Math.max.apply(null,b.map(function(a){return a.Bb()}))-a.K());return a}function tp(a){sp(a,a.elements);a.Pa()}f.gl=function(){var a=$('\x3cdiv class\x3d"elements"\x3e\x3c/div\x3e');this.C().addClass("group").html(a);this.Pa()};
f.setSize=function(a,b){var c;30>a||30>b||(void 0!==a&&void 0!==b&&(c=(a-this.A())/this.A(),Y.prototype.setSize.call(this,a,b)),this.elements.forEach(function(a){if(c){var b=c,g=a.A()/a.B(),h,k,l;!isNaN(b)&&isFinite(b)&&(h=a.A()+a.A()*b,g=h/g,k=a.N()+a.N()*b,l=a.K()+a.K()*b,a.setSize(h,g),a.setPosition(k,l),a instanceof Ci&&a.Xb&&a.Xb(0)&&(b=a.Xb(0)+a.Xb(0)*b,a.jc(0,b,!0)))}a.Z();a.setPosition();a.ra()}))};
f.ra=function(){Y.prototype.ra.call(this);this.elements.forEach(function(a){a.Z();a.setPosition();a.ra()})};f.addElement=function(a){var b=this.elements.indexOf(a);-1===b?this.elements.push(a):this.elements.splice(b,1,a)};f.vi=function(a){a=this.elements.indexOf(a);-1!==a&&this.elements.splice(a,1)};f.remove=function(){this.elements.forEach(function(a){a.remove()});Y.prototype.remove.call(this)};f.fa=function(){return this.elements};f.gb=function(){return Math.min.apply(null,this.fa().map(function(a){return a.gb()}))};
f.Ob=function(){return Math.max.apply(null,this.fa().map(function(a){return a.Ob()}))};f.Oa=function(){return Math.min.apply(null,this.fa().map(function(a){return a.Oa()}))};f.Bb=function(){return Math.max.apply(null,this.fa().map(function(a){return a.Bb()}))};f.clone=function(){var a=this.serialize();return new kn(a)};f.serialize=function(){var a=Y.prototype.serialize.call(this);a.type="group";a.constraints=this.xy;a.elements=this.fa().map(function(a){return a.serialize()});return a};function up(a){Y.call(this,a);this.zd=!0;this.$p="vertical"===a.align;this.xu=!this.$p;this.C().addClass("guide").addClass(a.align)}up.prototype=Object.create(Y.prototype);f=up.prototype;f.constructor=up;f.rh=function(){return!1};f.fj=function(){return!1};f.il=function(){return!0};f.activate=function(){this.C().removeClass("inactive")};f.Da=function(a){this.xu&&Y.prototype.Da.call(this,a)};f.Ba=function(a){this.$p&&Y.prototype.Ba.call(this,a)};
f.setPosition=function(a,b){this.$p&&Y.prototype.Ba.call(this,a);this.xu&&Y.prototype.Da.call(this,b)};function jn(a){Y.call(this,a);this.zd=!0;this.placeholder=a.placeholder in vp?a.placeholder:"DEFAULT";this.C().addClass("fixed").css("backgroundImage","url("+vp[this.placeholder]+")")}jn.prototype=Object.create(Y.prototype);jn.prototype.constructor=jn;
var vp={DEFAULT:"https://static.canva.com/static/images/placeholder.jpg",FACEBOOK:"https://static.canva.com/static/images/furniture_facebook_avatar.svg",FUSION_SPINE_GUIDE:"https://static.canva.com/static/images/furniture_fusion_spine_guide.svg",FUSION_VERTICAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_vertical_danger_guide.svg",FUSION_HORIZONTAL_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_danger_guide.svg",FUSION_HORIZONTAL_COVER_DANGER_GUIDE:"https://static.canva.com/static/images/furniture_fusion_horizontal_cover_danger_guide.svg",GPLUS_CARD:"https://static.canva.com/static/images/furniture_gplus_card.svg",
TWITTER_AVATAR:"https://static.canva.com/static/images/furniture_twitter_avatar.svg",TWITTER_MENU:"https://static.canva.com/static/images/furniture_twitter_menu.svg",TWITTER_STATS:"https://static.canva.com/static/images/furniture_twitter_stats.svg"};f=jn.prototype;f.serialize=function(){return{type:"fixed"}};f.ua=function(){};f.rh=function(){return!1};f.il=function(){return!1};f.fj=function(){return!1};function fn(a,b){this.index=a.index;this.aa=b;this.ha=a.mediaId;this.ia=a.mediaVersion;this.origin=a.origin?new qg(a.origin):null;this.la=Zf(a.imageBox);this.Ev=this.Hv=this.Gv=this.Fv=0;this.vk=!0;this.Xa=a.flipOrientation|0;this.im=0<this.aa.parents(".svg.element").length;this.Cp=!1;this.backgroundColor=null;a.backgroundColor&&(this.backgroundColor=Q(a.backgroundColor));this.Ib=void 0===a.mediaApproved?!0:a.mediaApproved;Wo(this,this.Ib)}f=fn.prototype;
f.serialize=function(){var a={type:"image",index:this.index,mediaId:this.ha,mediaVersion:this.ia,imageBox:this.la.serialize(),flipOrientation:this.Xa,mediaApproved:this.Ib};this.backgroundColor&&(a.backgroundColor=this.backgroundColor.serialize());var b=this.origin&&this.origin.serialize();b&&(a.origin=b);return a};f.C=function(){return this.aa};
function Yo(a,b,c,d){var e=b!==a.ha||c!==a.ia;if(a.Cp&&!e)return d&&d(!0),a;e&&(a.ha=b,a.ia=c,a.origin=null,Wo(a,!0));a.Cp=!0;a.vk=!0;a.im?a.ha&&a.ia&&(b=a.aa.find("image.placeholder"),a.aa.get(0).classList.add("filled"),(c=ua.Nb(a.ha,a.ia))?Qn({Nl:c,pe:b,ha:a.ha,ia:a.ia,wm:d}):d&&(b.data("mediaId",a.ha),b.data("mediaVersion",a.ia),d(!1))):a.ha&&a.ia&&(b=$("\x3cimg\x3e"),b.addClass("placeholder"),a.aa.find(".placeholder").remove(),a.aa.append(b),a.aa.parent(".item").addClass("filled"),(c=ua.Nb(a.ha,
a.ia))?Qn({Nl:c,pe:b,ha:a.ha,ia:a.ia,wm:d}):d&&(b.data("mediaId",a.ha),b.data("mediaVersion",a.ia),d(!1)));return a}function Xo(a,b){a.origin=b;return a}
function Zo(a){a.Cp=!1;Wo(a,!0);a.ha=void 0;a.ia=void 0;a.origin=null;a.im?(a.aa.get(0).classList.remove("filled"),a.aa.find("image.placeholder").removeAttr("crossorigin").removeData("mediaId").removeData("mediaVersion").attr("xlink:href","https://static.canva.com/static/images/placeholder.jpg")):(a.aa.parent(".item").removeClass("filled"),a.aa.find(".placeholder").remove(),a.aa.append('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e'));return a}function ko(a){return a.la.clone()}
function Ln(a,b){a.la=b.clone();a.vk=!0;wp(a);return a}f.Ai=function(a){var b=a^this.Xa;kg(this.la,xp(this),b);this.vk=!0;this.Xa=a;wp(this);return this};f.Zg=function(a){this.pk();this.Ai(a);return this};f.Wm=function(a){this.backgroundColor=a;yp(this);return this};function op(a){a.backgroundColor=null;a.aa.find(".backgroundColor.placeholder").replaceWith('\x3cdiv class\x3d"placeholder"\x3e\x3c/div\x3e');return a}function mo(a){return!(!a.ha||!_.isNumber(a.ia))}
f.isEmpty=function(){return!(mo(this)||this.backgroundColor)};f.Nb=function(){return mo(this)?ua.Nb(this.ha,this.ia):null};function Wo(a,b){(a.Ib=b)?a.aa.get(0).classList.remove("unapproved"):a.aa.get(0).classList.add("unapproved");return a}f.wn=function(a){var b=this.Gc();null!=this.backgroundColor||null==b||yi(a,this.Gc())||(Zo(this),Wo(this,!1))};f.Gc=function(){return void 0!==this.ha&&void 0!==this.ia?new xg(this.ha,this.ia):null};f.Bi=function(a,b){this.ha=a;this.ia=b;this.update()};
f.update=function(a){var b=this.Ib;void 0!==this.ha&&void 0!==this.ia?(Yo(this,this.ha,this.ia,a),wp(this)):(Zo(this),yp(this),a&&a(!0));Wo(this,b)};f.clear=function(){Zo(this);op(this)};function yp(a){if(a.backgroundColor){Zo(a);var b=$('\x3cdiv class\x3d"backgroundColor placeholder"\x3e\x3c/div\x3e');b.css("background-color",a.backgroundColor.X());a.aa.find(".placeholder").replaceWith(b)}else a.clear()}
function wp(a){if(a.im){var b=a.aa.closest(".element").data("canvaElement"),c=a.aa.find("image.placeholder"),d=xp(a);a=a.la.clone();a.translate(d.N(),d.K()).scale(1/No(b));c.attr("width",a.A()).attr("height",a.B()).attr("x",a.N()).attr("y",a.K())}else{b=xp(a);c=b.A();d=b.B();if(a.vk)a.Fv=a.la.N()/c,a.Gv=a.la.K()/d,a.Hv=a.la.A()/c,a.Ev=a.la.B()/d,a.vk=!1;else{var e=cg(a.la);a.la.Ba(c*a.Fv);a.la.Da(d*a.Gv);a.la.Z(c*a.Hv);a.la.W(d*a.Ev);var e=e/cg(a.la),g=c/2,h=d/2,k=1,l=0;1>e?(dg(a.la,g,h,e,1),l=Math.max(0,
a.la.N(),c-a.la.Ta()),k=c/(c-2*l)):1<e&&(dg(a.la,g,h,1,1/e),l=Math.max(0,a.la.K(),d-a.la.sa()),k=d/(d-2*l));1<k&&dg(a.la,g,h,k)}Hn(a.aa,null,a.Xa);c=a.la.clone();kg(c,b,a.Xa);c.scale(L);c.round();a.aa.find("img.placeholder").css(Fn(c))}}function xp(a){return a.aa.closest(".element").data("canvaElement").Ve(a.index)}f.pk=function(){var a=this.aa,b=2.5*this.la.A();a.parent().css("perspective",b+"px");a.addClass("flipping");a.one("transitionend",function(){a.removeClass("flipping")})};function Go(a){this.ks=a.valign;this.Cd=Zf(a.box);this.qc=this.Cd.clone();this.Ug=a.resizeHorizontal;this.kf=a.resizeVertical;this.contents=a.contents;this.ls=[];this.Qz=[];this.scale=1;this.Sh=zp(this);this.ru=this.Cd.B()-Ap(this);Bp(this);this.Y();var b=this;this.contents.forEach(function(a){b.listenTo(a,"change:width",b.Y);b.listenTo(a,"change:height",b.Y)})}Go.prototype.trigger=Backbone.Events.trigger;Go.prototype.listenTo=Backbone.Events.listenTo;Go.prototype.stopListening=Backbone.Events.stopListening;
_.extend(Go.prototype,Backbone.Events);f=Go.prototype;f.remove=function(){var a=this;this.stopListening(this);this.contents.forEach(function(b){a.stopListening(b)})};f.Z=function(a){Mo(a,this.A())||(this.Cd.Z(a),this.Y(),this.trigger("change:width",this),this.trigger("change",this))};f.A=function(){return this.Cd.A()};f.W=function(a){Mo(a,this.B())||(this.Cd.W(a),this.Y(),this.trigger("change:height",this),this.trigger("change",this))};f.B=function(){return this.Cd.B()};
f.setSize=function(a,b,c){var d=this.A()!==a,e=this.B()!==b;if(d||e)this.Cd.setSize(a,b),this.scale!==c&&(this.scale=c,Cp(this)),this.Y(),d&&this.trigger("change:width",this),e&&this.trigger("change:height",this),this.trigger("change",this)};f.Oh=function(){return this.Cd.Oh()};f.ob=function(a,b){this.Cd.Ba(a.N()).Da(a.K());this.setSize(a.A(),a.B(),b)};f.ba=function(){return this.Cd.clone()};f.Dj=function(){return this.qc.clone()};
function zp(a){a=a.contents.map(function(a){return a.ba()});return Array.min(a.map(function(a){return a.K()}))}function Ap(a){a=a.contents.map(function(a){return a.ba()});return Array.max(a.map(function(a){return a.sa()}))}function Dp(a){var b=zp(a);return Ap(a)-b}function Ep(a){a=a.contents.slice(0);a.sort(function(a,c){var d=a.Dj(),e=c.Dj();return d.K()<e.K()?-1:d.K()>e.K()?1:0});return a}
function Bp(a){a.ls=[];if(!(2>a.contents.length)){var b=Ep(a);a.contents.forEach(function(c){var d=b.indexOf(c);d==a.contents.length-1?d=0:(c=c.ba(),d=b[d+1].ba().K()-c.sa());a.ls.push(d)})}}function Fp(a,b){a.contents.forEach(function(c){var d=c.ba();d.translate(0,b);a.stopListening(c);c.ob(d,a.scale);a.listenTo(c,"change:width",a.Y);a.listenTo(c,"change:height",a.Y)})}
function Cp(a){a.contents.forEach(function(b){a.stopListening(b);b.scale(a.scale);a.listenTo(b,"change:width",a.Y);a.listenTo(b,"change:height",a.Y)})}
f.Y=function(){var a=this;this.contents.forEach(function(b){a.stopListening(b);if(!b.Nk)if(b.So)Gp(b);else{var c=b.ba(),d=Hp(b);c.Z(d.width);c.W(d.height);b.ob(c)}});var b=0===this.Qz.length;this.contents.forEach(function(c){if(a.Ug&&b){var d=c.ba();d.A()!==a.A()&&(d.Z(a.A()),c.ob(d,a.scale))}});var c=Ep(this);c.forEach(function(b,d){if(0!==d){var e=c[d-1],g=a.contents.indexOf(e),n=a.ls[g],g=b.ba(),e=e.ba().sa()+n*a.scale;g.Da(e);b.ob(g,a.scale)}});var d=Dp(this),e=this.Cd.B(),g;"CENTER"==this.ks?
(g=this.Sh+this.ru,g=e-d-g,g=this.Sh+g/2,g-=zp(this),Fp(this,g),d>e&&this.kf&&(g=-zp(this),Fp(this,g),this.W(d))):"TOP"==this.ks?this.Sh+d>e&&this.kf&&this.W(this.Sh+d):"BOTTOM"==this.ks&&(g=this.Sh+this.ru,g=e-d-g,g=this.Sh+g,g-=zp(this),Fp(this,g),d>e&&this.kf&&(g=-zp(this),Fp(this,g),this.W(d)));this.contents.forEach(function(b){a.listenTo(b,"change:width",a.Y);a.listenTo(b,"change:height",a.Y)})};
function Fo(a,b,c){this.Td=a;this.qc=a.data("rect").clone().translate(-b,-c);this.pj=!!a.data("dynamicWidth");this.Cl=!!a.data("dynamicHeight");this.So=!!a.data("dynamicFontSize");this.Gm=a.data("defaultFontSize");this.So&&(this.Cl=this.pj=!1);this.pj&&this.Cl&&(this.pj=!1);this.va={Hn:0,Vi:0,Qb:0,ub:1};this.Nk=!1}Fo.prototype.trigger=Backbone.Events.trigger;Fo.prototype.listenTo=Backbone.Events.listenTo;Fo.prototype.stopListening=Backbone.Events.stopListening;_.extend(Fo.prototype,Backbone.Events);
var Io="center",Jo="right";f=Fo.prototype;f.C=function(){return this.Td};f.Dj=function(){return this.qc.clone()};f.ba=function(){var a=this.qc.clone();a.Da(this.va.Hn+this.qc.K()*this.va.ub).Ba(this.qc.N()*this.va.ub).Z(this.va.Vi+a.A()*this.va.ub).W(this.va.Qb+a.B()*this.va.ub);return a};
f.ob=function(a,b){void 0===b&&(b=this.va.ub);var c=this.ba(),d=a.clone().scale(L).round();this.Td.css(d.serialize());Ip(this);this.va.ub=b;this.va.Hn=a.K()-this.qc.K()*this.va.ub;this.va.Vi=a.A()-this.qc.A()*this.va.ub;this.va.Qb=a.B()-this.qc.B()*this.va.ub;var d=!Mo(c.A(),a.A()),e=!Mo(c.B(),a.B());d&&this.trigger("change:width",this,a.A()-c.A());e&&this.trigger("change:height",this,a.B()-c.B());(d||e)&&this.trigger("change",this)};
f.scale=function(a){this.va.Hn*=a/this.va.ub;this.va.Vi*=a/this.va.ub;this.va.Qb*=a/this.va.ub;this.va.ub=a};function Ip(a){if(a.Td.hasClass("text")){var b=a.ba(),c=a.Td.children(".inner");c.css("width",b.A()).css("height","");var d=a.Td.height();a=c.height();b=Math.round(b.A()*(L-1)*.5);d=Math.ceil(d/2)-Math.floor(a/2);c.css("height",a).css("position","absolute").css("transform","translate("+b+"px, "+d+"px) scale("+L+")")}}
function Gp(a){if(!a.Nk){var b=Jp(a),c=a.Td.data("canvaElement"),d=a.Td.data("textIndex");a.Nk=!0;c.jc(d,b);a.Nk=!1;Ip(a)}}function Bo(a){var b;if(!a.Nk)if(a.So)Gp(a);else{var c=a.ba();b=Hp(a);var d=b.width;b=b.height;a.pj&&(d=Math.max(d,a.qc.A()*a.va.ub));a.Cl&&(b=Math.max(b,a.qc.B()*a.va.ub));c.Z(d);c.W(b);a.ob(c)}}
function Jp(a){function b(a,b,d){var m="width"==a?b.width:b.height;a="width"==a?e:g;var n=m.call(b);d/=n/a;b.css("font-size",d*bb+"%");n=m.call(b);if(0==n)return c;if(n>a)for(;n>a&&!(d*=.95,b.css("font-size",d*bb+"%"),n=m.call(b),n<a||8>d););else if(n<a)for(;n<a;)if(d/=.95,b.css("font-size",d*bb+"%"),n=m.call(b),n>a||d>c){d*=.95;break}return d=Math.max(Math.min(c,d),1)}var c=a.Gm*a.va.ub,d=parseFloat(a.Td.data("fontSize"))*a.va.ub,e=Math.floor(a.va.Vi+a.qc.A()*a.va.ub),g=Math.floor(a.va.Qb+a.qc.B()*
a.va.ub);a=a.Td.clone();a.addClass("element").appendTo("#canvaDocument \x3e .inner").css("width","").css("height","");a.children(".inner").css("width","").css("height","").css("transform","").css("position","").css("top","");d=b("width",a,d);a.css("font-size",d*bb+"%");a.height()>g&&(a.css("width",a.width()),d=b("height",a,d));a.remove();return d}
function Hp(a){function b(a,b,c){var d="height"===b?c:"";c="width"===b?c:"";a=a.clone();"width"===b&&a.css("white-space","nowrap");a.addClass("element").appendTo("#limbo").css("width",d).css("height",c);a.children(".inner").css("width",d).css("height",c).css("transform","").css("position","").css("top","").forceLayout();b=a.get(0).getBoundingClientRect()[b];a.remove();return b}var c=a.va.Vi+a.qc.A()*a.va.ub,d=a.va.Qb+a.qc.B()*a.va.ub,e=a.Td;a.pj&&(c=b(e,"width",d));a.Cl&&(d=b(e,"height",c));return{width:c,
height:d}};function Kp(a){for(var b,c=/(.*['"<])?([^'">]+)(['">].*)?/g;b=c.exec(a);)if(b=b[2].trim(),/^[^@]+@[^@]+$/.test(b)&&!/[ ,<>'"]/.test(b))return b};function Lp(a,b,c){this.id=a;this.length=b;this.name=c}Lp.prototype.F=function(){return this.id};Lp.prototype.Jf=function(){return this.length};Lp.prototype.getName=function(){return this.name};function Mp(a,b,c,d){this.id=a;this.name=b;this.EE=d;this.IC=c}Mp.prototype.F=function(){return this.id};Mp.prototype.getName=function(){return this.name};Mp.prototype.sb=function(){return this.EE};Mp.prototype.Kf=function(){return this.IC};function Np(a,b,c){this.height=a;this.url=b;this.width=c}Np.prototype.B=function(){return this.height};Np.prototype.ca=function(){return this.url};Np.prototype.A=function(){return this.width};function Op(a,b){this.sx=b.appId;this.od=null;this.R=a;this.Kp=[];this.status=Pp}
var Pp="UNINITIALIZED",Qp={Ne:function(a,b){var c=[];b.permissions.data.forEach(function(a){"granted"==a.status&&c.push(a.permission)});this.kk=c},param:"permissions"},Rp={rF:{Ne:function(a){this.accessToken=a.accessToken}},uF:{Ne:function(a,b){this.email=b.email},param:"email"},xF:{Ne:function(a,b){this.Jt=b.first_name},param:"first_name"},AF:{Ne:function(a){this.id=a.userID}},CF:{Ne:function(a,b){this.Du=b.last_name},param:"last_name"},EF:{Ne:function(a,b){this.name=b.name},param:"name"},GF:Qp,
HF:{Ne:function(a,b){this.wv=b.picture.data.url},param:"picture.type(large)"},vF:{Ne:function(a){this.Wr=(new Date).getTime()+1E3*a.expiresIn}}};f=Op.prototype;
f.init=function(a){function b(a){FB.Event.subscribe("auth.authResponseChange",function(b){"connected"==b.status?Sp(a).then(c).catch(d):a.od=null});FB.init({version:"v2.2",appId:a.sx,channelUrl:"//"+window.location.hostname+"/static/channel.html",status:!0,xfbml:!1});a.status="INITIALIZED";for(var b=a.Kp.length,e=0;e<b;e++)a.Kp.pop()(a)}function c(a){e.od=a}function d(){e.od=null}var e=this;"INITIALIZED"==this.status?a(e):(this.Kp.push(a),"INITIALIZING"!=this.status&&(this.status="INITIALIZING",window.fbAsyncInit=
function(){b(e)},function(a,b,c){var d=a.getElementsByTagName(b)[0];a.getElementById(c)||(a=a.createElement(b),a.id=c,a.src="//connect.facebook.com/en_US/sdk.js",d.parentNode.insertBefore(a,d))}(document,"script","facebook-jssdk")))};function Tp(a,b){return new P(function(c,d){Up(a,[Qp]).then(function(e){e=e.kk;var g=_.difference(b,e);a.od&&(a.od.kk=e);g.length?d():c()}).fail(d)})}
function Sp(a){return new P(function(b,c){var d;d=Object.keys(Rp).map(function(a){return Rp[a]});Up(a,d).then(function(d){d.email?(a.od=new Vp(d.accessToken,d.email,d.Jt,d.id,d.Du,d.name,d.kk,d.wv,d.Wr),b(a.od)):c("EMAIL_NOT_VERIFIED")}).fail(c)})}
function Up(a,b){var c=$.Deferred();a.getAuthResponse().then(function(a){for(var e=[],g=0;g<b.length;g++){var h=b[g];h.param&&e.push(h.param)}e=e.join(",");FB.api("/me?return_ssl_resources\x3d1\x26fields\x3d"+encodeURIComponent(e),function(e){if("error"in e)c.reject("FB_API_ERROR");else{for(var g={},h=0;h<b.length;h++)b[h].Ne.call(g,a,e);c.resolve(g)}})}).fail(function(b){a.od=null;c.reject(b)});return c.promise()}
f.getAuthResponse=function(){var a=$.Deferred();FB.getAuthResponse()?a.resolve(FB.getAuthResponse()):FB.getLoginStatus(function(b){"connected"==b.status?a.resolve(b.authResponse):a.reject("UNAUTHORIZED")});return a.promise()};f.lb=function(){return this.status};f.hb=function(){return this.od};
function Wp(a){var b=["email","public_profile","user_photos"];return new P(function(c,d){function e(b){a.od=null;d(b)}function g(g){g.authResponse&&g.status?Tp(a,b).then(c).catch(e):d("FB_API_ERROR")}var h=_.difference(b,a.od?a.od.kk:[]);0<h.length?FB.login(g,{scope:h.join(",")}):Tp(a,b).then(c).catch(e)})}function Xp(a){return Tp(a,["email","public_profile","user_photos"])}
function Yp(a,b){if("INITIALIZED"!=a.lb())throw Error("Unable to perform action. FB API not yet initialized");var c={};void 0!==b&&(c.offset=b);c.limit=10;var d=$.Deferred();FB.api("/me/albums?return_ssl_resources\x3d1",c,function(a){"error"in a?d.reject("FB_API_ERROR"):(a=a.data.map(function(a){return new Lp(a.id,a.count||0,a.name)}),d.resolve(a))});return d.promise()}
function Zp(a,b,c,d){if("INITIALIZED"!=a.lb())throw Error("Unable to perform action. FB API not yet initialized");a={};void 0!==c&&(a.offset=c);void 0!==d&&(a.limit=d);var e=$.Deferred();FB.api("/"+encodeURIComponent(b)+"/photos?return_ssl_resources\x3d1",a,function(a){"error"in a?e.reject("FB_API_ERROR"):(a=a.data.map(function(a){var b=a.height,c=a.width,d=a.source,e=b/4.6,g=c/4.6,r=a.picture,q=a.images.filter(function(a){return a.source===r});0<q.length&&(e=q[0].height,g=q[0].width);q=a.images.sort(function(a,
b){return b.height-a.height})[0];if(q.width>c||q.height>b)b=q.height,c=q.width,d=q.source;return new Mp(a.id,a.name,new Np(b,d,c),new Np(e,r,g))}),e.resolve(a))});return e.promise()}
f.$l=function(a,b){var c=this;return new P(function(d,e){function g(){return n.reduce(function(a,b){return a+b.Jf()},0)}function h(d){var l;n=n.concat(d);d=0<d.length&&10>=d.length;l=g()<a+b;d&&l?Yp(c,n.length).done(h).fail(e):k()}function k(){var d=0,g=n.filter(function(b){d+=b.Jf();return d>a}),h=n.filter(function(a){return-1===g.indexOf(a)}).reduce(function(a,b){return a+b.Jf()},0),k=[],p=0;g.forEach(function(d,e){var g=0===e?a-h:0,m=Math.min(b,d.Jf()-g);p<b&&(g=Zp(c,d.F(),g,m).done(l),k.push(g));
p+=m});$.when.apply($.when,k).done(m).fail(e)}function l(a){p=p.concat(a)}function m(){d(p)}var n=[],p=[];if("INITIALIZED"!==c.lb())throw Error("Unable to perform action. FB API not yet initialized");Yp(c,0).done(h).fail(e)})};
function $p(){var a=yc;new P(function(b,c){if("INITIALIZED"!==a.lb())throw Error("Unable to perform action. FB API not yet initialized");Sp(a).then(function(b){td(a.R,"/profile/user/fb",{facebookId:b.F(),accessToken:b.accessToken,tokenExpires:b.Wr}).return(b).catch(c)}).catch(c)})};function Vp(a,b,c,d,e,g,h,k,l){this.accessToken=a;this.email=b;this.Jt=c;this.id=d;this.Du=e;this.name=g;this.kk=h;this.wv=k;this.Wr=l}Vp.prototype.Ot=function(){return this.email};Vp.prototype.F=function(){return this.id};Vp.prototype.getName=function(){return this.name};function aq(a,b,c,d){this.url=b.downloadUrl+"\x26access_token\x3d"+encodeURIComponent(a);this.file=b;this.FE=c;this.HE=d;a:{a=this.file.imageMediaMetadata.width;b=this.file.imageMediaMetadata.height;switch(this.file.imageMediaMetadata.rotation){case 1:case 3:case 2:case 4:a={width:b,height:a};break a}a={width:a,height:b}}this.vl=a}f=aq.prototype;f.F=function(){return this.file.id};f.Aa=function(){return this.file.title};f.B=function(){return this.vl.height};f.A=function(){return this.vl.width};
f.ca=function(){return this.url};f.zg=function(){return this.file.thumbnailLink};f.Vt=function(){return this.FE};f.Wt=function(){return this.HE};function bq(a){this.accessToken=a.accessToken||null;this.Zq=a.Zq||null;this.po=a.po;this.Qm=a.Qm;this.ji=a.ji;if(this.accessToken){var b=this;this.mm().then(function(){gapi.auth.setToken({accessToken:b.accessToken})})}if(this.ji&&!a.Zq)throw Error("Client cannot be configured with offline and not have a redirectUri");this.mm().then(this.Js.bind(this,!1))}bq.prototype.load=function(){return this.mm()};
bq.prototype.Ml=function(a){function b(b){var g=b.result.items.map(function(a){return new P(function(b,c){var e=a.thumbnailLink;if(e){var g=new Image;g.onload=function(){this.complete&&d.accessToken?b(new aq(d.accessToken,a,this.naturalHeight,this.naturalWidth)):c()};g.src=e}else c()})});P.settle(g).then(function(g){g=g.reduce(function(a,b){b.isFulfilled()&&a.push(b.value());return a},[]);c.resolve(new cq(d,g,{li:b.result.nextPageToken,mb:a.mb}))})}var c=$.Deferred(),d=this;if(0>this.Qm.indexOf("https://www.googleapis.com/auth/drive.readonly"))throw Error("API was not configured with DRIVE_READ scope");
this.mm().then(function(){var d={q:"mimeType contains 'image/svg' or mimeType \x3d 'image/png' or mimeType \x3d 'image/jpeg'",maxResults:a.mb};a.li&&(d.pageToken=a.li);(d=gapi.client.request({method:"GET",path:"https://www.googleapis.com/drive/v2/files",params:d}))&&d.then(b,function(a){c.reject(a.statusText)})}).fail(function(a){c.reject(a.statusText)});return c.promise()};bq.prototype.getToken=function(){return this.accessToken};
(function(){function a(a){var b;try{b=JSON.parse(a.data)}catch(c){return}b.f&&null===document.getElementById(b.f)&&a.stopImmediatePropagation()}var b=$.Deferred(),c;bq.prototype.Dy=function(){var a;a=$("\x3cscript\x3e");a[0].onerror=b.reject.bind(b);a.attr({src:"https://apis.google.com/js/client.js?onload\x3dGoogleApiOnGapiLoad",type:"text/javascript"});a.appendTo("head");return a};bq.prototype.mm=function(){c||(window.addEventListener("message",a),c=this.Dy());return b.promise()};window.GoogleApiOnGapiLoad=
function(){b.resolve()}})();
bq.prototype.Js=function(a){function b(a){var b=a&&a.access_token;a=a&&a.code;b?(d.accessToken=b,c.resolve(d.accessToken)):a?c.resolve(a):c.reject("No authentication tokens received.")}var c=jQuery.Deferred(),d=this;this.accessToken?c.resolve(this.accessToken):(a={client_id:this.po,immediate:!a,approval_prompt:"auto",access_type:this.ji?"offline":"online",response_type:this.ji?"code":"token",scope:this.Qm},this.ji&&(a=$.extend({redirect_uri:this.Zq},a)),gapi.auth.authorize(a,b));return c.promise()};
function cq(a,b,c){this.google=a;this.UC=b;this.li=c.li;this.mb=c.mb}cq.prototype.$l=function(){return this.UC};function dq(a){return a.google.Ml({mb:a.mb,li:a.li})};function eq(a){this.Qj=a}eq.prototype.dA=P.method(function(a){a=["/vfolders/brands",a.Kb?"/"+encodeURIComponent(a.Kb):"/~",a.oa,"?format\x3d"+encodeURIComponent(a.format),void 0!==a.filter?"\x26filter\x3d"+encodeURIComponent(a.filter):"",void 0!==a.mb?"\x26limit\x3d"+a.mb:"",a.bb?"\x26continuation\x3d"+a.bb:""].join("");return wd(this.Qj,a).spread(fq)});
P.method(function(a){a=["/vfolders/brands",a.Kb?"/"+encodeURIComponent(a.Kb):"/~","/users",a.Ea?"/"+encodeURIComponent(a.Ea):"/~",a.oa,"?format\x3d"+encodeURIComponent(a.format),void 0!==a.filter?"\x26filter\x3d"+encodeURIComponent(a.filter):"",void 0!==a.mb?"\x26limit\x3d"+a.mb:"",a.bb?"\x26continuation\x3d"+a.bb:""].join("");return wd(this.Qj,a).spread(fq)});
P.method(function(a){a=["/vfolders","/users"+(a.Ea?"/"+encodeURIComponent(a.Ea):"/~"),a.oa,"?format\x3d"+encodeURIComponent(a.format),void 0!==a.filter?"\x26filter\x3d"+encodeURIComponent(a.filter):"",void 0!==a.mb?"\x26limit\x3d"+a.mb:"",a.bb?"\x26continuation\x3d"+a.bb:""].join("");return wd(this.Qj,a).spread(fq)});function gq(){this.width=this.height=0;this.url="";this.version=0}gq.prototype.A=function(){return this.width};gq.prototype.B=function(){return this.height};gq.prototype.S=function(){return this.version};gq.prototype.ca=function(){return this.url};function hq(a){return a?$.extend(new gq,a):null}function iq(){this.kind=jq;this.type=kq;this.name=this.id="";this.timestamp=this.version=0;this.thumbnail=new gq;this.tags=[];this.owner=this.marketplaceStatus=null}var jq="SIMPLE",kq="DESIGN";f=iq.prototype;
f.Yb=function(){return this.type};f.F=function(){return this.id};f.getName=function(){return this.name};f.S=function(){return this.version};f.Xt=function(){return this.timestamp};f.sb=function(){return this.thumbnail};function lq(){}lq.prototype=new iq;function mq(){this.publik=this.brandPublik=!1;this.myRole="NONE";this.commentCount=this.likerCount=this.remixCount=0;this.likedByMe=!1;this.ownerUser=this.latestComment=null}mq.prototype=new iq;function nq(){this.items=[];this.continuation=null}
nq.prototype.qd=function(){return this.items};nq.prototype.gc=function(){return this.continuation};
function fq(a){function b(a){if(a.kind===jq)a?(a=$.extend(new lq,a),a.kind=jq,a.owner&&(a.owner=Object.freeze(D(oq,a.owner))),a.thumbnail&&(a.thumbnail=hq(a.thumbnail))):a=null;else if("SOCIAL"===a.kind)if(a){a=$.extend(new mq,a);a.kind="SOCIAL";if(a.latestComment){var b=a.latestComment;b.author.deactivated&&(b.author.username="",b.author.displayName+=" [deleted]",b.author.avatar=Ok);var e=new Wk;$.extend(e,b);e.author=mk(b.author);a.latestComment=e}a.owner&&(a.owner=Object.freeze(D(oq,a.owner)));
a.thumbnail&&(a.thumbnail=hq(a.thumbnail));a.ownerUser=mk(a.ownerUser)}else a=null;return a}if(!a)return null;a=$.extend(new nq,a);a.items&&(a.items=a.items.map(b));return a};function pq(){this.content=null}pq.prototype=new lq;pq.prototype.Re=function(){return this.content};function qq(a){a=a.content;var b=a.elements;return b&&1===b.length&&"grid"===b[0].type?0>=b[0].top&&0>=b[0].left&&b[0].width>=a.width&&b[0].height>=a.height&&(!b[0].contents||0===b[0].contents.length):!1}function oq(){}oq.prototype.hb=function(){return this.user};oq.prototype.ea=function(){return this.brand};function qp(a){this.name=a||"Normal";this.Mc=this.vignette=this.tc=this.saturation=this.contrast=this.brightness=this.blur=0;this.Qd=50}var rq=new qp,sq=new qp("halftone");
function tq(a){var b=a.match(/([a-z0-9]{2})/gi),c=new qp;if("halftone"===a)return sq;c.brightness=parseInt(b[0],16)-100;c.contrast=parseInt(b[1],16)-100;c.saturation=parseInt(b[2],16)-100;c.tc=parseInt(b[3],16)-100;c.blur=parseInt(b[4],16)-100;c.vignette=parseInt(b[5],16);c.Mc=parseInt(b[6],16)-100;c.Qd=7<b.length?parseInt(b[7],16):rq.Qd;return c}function uq(a){a=a.toLowerCase();return"tint"!==a&&"name"!==a}
function vq(a,b,c){b=Math.round((b||0)*c);return"vignette"===a||"tintAmount"===a?Math.min(100,Math.max(0,b)):Math.min(100,Math.max(-100,b))}function wq(a,b){var c=_.findWhere(xq,{name:a.name});_.chain(c).keys().filter(uq).each(function(a){this.Xm(a,vq(a,c[a],b))}.bind(a))}function yq(a){var b=new qp;b.Oc(a.serialize());b.blur&&(b.blur*=.5);b.brightness&&(b.brightness*=.5);b.contrast&&(b.contrast*=.6);b.saturation&&0<b.saturation&&(b.saturation*=.8);b.vignette&&(b.vignette*=.7);return b}f=qp.prototype;
f.Oc=function(a){a&&(this.name=a.name||rq.name,this.blur=a.blur||rq.blur,this.brightness=a.brightness||rq.brightness,this.contrast=a.contrast||rq.contrast,this.saturation=a.saturation||rq.saturation,this.tc=a.tint||rq.tc,this.vignette=a.vignette||rq.vignette,this.Mc=a.xpro||rq.Mc,this.Qd=_.isNumber(a.tintAmount)?a.tintAmount:rq.Qd)};
function zq(a,b){function c(c){return a[c]!==b[c]}a=void 0===a?rq:a;b=void 0===b?rq:b;return null===a&&null===b?!0:null===a||null===b?!1:0===Object.keys(a).filter(c).length&&0===Object.keys(b).filter(c).length}
f.Xm=function(a,b){switch(a){case "brightness":return this.brightness=b,!0;case "saturation":return this.saturation=b,!0;case "contrast":return this.contrast=b,!0;case "blur":return this.blur=b,!0;case "tint":return this.tc=b,!0;case "xpro":case "xprocess":return this.Mc=b,!0;case "vignette":return this.vignette=b,!0;case "tintAmount":return this.Qd=b,!0;default:return!1}};
f.getByName=function(a){switch(a){case "brightness":return this.brightness;case "saturation":return this.saturation;case "contrast":return this.contrast;case "blur":return this.blur;case "tint":return this.tc;case "xpro":case "xprocess":return this.Mc;case "vignette":return this.vignette;case "tintAmount":return this.Qd;default:throw Error("unknown filter property name: "+a);}};f.Up=function(){return null!==Aq(this)};
f.serialize=function(){if(zq(this,rq))return null;var a={};this.name&&(a.name=this.name);this.blur&&(a.blur=this.blur);this.brightness&&(a.brightness=this.brightness);this.contrast&&(a.contrast=this.contrast);this.saturation&&(a.saturation=this.saturation);this.tc&&(a.tint=this.tc);this.vignette&&(a.vignette=this.vignette);this.Mc&&(a.xpro=this.Mc);_.isNumber(this.Qd)&&(a.tintAmount=this.Qd);return a};
function Aq(a){var b=_.findWhere(xq,{name:a.name});if(null===b)return null;var c=Bq(a,b);return null===c?null:_.all(b,function(a,e){return uq(e)?1>=Math.abs(this.getByName(e)-vq(e,b[e],c)):!0}.bind(a))?c:null}function Bq(a,b){var c=0,d=null;_.each(b,function(a,b){uq(b)&&Math.abs(a)>=Math.abs(c)&&100>Math.abs(this.getByName(b))&&(c=a,d=b)}.bind(a));return 0===c?null:a.getByName(d)/c}
f.X=function(){return[this.brightness+100,this.contrast+100,this.saturation+100,this.tc+100,this.blur+100,this.vignette,this.Mc+100,this.Qd].map(function(a){a=Math.round(a).toString(16);1==a.length&&(a="0"+a);return a}).join("")};
function Cq(a,b){var c=a-200/7;0>c&&(c=200+c);var d,e,c=360*c/200/360;d=1;e=.5;if(0==d)e=d=c=e;else{var g=.5>e?e*(1+d):e+d-e*d,h=2*e-g;e=Ig(h,g,c+1/3);d=Ig(h,g,c);c=Ig(h,g,c-1/3)}c=[Math.round(255*e),Math.round(255*d),Math.round(255*c)];return{color:{r:c[0],g:c[1],b:c[2]},Tn:7+.14*(b-50)}}
function Dq(a){function b(b){return parseFloat((b*a/-100).toFixed(2))}if(0<a){var c=function(b){return parseFloat((b*a/100).toFixed(2))},d=[0,.2,0,-.1,0].map(c),e=[0,.1,0,-.1,0].map(c),c=[.2,0,.2].map(c);return{red:[[0,0],[.3,.3-d[1]],[.7,.7-d[3]],[1,1]],green:[[0,0],[.25,.25-e[1]],[.75,.75-e[3]],[1,1]],blue:[[0,c[0]],[0+2/3*.5,c[0]+2/3*(.5-c[0])],[1+2/3*-.5,1-c[2]+2/3*(.5-(1-c[2]))],[1,1-c[2]]]}}d=[0,.2,.5,-.05].map(b);e=[0,-.15,0,0].map(b);c=[0,-.01,0,.3].map(b);return{red:[[0,0],[.3,.3-d[1]],[.7,
.7-d[2]],[.95,.95-d[3]]],green:[[0,0],[.25,.25-e[1]],[.6,.6],[1,1]],blue:[[0,0],[.3,.3-c[1]],[.5,.5],[1,1-c[3]]]}};function Eq(a){this.filter=new qp;this.We=this.Wq=this.Ed=!1;this.Al={};this.Yy="";this.Va=a;this.Ao="print"==Rn?Sn:Oc;this.Hr=null;this.Uj=50}function dn(a,b){var c=new qp,d=new Eq(b);a&&c.Oc(a);pp(d,c);return d}f=Eq.prototype;f.Up=function(){return this.filter.Up()};f.Xe=function(){return this.We};f.initialize=function(a){function b(){c.We=!0;a&&a()}var c=this;!mo(this.Va)||this.We||zq(this.filter,rq)?b():Vn(this,b)};function Fq(a){a.Tc||(a.Tc=new Gq(window,a.Va,a.Ao),a.Tc.update(!0))}
f.update=function(a,b){var c=this;if(this.Ed)if(this.Hr=Yn(this),this.trigger("change"),this.Va.isEmpty())this.Tc&&(this.Tc.remove(),this.Tc=null),this.Ed=!1,b&&b();else{this.Tc||(this.Tc=new Gq(window,this.Va,this.Ao));var d=!!this.Wq;Hq(this.Tc.apply(this.filter),d).update(!!a,function(){c.Ed=!1;b&&b()})}else b&&b()};function Vn(a,b){a.Ed=!0;a.Wq=!0;a.Gf();a.update(!0,function(){a.Wq=!1;a.Oe();b&&b()})}
f.Xm=function(a,b,c){"intensity"===a?(this.Uj=b,wq(this.filter,b/50),this.Ed=!0):this.Ed=this.filter.Xm(a,b);this.update(!1,c)};f.getByName=function(a){return"intensity"==a?this.Uj:this.filter.getByName(a)};function pp(a,b){a.filter=b;a.Uj=Math.round(50*Aq(b))}function Iq(a,b){a.filter=new qp;a.Uj=50;b&&a.filter.Oc(b);Vn(a)}function Jq(a){a.filter=new qp;a.Uj=50;a.Ed=!0;Vn(a)}function Yn(a){return a.filter.serialize()}f.X=function(){return this.filter.X()};f.Gf=function(){};
f.Oe=function(){if(this.Tc){var a=Hq(this.Tc,!0);if(!a.hs)if(a.Uk)Kq(a);else if(a.canvas){var b=a.Fn.clone(!0).off().removeAttr("crossorigin"),c=Lq(a);c?(b.get(0).src=c,Mq(a)):(c=a.canvas.toDataURL(),a.cache.add(Nq(a),c),b.get(0).src=c);a.aa.find("img,canvas").remove();a.aa.append(b);a.Fn=b;$("#limbo").append(a.canvas);a.Ti=!1}}};f.Nb=function(){return this.Va.Nb()};
f.Ro=function(a,b,c){var d=new qp;a&&d.Oc(a);this.Va.serialize().mediaId+this.Va.serialize().mediaVersion!==this.Yy&&(this.Al={});if(this.Al[d.name])c(this.Al[d.name]);else if(a=this.Nb()){var e=this,g=b?Tn:this.Ao,h=a[g];b=h.ca();a=$("\x3cimg\x3e");var k=$("\x3cdiv\x3e");k.append(a);k.appendTo("#limbo");a.one("load",function(){var a=h.A(),b=h.B();k.css("width",a).css("height",b);var a=new fn(e.Va.serialize(),k),n=new Gq(window,a,g);n.apply(d).Ro().update(!0,function(){var a={src:Oq(n),lF:Pq(n)};
e.Al[d.name]=a;c(a);n.remove();k&&k.remove()})});Fa(a,b)}};f.remove=function(){this.Tc&&this.Tc.remove();this.Tc=null};f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;_.extend(Eq.prototype,Backbone.Events);var xq=[{name:"The Blues",blur:-14,brightness:63,contrast:-37,tint:0,saturation:-26,vignette:0,xpro:-23,tintAmount:50},{name:"Edge",blur:-53,brightness:10,contrast:-24,tint:49,saturation:26,vignette:0,xpro:29,tintAmount:50},{name:"Selfie",blur:void 0,brightness:10,contrast:-12,tint:-50,saturation:-12,vignette:56,xpro:50,tintAmount:50},{name:"Festive",blur:-7,brightness:10,contrast:21,tint:void 0,saturation:24,vignette:void 0,xpro:40,tintAmount:50},{name:"Rosie",blur:-14,brightness:0,contrast:55,tint:-73,
saturation:-28,vignette:0,xpro:27,tintAmount:50},{name:"Drama",blur:0,brightness:-10,contrast:21,tint:60,saturation:-34,vignette:50,xpro:80,tintAmount:50},{name:"Epic",blur:1,brightness:6,contrast:20,tint:void 0,saturation:-14,vignette:39,xpro:50,tintAmount:50},{name:"Grayscale",blur:void 0,brightness:15,contrast:-20,tint:void 0,saturation:-100,vignette:void 0,xpro:void 0,tintAmount:50},{name:"Nordic",blur:0,brightness:15,contrast:-16,tint:0,saturation:-50,vignette:0,xpro:0,tintAmount:50},{name:"Summer",
blur:0,brightness:10,contrast:14,tint:-46,saturation:18,vignette:25,xpro:30,tintAmount:50},{name:"Street",blur:-7,brightness:-7,contrast:21,tint:0,saturation:-95,vignette:50,xpro:0,tintAmount:50},{name:"Retro",blur:0,brightness:0,contrast:-14,tint:14,saturation:-18,vignette:40,xpro:69,tintAmount:50},{name:"Whimsical",blur:-19,brightness:43,contrast:-15,tint:-79,saturation:-53,vignette:21,xpro:60,tintAmount:50},{name:"Cali",blur:0,brightness:22,contrast:-46,tint:0,saturation:38,vignette:0,xpro:27,
tintAmount:50}];function Gq(a,b,c){this.Va=b;this.Xq=c;this.aa=this.Va.C();this.hs=this.Va.im;this.Uk=Qq;this.Wp=this.Bl=this.Ed=this.locked=this.Ti=!1;!this.Uk&&"WebGLRenderingContext"in a&&(a=fx.canvas(),b=fx.canvas(),a&&b&&(Rq=a,Sq=b,this.Uk=Qq=!0))}var Rq,Sq;Gq.prototype.Dz=function(){var a=0;return function(){a+=1;return a.toString()}}();var Qq=!1;Gq.prototype.Ro=function(){this.Bl=!0;return this};Gq.prototype.apply=function(a){this.values=new qp;this.values.Oc(yq(a).serialize());return this};
function Hq(a,b){a.Ti=b;return a}Gq.prototype.update=function(a,b){this.Wp||!a&&this.locked||(this.hs?this.bF(b):this.Uk?Tq(this,b):Uq(this,a,b))};function Kq(a){function b(){this.Ti=!1;c.aa.find("img,canvas").remove();c.aa.append(d);c.Fn=d;$("#limbo").append(c.canvas)}if(a.canvas){var c=a,d=a.Fn.clone(!0).off().removeAttr("crossorigin"),e=Lq(a);e?(d.get(0).src=e,b(),Mq(a)):Tq(a,function(){c.canvas.update();c.canvas._.texture.toImage(d.get(0));var a=d.get(0).src;c.cache.add(Nq(c),a);b()})}}
function Vq(a,b){var c=ko(a.Va).scale(L).round();$(b).css(Fn(c,0))}
(function(){function a(a,c,d,e){var g=$("\x3cimg\x3e"),h=$("\x3cdiv\x3e");h.append(g);g.one("load",function(){var g=new fn(a.serialize(),h);h.appendTo("#limbo");var k=new Gq(window,g,d);k.values=b(c);k.update(!0,function(){var a=Oq(k);h.remove();e(a)})});Fa(g,a.Nb()[d].ca())}function b(a){a=tq(a.X());a.saturation/=.8;0!==a.tc&&(a.brightness=0<a.brightness?a.brightness/1.5:a.brightness-15);0<a.blur&&(a.blur/=2);return a}function c(a){var b=$(a).children("defs.canva.filter");0===b.length?(b=document.createElementNS("http://www.w3.org/2000/svg",
"defs"),b.classList.add("canva"),b.classList.add("filter"),a.appendChild(b)):b=b.get(0);return b}function d(a,b,c){var d={brightness:l,contrast:m,saturation:n,tc:k,blur:p,vignette:h,Mc:e},g=document.createElementNS("http://www.w3.org/2000/svg","filter");c=ko(c).scale(2);g.setAttribute("id",b);"print"===Rn&&g.setAttribute("filterRes",c.A()+" "+c.B());b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");g.appendChild(b);Object.keys(a).filter(function(b){return d.hasOwnProperty(b)&&
void 0!==a[b]}).forEach(function(b){0!==a[b]&&d[b].call(this,a[b],a).forEach(function(a){g.appendChild(a)})});return g}function e(a){if(0===a)return[];a=g(Dq(a));a.forEach(function(a){a.classList.add("crossProcess")});return a}function g(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");b.setAttribute("color-interpolation-filters","sRGB");var c={r:a.red,g:a.green,b:a.blue};["r","g","b"].forEach(function(a){var d=document.createElementNS("http://www.w3.org/2000/svg",
"feFunc"+a.toUpperCase());if(a=c[a])a=Wq({x:a[0][0],y:a[0][1]},{x:a[1][0],y:a[1][1]},{x:a[2][0],y:a[2][1]},{x:a[3][0],y:a[3][1]}).map(function(a){return a.y}),d.setAttribute("type","table"),d.setAttribute("tableValues",a.join(" ")),b.appendChild(d)});b.classList.add("curves");return[b]}function h(a){if(0===a)return[];var b=document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),c=document.createElementNS("http://www.w3.org/2000/svg","stop"),d=document.createElementNS("http://www.w3.org/2000/svg",
"stop");b.classList.add("vignette");b.appendChild(c);b.appendChild(d);b.setAttribute("cx","50%");b.setAttribute("cy","50%");b.setAttribute("r","50%");b.setAttribute("fx","50%");b.setAttribute("fy","50%");var e=Math.min(1,1.3);c.setAttribute("offset",(.7/1.3).toString());c.setAttribute("stop-color","#000000");c.setAttribute("stop-opacity","0");d.setAttribute("offset",e.toString());d.setAttribute("stop-color","#000000");d.setAttribute("stop-opacity",a/100);return[b]}function k(a,b){if(0===a)return[];
var c=Cq(a+100,b.getByName("tintAmount")),d={r:c.color.r/255,g:c.color.g/255,b:c.color.b/255},e=c.Tn/100*2,g=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");g.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){var b=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a=d[a]*e;b.setAttribute("type","linear");b.setAttribute("slope",1-e);b.setAttribute("intercept",a);g.appendChild(b)});g.classList.add("tint");
return[g]}function l(a){if(0===a)return[];var b=a/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());a.setAttribute("type","linear");a.setAttribute("slope",1);a.setAttribute("intercept",b);c.appendChild(a)});c.classList.add("brightness");return[c]}function m(a){if(0===a)return[];var b=(a*(1<a?1/.6:1)+
100)/100,c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");c.setAttribute("color-interpolation-filters","sRGB");["r","g","b"].forEach(function(a){a=document.createElementNS("http://www.w3.org/2000/svg","feFunc"+a.toUpperCase());var d=-(.5*b)+.5;a.setAttribute("type","linear");a.setAttribute("slope",b);a.setAttribute("intercept",d);c.appendChild(a)});c.classList.add("contrast");return[c]}function n(a){if(0===a)return[];a=(a+100)/100;a*=1>=a?1:a;a=[.3086+.6914*a,.6094-.6094*
a,.082-.082*a,0,0,.3086-.3086*a,.6094+(1-.6094)*a,.082-.082*a,0,0,.3086-.3086*a,.6094-.6094*a,.082+.918*a,0,0,0,0,0,1,0];var b=document.createElementNS("http://www.w3.org/2000/svg","feColorMatrix");b.setAttribute("color-interpolation-filters","sRGB");b.setAttribute("type","matrix");b.setAttribute("values",a.join(" "));b.classList.add("saturation");return[b]}function p(a){if(0===a)return[];if(0>a){a*=-1;if(0===a)a=[];else{a=a/100*4;a=[0,-a,0,-a,4*a+1,-a,0,-a,0];var b=document.createElementNS("http://www.w3.org/2000/svg",
"feConvolveMatrix");b.setAttribute("order","3");b.setAttribute("kernelMatrix",a.join(" "));b.classList.add("sharpen");a=[b]}return a}b=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur");b.setAttribute("stdDeviation",.125*a);b.classList.add("blur");return[b]}var r=0;Gq.prototype.bF=function(b){var e="_CANVA_FILTER_"+r++;Xq(this);if(!this.values||zq(this.values,rq))b&&b();else{this.yj=c(this.aa.get(0));var g=d(this.values,e,this.Va);this.yj.appendChild(g);var g=this.yj.querySelector(".vignette"),
h=this.aa.get(0).querySelector(".vignette"),k=e+"_VIGNETTE";g?(this.yj.appendChild(g),g.setAttribute("id",k),h.setAttribute("fill","url(#"+k+")")):h.setAttribute("fill","none");var l=this.aa.find("image.placeholder").get(0);Fl?a(this.Va,this.values,this.Xq,function(a){a&&Fa($(l),a);b&&b()}):(l.setAttribute("filter","url(#"+e+")"),b&&b())}}})();function Nq(a){var b,c=a.Va.serialize();a.Lc&&a.values&&a.Va&&(b=a.values.X()+c.mediaId+c.mediaVersion+a.Lc.width+a.Lc.height);return b}
function Yq(a){var b=Nq(a);return a.Ti&&!!b&&!!a.cache.fetch(b)}function Lq(a){return Yq(a)?a.cache.fetch(Nq(a)):void 0}
function Tq(a,b){function c(){d.Lc.width=e;d.Lc.height=g;d.canvas||(d.canvas=d.Bl?Sq:Rq,d.aa.append(d.canvas),Vq(d,d.canvas),d.Am=d.canvas.texture(d.Lc),d.canvas.draw(d.Am,e,g),$("#limbo").append(d.Lc));if(d.canvas.width!==e||d.canvas.height!==g)d.canvas.width=e,d.canvas.height=g;Vq(d,d.canvas);d.canvas.draw(d.Am,e,g);if(d.values){d.canvas.brightnessContrast((d.values.brightness||0)/100,(d.values.contrast||0)/100).saturation(d.values.saturation||0);if(d.values.tc){var a=Cq(d.values.tc+100,d.values.Qd);
d.canvas.colorize(a.color.r,a.color.g,a.color.b,a.Tn/100)}d.values.blur&&(0<d.values.blur?d.canvas.triangleBlur(d.values.blur):d.canvas.unsharpMask(3,-1*d.values.blur/20));d.values.Mc&&(a=Dq(d.values.Mc),d.canvas.curves(a.red,a.green,a.blue));Mq(d);d.values.name===sq.name&&d.canvas.colorHalftone(e/2,g/2,.45,e/100)}d.canvas.update();b&&b();d.Bl=!1;d.locked=!1;d.Ed=!1}var d=a,e,g;if(Yq(a))b&&b();else{var h=a.Va.Nb();h&&(h=h[d.Xq],e=h.A(),g=h.B(),d.mu=h.ca(),d.Ti=!1,d.locked=!0,Zq(d,c))}}
function Uq(a,b,c){function d(){h.Lc.width=k;h.Lc.height=l;if(h.Qc){if(h.canvas.width!==k||h.canvas.height!==l)h.canvas.width=k,h.canvas.height=l;e()}else h.canvas=document.createElement("canvas"),h.canvas.setAttribute("data-caman-hidpi-disabled",!0),h.Ss="camanCanvas"+h.Dz(),h.canvas.id=h.Ss,h.canvas.width=k,h.canvas.height=l,Vq(h,h.canvas),h.aa.append(h.canvas),h.Gx=h.canvas.getContext("2d"),h.Gx.drawImage(h.Lc,0,0,k,l),h.Qc=Caman("#"+h.Ss,e),$("#limbo").append(h.Lc)}function e(){Vq(h,h.canvas);
h.Qc.revert(!1);if(h.values){h.values.brightness&&0!=h.values.brightness&&h.Qc.brightness(h.values.brightness);h.values.contrast&&0!=h.values.contrast&&h.Qc.contrast(h.values.contrast);h.values.saturation&&0!=h.values.saturation&&(-100==h.values.saturation?h.Qc.greyscale():h.Qc.saturation(h.values.saturation));var a=Cq(h.values.tc+100,h.values.Qd);h.values.tc&&h.Qc.colorize(a.color.r,a.color.g,a.color.b,2.5*a.Tn);h.values.blur&&0!=h.values.blur&&(0<h.values.blur?h.Qc.stackBlur(h.values.blur):h.Qc.sharpen(-1*
h.values.blur||0));if(h.values.Mc){var b=Dq(h.values.Mc),a=b.red.map(g),d=b.green.map(g),b=b.blue.map(g);h.Qc.curves("r",a[0],a[1],a[2],a[3]);h.Qc.curves("g",d[0],d[1],d[2],d[3]);h.Qc.curves("b",b[0],b[1],b[2],b[3])}Mq(h)}h.Qc.render(function(){c&&c();h.Bl=!1;window.setTimeout(function(){h.locked=!1},1E3);h.Ed=!1})}function g(a){return[Math.min(255,Math.round(255*a[0])),Math.min(255,Math.round(255*a[1]))]}if(b){var h=a,k,l;if(Yq(a))c&&c();else if(a=a.Va.Nb())a=a[h.Xq],k=a.A(),l=a.B(),h.mu=a.ca(),
h.Ti=!1,h.locked=!0,Zq(h,d)}else c&&c()}function Mq(a){var b=a.aa.find(".vignette");0===b.length&&(b=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),a.aa.prepend(b));a.values.vignette?(a=Pq(a),b.removeClass("off").addClass("on").css("background-image","radial-gradient("+a+")")):b.removeClass("on").addClass("off").css("background-image","none")}
function Zq(a,b){function c(a){if(d.Og&&0<d.Og.length&&d.Og.get(0).src){d.Lc=new Image;var c=$(d.Lc);c.css("visibility","hidden");c.one("load",function(){window.setTimeout(function(){d.Wp||(d.Og.appendTo("#limbo"),c.css("visibility","visible"),b())},300)});Fa(c,a);Vq(d,d.Lc);d.aa.append(c)}else window.setTimeout(function(){Zq(d,b)},500)}var d=a;d.canvas?(1==$(d.canvas).parents("#limbo").length&&($(d.canvas).appendTo(d.aa),d.aa.find("img").remove()),b()):(d.Og=d.aa.find("img"),d.Fn=d.Og,c(d.mu))}
function Pq(a){return"circle farthest-side at center center, rgba(0,0,0,0) 70%, "+("rgba(0,0,0,"+a.values.vignette/100+")")+" 130%"}function Oq(a){var b=$("\x3cimg /\x3e");a.Uk?(a.canvas.update(),a.canvas._.texture.toImage(b.get(0))):b.get(0).src=a.canvas.toDataURL();return b.get(0).src}
Gq.prototype.remove=function(){this.Wp=!0;this.hs?Xq(this):($(this.Lc).remove(),this.Og&&this.Og.remove(),this.aa.find(".vignette").remove(),this.Am&&this.Am.destroy(),this.canvas&&($(this.canvas).remove(),this.canvas.width=0,this.canvas=null))};function Xq(a){a.aa.find("image.placeholder").removeAttr("filter");a.aa.get(0).querySelector(".vignette").setAttribute("fill","none");$(a.yj).remove();a.yj=null}function $q(){this.cache={}}
$q.prototype.add=function(a,b){var c=this.cache[a];return c?c:this.cache[a]=b};$q.prototype.fetch=function(a){return this.cache[a]};Gq.prototype.cache=new $q;var ar=[{sh:"Sans-serif",fe:"sans-serif",fonts:[{family:"Aileron Thin",H:"https://static.canva.com/static/images/fonts/Aileron-Thin.png",J:"https://static.canva.com/static/images/fonts/Aileron-Thin@2x.png",url:"https://static.canva.com/static/webfonts/Aileron-Thin.css",I:"Aileron-Thin",displayName:"Aileron Thin",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Aileron-Thin.ttf",o:"https://static.canva.com/static/truetypefonts/Aileron-ThinItalic.ttf",bold:"https://static.canva.com/static/truetypefonts/Aileron-Light.ttf",v:"https://static.canva.com/static/truetypefonts/Aileron-LightItalic.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/Aileron-LightItalic.ttf",
l:"Aileron-LightItalic",kb:"https://static.canva.com/static/webfonts/Aileron-LightItalic.otf"},bold:{i:"https://static.canva.com/static/truetypefonts/Aileron-Light.ttf",l:"Aileron-Light",kb:"https://static.canva.com/static/webfonts/Aileron-Light.otf"},o:{i:"https://static.canva.com/static/truetypefonts/Aileron-ThinItalic.ttf",l:"Aileron-ThinItalic",kb:"https://static.canva.com/static/webfonts/Aileron-ThinItalic.otf"},j:{i:"https://static.canva.com/static/truetypefonts/Aileron-Thin.ttf",l:"Aileron-Thin",kb:"https://static.canva.com/static/webfonts/Aileron-Thin.otf"}}},{family:"Aileron Regular",H:"https://static.canva.com/static/images/fonts/Aileron.png",J:"https://static.canva.com/static/images/fonts/Aileron@2x.png",
url:"https://static.canva.com/static/webfonts/Aileron-Regular.css",I:"Aileron Regular",displayName:"Aileron Regular",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Aileron-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/Aileron-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Aileron-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Aileron-BoldItalic.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/Aileron-BoldItalic.ttf",l:"Aileron-BoldItalic",kb:"https://static.canva.com/static/webfonts/Aileron-BoldItalic.otf"},bold:{i:"https://static.canva.com/static/truetypefonts/Aileron-Bold.ttf",l:"Aileron-Bold",kb:"https://static.canva.com/static/webfonts/Aileron-Bold.otf"},
o:{i:"https://static.canva.com/static/truetypefonts/Aileron-Italic.ttf",l:"Aileron-Italic",kb:"https://static.canva.com/static/webfonts/Aileron-Italic.otf"},j:{i:"https://static.canva.com/static/truetypefonts/Aileron-Regular.ttf",l:"Aileron-Regular",kb:"https://static.canva.com/static/webfonts/Aileron-Regular.otf"}}},{family:"Aileron Heavy",H:"https://static.canva.com/static/images/fonts/Aileron-Heavy.png",J:"https://static.canva.com/static/images/fonts/Aileron-Heavy@2x.png",url:"https://static.canva.com/static/webfonts/Aileron-Heavy.css",I:"Aileron-Heavy",displayName:"Aileron Heavy",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Aileron-Heavy.ttf",o:"https://static.canva.com/static/truetypefonts/Aileron-HeavyItalic.ttf",
bold:"https://static.canva.com/static/truetypefonts/Aileron-Black.ttf",v:"https://static.canva.com/static/truetypefonts/Aileron-BlackItalic.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/Aileron-BlackItalic.ttf",l:"Aileron-BlackItalic",kb:"https://static.canva.com/static/webfonts/Aileron-BlackItalic.otf"},bold:{i:"https://static.canva.com/static/truetypefonts/Aileron-Black.ttf",l:"Aileron-Black",kb:"https://static.canva.com/static/webfonts/Aileron-Black.otf"},o:{i:"https://static.canva.com/static/truetypefonts/Aileron-HeavyItalic.ttf",l:"Aileron-HeavyItalic",kb:"https://static.canva.com/static/webfonts/Aileron-HeavyItalic.otf"},j:{i:"https://static.canva.com/static/truetypefonts/Aileron-Heavy.ttf",
l:"Aileron-Heavy",kb:"https://static.canva.com/static/webfonts/Aileron-Heavy.otf"}}},{family:"Aleo Light",H:"https://static.canva.com/static/images/fonts/Aleo-Light.png",J:"https://static.canva.com/static/images/fonts/Aleo-Light@2x.png",url:"https://static.canva.com/static/webfonts/Aleo-Light.css",I:"Aleo Light",displayName:"Aleo Light",D:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Aleo-Light.ttf",o:"https://static.canva.com/static/truetypefonts/Aleo-LightItalic.ttf"},G:{o:{i:"https://static.canva.com/static/truetypefonts/Aleo-LightItalic.ttf",l:"Aleo-LightItalic",u:"https://static.canva.com/static/webfonts/Aleo-LightItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Aleo-Light.ttf",
l:"Aleo-Light",u:"https://static.canva.com/static/webfonts/Aleo-Light.woff"}}},{family:"Aleo",H:"https://static.canva.com/static/images/fonts/Aleo.png",J:"https://static.canva.com/static/images/fonts/Aleo@2x.png",url:"https://static.canva.com/static/webfonts/Aleo.css",I:"Aleo",displayName:"Aleo",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Aleo-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/Aleo-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Aleo-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Aleo-BoldItalic.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/Aleo-BoldItalic.ttf",l:"Aleo-BoldItalic",u:"https://static.canva.com/static/webfonts/Aleo-BoldItalic.woff"},
bold:{i:"https://static.canva.com/static/truetypefonts/Aleo-Bold.ttf",l:"Aleo-Bold",u:"https://static.canva.com/static/webfonts/Aleo-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Aleo-Italic.ttf",l:"Aleo-Italic",u:"https://static.canva.com/static/webfonts/Aleo-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Aleo-Regular.ttf",l:"Aleo-Regular",u:"https://static.canva.com/static/webfonts/Aleo-Regular.woff"}}},{family:"Allerta Stencil",H:"https://static.canva.com/static/images/fonts/Allerta-Stencil.png",J:"https://static.canva.com/static/images/fonts/Allerta-Stencil@2x.png",url:"https://static.canva.com/static/webfonts/Allerta%2BStencil.css",I:"AllertaStencil-Regular",D:{o:!1,bold:!1,
v:!1},i:{j:"https://static.canva.com/static/truetypefonts/AllertaStencil-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/AllertaStencil-Regular.ttf",l:"AllertaStencil-Regular",u:"https://static.canva.com/static/webfonts/AllertaStencil-Regular.woff"}}},{family:"Antic",H:"https://static.canva.com/static/images/fonts/Antic.png",J:"https://static.canva.com/static/images/fonts/Antic@2x.png",url:"https://static.canva.com/static/webfonts/Antic.css",I:"Antic-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Antic-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Antic-Regular.ttf",l:"Antic-Regular",u:"https://static.canva.com/static/webfonts/Antic-Regular.woff"}}},
{family:"Aqua",H:"https://static.canva.com/static/images/fonts/Aqua.png",J:"https://static.canva.com/static/images/fonts/Aqua@2x.png",url:"https://static.canva.com/static/webfonts/Aqua.css",I:"Aqua-Grotesque",disabled:!0,displayName:"Aqua",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/aqua.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/aqua.ttf",l:"AquaGrotesque",u:"https://static.canva.com/static/webfonts/aqua.woff"}}},{family:"Arialle",displayName:"Arialle",H:"https://static.canva.com/static/images/fonts/Arialle.png",J:"https://static.canva.com/static/images/fonts/Arialle@2x.png",I:"Arimo",url:"https://static.canva.com/static/webfonts/Arialle.css",D:{o:!0,bold:!0,v:!0},
i:{bold:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",l:"Arimo-BoldItalic",u:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",l:"Arimo-Italic",u:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",l:"Arimo",u:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",
l:"Arimo-Bold",u:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Archivo Narrow",H:"https://static.canva.com/static/images/fonts/Archivo-Narrow.png",J:"https://static.canva.com/static/images/fonts/Archivo-Narrow@2x.png",url:"https://static.canva.com/static/webfonts/Archivo%2BNarrow.css",I:"ArchivoNarrow-Regular",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Regular.ttf",
l:"ArchivoNarrow-Regular",u:"https://static.canva.com/static/webfonts/ArchivoNarrow-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Italic.ttf",l:"ArchivoNarrow-Italic",u:"https://static.canva.com/static/webfonts/ArchivoNarrow-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-BoldItalic.ttf",l:"ArchivoNarrow-BoldItalic",u:"https://static.canva.com/static/webfonts/ArchivoNarrow-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/ArchivoNarrow-Bold.ttf",l:"ArchivoNarrow-Bold",u:"https://static.canva.com/static/webfonts/ArchivoNarrow-Bold.woff"}}},{family:"Archivo Black",H:"https://static.canva.com/static/images/fonts/Archivo-Black.png",
J:"https://static.canva.com/static/images/fonts/Archivo-Black@2x.png",url:"https://static.canva.com/static/webfonts/ArchivoBlack.css",I:"Archivo Black",displayName:"Archivo Black",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/ArchivoBlack.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/ArchivoBlack.ttf",l:"ArchivoBlack-Regular",u:"https://static.canva.com/static/webfonts/ArchivoBlack.woff"}}},{family:"Code",H:"https://static.canva.com/static/images/fonts/Code.png",J:"https://static.canva.com/static/images/fonts/Code@2x.png",url:"https://static.canva.com/static/webfonts/Code.css",I:"Code",displayName:"Code",D:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/CodeLight.ttf",
bold:"https://static.canva.com/static/truetypefonts/CodeBold.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/CodeLight.ttf",l:"Code-Light",u:"https://static.canva.com/static/webfonts/CodeLight.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/CodeBold.ttf",l:"Code-Bold",u:"https://static.canva.com/static/webfonts/CodeBold.woff"}}},{family:"Carter One",H:"https://static.canva.com/static/images/fonts/Carter-One.png",J:"https://static.canva.com/static/images/fonts/Carter-One@2x.png",url:"https://static.canva.com/static/webfonts/Carter%2BOne.css",I:"CarterOne",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/CarterOne.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/CarterOne.ttf",
l:"CarterOne",u:"https://static.canva.com/static/webfonts/CarterOne.woff"}}},{family:"Cooper Hewitt",H:"https://static.canva.com/static/images/fonts/Cooper-Hewitt.png",J:"https://static.canva.com/static/images/fonts/Cooper-Hewitt@2x.png",url:"https://static.canva.com/static/webfonts/Cooper-Hewitt.css",I:"CooperHewitt",displayName:"Cooper Hewitt",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/CooperHewitt-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/CooperHewitt-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/CooperHewitt-BookItalic.ttf",j:"https://static.canva.com/static/truetypefonts/CooperHewitt-Book.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-Book.ttf",
l:"CooperHewitt-Book",kb:"https://static.canva.com/static/webfonts/CooperHewitt-Book.otf"},o:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-BookItalic.ttf",l:"CooperHewitt-BookItalic",kb:"https://static.canva.com/static/webfonts/CooperHewitt-BookItalic.otf"},v:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-BoldItalic.ttf",l:"CooperHewitt-BoldItalic",kb:"https://static.canva.com/static/webfonts/CooperHewitt-BoldItalic.otf"},bold:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-Bold.ttf",l:"CooperHewitt-Bold",kb:"https://static.canva.com/static/webfonts/CooperHewitt-Bold.otf"}}},{family:"Cooper Hewitt Thin",H:"https://static.canva.com/static/images/fonts/Cooper-Hewitt-Thin.png",
J:"https://static.canva.com/static/images/fonts/Cooper-Hewitt-Thin@2x.png",url:"https://static.canva.com/static/webfonts/Cooper-Hewitt-Thin.css",I:"CooperHewitt-Thin",displayName:"Cooper Hewitt Thin",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/CooperHewitt-Light.ttf",v:"https://static.canva.com/static/truetypefonts/CooperHewitt-LightItalic.ttf",o:"https://static.canva.com/static/truetypefonts/CooperHewitt-ThinItalic.ttf",j:"https://static.canva.com/static/truetypefonts/CooperHewitt-Thin.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-Thin.ttf",l:"CooperHewitt-Thin"},o:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-ThinItalic.ttf",
l:"CooperHewitt-ThinItalic"},v:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-LightItalic.ttf",l:"CooperHewitt-LightItalic"},bold:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-Light.ttf",l:"CooperHewitt-Light"}}},{family:"Cooper Hewitt Heavy",H:"https://static.canva.com/static/images/fonts/Cooper-Hewitt-Heavy.png",J:"https://static.canva.com/static/images/fonts/Cooper-Hewitt-Heavy@2x.png",url:"https://static.canva.com/static/webfonts/Cooper-Hewitt-Heavy.css",I:"CooperHewitt-Heavy",displayName:"Cooper Hewitt Heavy",D:{o:!0,bold:!1,v:!1},i:{o:"https://static.canva.com/static/truetypefonts/CooperHewitt-HeavyItalic.ttf",
j:"https://static.canva.com/static/truetypefonts/CooperHewitt-Heavy.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-Heavy.ttf",l:"CooperHewitt-Heavy"},o:{i:"https://static.canva.com/static/truetypefonts/CooperHewitt-HeavyItalic.ttf",l:"CooperHewitt-HeavyItalic"}}},{family:"Fredoka One",H:"https://static.canva.com/static/images/fonts/Fredoka-One.png",J:"https://static.canva.com/static/images/fonts/Fredoka-One@2x.png",url:"https://static.canva.com/static/webfonts/Fredoka%2BOne.css",I:"FredokaOne-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/FredokaOne-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/FredokaOne-Regular.ttf",
l:"FredokaOne-Regular",u:"https://static.canva.com/static/webfonts/FredokaOne-Regular.woff"}}},{family:"Hammersmith One",H:"https://static.canva.com/static/images/fonts/Hammersmith-One.png",J:"https://static.canva.com/static/images/fonts/Hammersmith-One@2x.png",url:"https://static.canva.com/static/webfonts/Hammersmith%2BOne.css",I:"HammersmithOne",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/HammersmithOne-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/HammersmithOne-Regular.ttf",l:"HammersmithOne-Regular",u:"https://static.canva.com/static/webfonts/HammersmithOne.woff"}}},{family:"Helveticish",displayName:"Helveticish",
H:"https://static.canva.com/static/images/fonts/Helveticish.png",J:"https://static.canva.com/static/images/fonts/Helveticish@2x.png",I:"Arimo",url:"https://static.canva.com/static/webfonts/Helveticish.css",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",l:"Arimo-BoldItalic",u:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",
l:"Arimo-Italic",u:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",l:"Arimo",u:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",l:"Arimo-Bold",u:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},{family:"Helvetica",H:"https://static.canva.com/static/images/fonts/Helvetica.png",J:"https://static.canva.com/static/images/fonts/Helvetica@2x.png",I:"Helvetica",disabled:!0,D:{o:!0,bold:!0,v:!0}},{family:"Josefin Sans",H:"https://static.canva.com/static/images/fonts/Josefin-Sans.png",J:"https://static.canva.com/static/images/fonts/Josefin-Sans@2x.png",
url:"https://static.canva.com/static/webfonts/Josefin%2BSans.css",I:"JosefinSans",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/JosefinSans-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/JosefinSans-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/JosefinSans-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/JosefinSans-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/JosefinSans-Regular.ttf",l:"JosefinSans",u:"https://static.canva.com/static/webfonts/JosefinSans.woff"},v:{i:"https://static.canva.com/static/truetypefonts/JosefinSans-BoldItalic.ttf",l:"JosefinSans-BoldItalic",u:"https://static.canva.com/static/webfonts/JosefinSans-BoldItalic.woff"},
o:{i:"https://static.canva.com/static/truetypefonts/JosefinSans-Italic.ttf",l:"JosefinSans-Italic",u:"https://static.canva.com/static/webfonts/JosefinSans-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/JosefinSans-Bold.ttf",l:"JosefinSans-Bold",u:"https://static.canva.com/static/webfonts/JosefinSans-Bold.woff"}}},{family:"Josefin Slab",H:"https://static.canva.com/static/images/fonts/Josefin-Slab.png",J:"https://static.canva.com/static/images/fonts/Josefin-Slab@2x.png",url:"https://static.canva.com/static/webfonts/Josefin%2BSlab.css",I:"JosefinSlab",displayName:"Josefin Slab",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/JosefinSlab-Bold.ttf",
v:"https://static.canva.com/static/truetypefonts/JosefinSlab-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/JosefinSlab-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/JosefinSlab-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/JosefinSlab-Regular.ttf",l:"JosefinSlab",u:"https://static.canva.com/static/webfonts/JosefinSlab.woff"},o:{i:"https://static.canva.com/static/truetypefonts/JosefinSlab-Italic.ttf",l:"JosefinSlab-Italic",u:"https://static.canva.com/static/webfonts/JosefinSlab-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/JosefinSlab-BoldItalic.ttf",l:"JosefinSlab-BoldItalic",u:"https://static.canva.com/static/webfonts/JosefinSlab-BoldItalic.woff"},
bold:{i:"https://static.canva.com/static/truetypefonts/JosefinSlab-Bold.ttf",l:"JosefinSlab-Bold",u:"https://static.canva.com/static/webfonts/JosefinSlab-Bold.woff"}}},{family:"Lato",H:"https://static.canva.com/static/images/fonts/Lato.png",J:"https://static.canva.com/static/images/fonts/Lato@2x.png",url:"https://static.canva.com/static/webfonts/Lato.css",I:"Lato",displayName:"Lato",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Lato-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/Lato-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Lato-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Lato-BoldItalic.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/Lato-BoldItalic.ttf",
l:"Lato-BoldItalic",u:"https://static.canva.com/static/webfonts/Lato-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Lato-Bold.ttf",l:"Lato-Bold",u:"https://static.canva.com/static/webfonts/Lato-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Lato-Italic.ttf",l:"Lato-Italic",u:"https://static.canva.com/static/webfonts/Lato-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Lato-Regular.ttf",l:"Lato-Regular",u:"https://static.canva.com/static/webfonts/Lato-Regular.woff"}}},{family:"Lato Hairline",H:"https://static.canva.com/static/images/fonts/Lato-Hairline.png",J:"https://static.canva.com/static/images/fonts/Lato-Hairline@2x.png",url:"https://static.canva.com/static/webfonts/Lato-Hairline.css",
I:"Lato Hairline",displayName:"Lato Hairline",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Lato-Hairline.ttf",o:"https://static.canva.com/static/truetypefonts/Lato-HairlineItalic.ttf",bold:"https://static.canva.com/static/truetypefonts/Lato-Thin.ttf",v:"https://static.canva.com/static/truetypefonts/Lato-ThinItalic.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/Lato-ThinItalic.ttf",l:"Lato-ThinItalic",u:"https://static.canva.com/static/webfonts/Lato-ThinItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Lato-Thin.ttf",l:"Lato-Thin",u:"https://static.canva.com/static/webfonts/Lato-Thin.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Lato-HairlineItalic.ttf",
l:"Lato-HairlineItalic",u:"https://static.canva.com/static/webfonts/Lato-HairlineItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Lato-Hairline.ttf",l:"Lato-Hairline",u:"https://static.canva.com/static/webfonts/Lato-Hairline.woff"}}},{family:"Lato Heavy",H:"https://static.canva.com/static/images/fonts/Lato-Heavy.png",J:"https://static.canva.com/static/images/fonts/Lato-Heavy@2x.png",url:"https://static.canva.com/static/webfonts/Lato-Heavy.css",I:"Lato Heavy",displayName:"Lato Heavy",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Lato-Heavy.ttf",o:"https://static.canva.com/static/truetypefonts/Lato-HeavyItalic.ttf",bold:"https://static.canva.com/static/truetypefonts/Lato-Black.ttf",
v:"https://static.canva.com/static/truetypefonts/Lato-BlackItalic.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/Lato-BlackItalic.ttf",l:"Lato-BlackItalic",u:"https://static.canva.com/static/webfonts/Lato-BlackItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Lato-Black.ttf",l:"Lato-Black",u:"https://static.canva.com/static/webfonts/Lato-Black.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Lato-HeavyItalic.ttf",l:"Lato-HeavyItalic",u:"https://static.canva.com/static/webfonts/Lato-HeavyItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Lato-Heavy.ttf",l:"Lato-Heavy",u:"https://static.canva.com/static/webfonts/Lato-Heavy.woff"}}},{family:"League Gothic",
H:"https://static.canva.com/static/images/fonts/League-Gothic.png",J:"https://static.canva.com/static/images/fonts/League-Gothic@2x.png",url:"https://static.canva.com/static/webfonts/LeagueGothic.css",I:"League-Gothic",displayName:"League Gothic",D:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/LeagueGothic-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/LeagueGothic-Italic.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/LeagueGothic-Regular.ttf",l:"LeagueGothic-Regular",kb:"https://static.canva.com/static/webfonts/LeagueGothic-Regular.otf"},o:{i:"https://static.canva.com/static/truetypefonts/LeagueGothic-Italic.ttf",l:"LeagueGothic-Italic",
kb:"https://static.canva.com/static/webfonts/LeagueGothic-Italic.otf"}}},{family:"League Spartan",H:"https://static.canva.com/static/images/fonts/League-Spartan.png",J:"https://static.canva.com/static/images/fonts/League-Spartan@2x.png",url:"https://static.canva.com/static/webfonts/LeagueSpartan-Bold.css",I:"League-Spartan",displayName:"League Spartan",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/LeagueSpartan-Bold.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/LeagueSpartan-Bold.ttf",l:"LeagueSpartan-Bold",u:"https://static.canva.com/static/webfonts/LeagueSpartan-Bold.woff"}}},{family:"Limelight",H:"https://static.canva.com/static/images/fonts/Limelight.png",
J:"https://static.canva.com/static/images/fonts/Limelight@2x.png",url:"https://static.canva.com/static/webfonts/Limelight.css",I:"Limelight",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Limelight-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Limelight-Regular.ttf",l:"Limelight-Regular",u:"https://static.canva.com/static/webfonts/Limelight.woff"}}},{family:"Montserrat Hairline",H:"https://static.canva.com/static/images/fonts/Montserrat-Hairline.png",J:"https://static.canva.com/static/images/fonts/Montserrat-Hairline@2x.png",url:"https://static.canva.com/static/webfonts/Montserrat-Hairline.css",I:"Montserrat-Hairline",displayName:"Montserrat Hairline",
D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Montserrat-Hairline.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Montserrat-Hairline.ttf",l:"Montserrat-Hairline",u:"https://static.canva.com/static/webfonts/Montserrat-Hairline.woff"}}},{family:"Montserrat Light",H:"https://static.canva.com/static/images/fonts/Montserrat-Light.png",J:"https://static.canva.com/static/images/fonts/Montserrat-Light@2x.png",url:"https://static.canva.com/static/webfonts/Montserrat-Light.css",I:"Montserrat-Light",displayName:"Montserrat Light",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Montserrat-Light.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Montserrat-Light.ttf",
l:"Montserrat-Light",u:"https://static.canva.com/static/webfonts/Montserrat-Light.woff"}}},{family:"Montserrat",H:"https://static.canva.com/static/images/fonts/Montserrat.png",J:"https://static.canva.com/static/images/fonts/Montserrat@2x.png",url:"https://static.canva.com/static/webfonts/Montserrat.css",I:"Montserrat-Regular",displayName:"Montserrat",D:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Montserrat-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Montserrat-Bold.ttf"},G:{bold:{i:"https://static.canva.com/static/truetypefonts/Montserrat-Bold.ttf",l:"Montserrat-Bold",u:"https://static.canva.com/static/webfonts/Montserrat-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Montserrat-Regular.ttf",
l:"Montserrat-Regular",u:"https://static.canva.com/static/webfonts/Montserrat-Regular.woff"}}},{family:"Oswald",H:"https://static.canva.com/static/images/fonts/Oswald.png",J:"https://static.canva.com/static/images/fonts/Oswald@2x.png",url:"https://static.canva.com/static/webfonts/Oswald.css",I:"Oswald",displayName:"Oswald",D:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Oswald-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Oswald-Bold.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Oswald-Regular.ttf",l:"Oswald-Regular",u:"https://static.canva.com/static/webfonts/Oswald-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Oswald-Bold.ttf",
l:"Oswald-Bold",u:"https://static.canva.com/static/webfonts/Oswald-Bold.woff"}}},{family:"Pirou",H:"https://static.canva.com/static/images/fonts/Pirou.png",J:"https://static.canva.com/static/images/fonts/Pirou@2x.png",url:"https://static.canva.com/static/webfonts/Pirou.css",I:"Pirou",displayName:"Pirou",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Pirou-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Pirou-Regular.ttf",l:"Pirou-Regular",u:"https://static.canva.com/static/webfonts/Pirou-Regular.woff"}}},{family:"PT Sans",url:"https://static.canva.com/static/webfonts/PT%2BSans.css",H:"https://static.canva.com/static/images/fonts/PT-Sans.png",J:"https://static.canva.com/static/images/fonts/PT-Sans@2x.png",
I:"PTSans-Regular",D:{o:!0,bold:!0,v:!0},i:{o:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-BoldItalic.ttf",j:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Regular.ttf"},G:{bold:{i:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Bold.ttf",l:"PTSans-Bold",u:"https://static.canva.com/static/webfonts/PTSans-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Italic.ttf",l:"PTSans-Italic",u:"https://static.canva.com/static/webfonts/PTSans-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-Regular.ttf",
l:"PTSans-Regular",u:"https://static.canva.com/static/webfonts/PTSans-Regular.woff"},v:{i:"https://static.canva.com/static/truetypefonts/PT_Sans-Web-BoldItalic.ttf",l:"PTSans-BoldItalic",u:"https://static.canva.com/static/webfonts/PTSans-BoldItalic.woff"}}},{family:"Quicksand",url:"https://static.canva.com/static/webfonts/Quicksand.css",H:"https://static.canva.com/static/images/fonts/Quicksand.png",J:"https://static.canva.com/static/images/fonts/Quicksand@2x.png",I:"Quicksand",displayName:"Quicksand",D:{o:!0,bold:!0,v:!0},i:{o:"https://static.canva.com/static/truetypefonts/Quicksand-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Quicksand-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Quicksand-BoldItalic.ttf",
j:"https://static.canva.com/static/truetypefonts/Quicksand-Regular.ttf"},G:{bold:{i:"https://static.canva.com/static/truetypefonts/Quicksand-Bold.ttf",l:"Quicksand-Bold",kb:"https://static.canva.com/static/webfonts/Quicksand-Bold.otf"},v:{i:"https://static.canva.com/static/truetypefonts/Quicksand-BoldItalic.ttf",l:"Quicksand-BoldItalic",kb:"https://static.canva.com/static/webfonts/Quicksand-BoldItalic.otf"},o:{i:"https://static.canva.com/static/truetypefonts/Quicksand-Italic.ttf",l:"Quicksand-Italic",kb:"https://static.canva.com/static/webfonts/Quicksand-Italic.otf"},j:{i:"https://static.canva.com/static/truetypefonts/Quicksand-Regular.ttf",l:"Quicksand-Regular",kb:"https://static.canva.com/static/webfonts/Quicksand-Regular.otf"}}},
{family:"Noto Sans Devanagari",H:"https://static.canva.com/static/images/fonts/Noto-Sans-Devanagari.png",J:"https://static.canva.com/static/images/fonts/Noto-Sans-Devanagari@2x.png",I:"NotoSansDevanagari",Kx:!0,displayName:"Noto Sans Devanagari",url:"https://static.canva.com/static/webfonts/Noto-Sans-Devanagari.css",qw:"देवनागरी",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/NotoSansDevanagari-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/NotoSansDevanagari-Regular.ttf",l:"NotoSansDevanagari",u:"https://static.canva.com/static/webfonts/NotoSansDevanagari-Regular.woff"}}},{family:"Nunito Light",
H:"https://static.canva.com/static/images/fonts/Nunito-Light.png",J:"https://static.canva.com/static/images/fonts/Nunito-Light@2x.png",url:"https://static.canva.com/static/webfonts/Nunito-Light.css",I:"Nunito-Light",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Nunito-Light.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Nunito-Light.ttf",l:"Nunito-Light",u:"https://static.canva.com/static/webfonts/Nunito-Light.woff"}}},{family:"Nunito",H:"https://static.canva.com/static/images/fonts/Nunito.png",J:"https://static.canva.com/static/images/fonts/Nunito@2x.png",url:"https://static.canva.com/static/webfonts/Nunito.2.css",I:"Nunito-Regular",D:{o:!1,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/Nunito-Bold.ttf",
j:"https://static.canva.com/static/truetypefonts/Nunito-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Nunito-Regular.ttf",l:"Nunito-Regular",u:"https://static.canva.com/static/webfonts/Nunito-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Nunito-Bold.ttf",l:"Nunito-Bold",u:"https://static.canva.com/static/webfonts/Nunito-Bold.woff"}}},{family:"Norwester",H:"https://static.canva.com/static/images/fonts/Norwester.png",J:"https://static.canva.com/static/images/fonts/Norwester@2x.png",url:"https://static.canva.com/static/webfonts/Norwester.css",I:"Norwester",displayName:"Norwester",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Norwester.ttf"},
G:{j:{i:"https://static.canva.com/static/truetypefonts/Norwester.ttf",l:"Norwester-Regular",u:"https://static.canva.com/static/webfonts/Norwester.woff"}}},{family:"Raleway",H:"https://static.canva.com/static/images/fonts/Raleway.png",J:"https://static.canva.com/static/images/fonts/Raleway@2x.png",url:"https://static.canva.com/static/webfonts/Raleway.2.css",I:"Raleway-Regular",D:{o:!1,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/Raleway-Bold.ttf",j:"https://static.canva.com/static/truetypefonts/Raleway-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Raleway-Regular.ttf",l:"Raleway",u:"https://static.canva.com/static/webfonts/Raleway.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Raleway-Bold.ttf",
l:"Raleway-Bold",u:"https://static.canva.com/static/webfonts/Raleway-Bold.woff"}}},{family:"Raleway Thin",H:"https://static.canva.com/static/images/fonts/Raleway-Thin.png",J:"https://static.canva.com/static/images/fonts/Raleway-Thin@2x.png",url:"https://static.canva.com/static/webfonts/RalewayThin.css",I:"Raleway-Thin",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Raleway-Thin.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Raleway-Thin.ttf",l:"Raleway-Thin",u:"https://static.canva.com/static/webfonts/Raleway-Thin.woff"}}},{family:"Raleway Heavy",H:"https://static.canva.com/static/images/fonts/Raleway-Heavy.png",J:"https://static.canva.com/static/images/fonts/Raleway-Heavy@2x.png",
url:"https://static.canva.com/static/webfonts/RalewayHeavy.css",I:"Raleway-Heavy",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Raleway-Heavy.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Raleway-Heavy.ttf",l:"Raleway-Heavy",u:"https://static.canva.com/static/webfonts/Raleway-Heavy.woff"}}},{family:"Roboto Condensed",H:"https://static.canva.com/static/images/fonts/Roboto-Condensed.png",J:"https://static.canva.com/static/images/fonts/Roboto-Condensed@2x.png",url:"https://static.canva.com/static/webfonts/Roboto%2BCondensed.css",I:"RobotoCondensed-Regular",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Bold.ttf",
v:"https://static.canva.com/static/truetypefonts/RobotoCondensed-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Regular.ttf"},G:{o:{i:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Italic.ttf",l:"RobotoCondensed-Italic",u:"https://static.canva.com/static/webfonts/RobotoCondensed-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Bold.ttf",l:"RobotoCondensed-Bold",u:"https://static.canva.com/static/webfonts/RobotoCondensed-Bold.woff"},v:{i:"https://static.canva.com/static/truetypefonts/RobotoCondensed-BoldItalic.ttf",l:"RobotoCondensed-BoldItalic",
u:"https://static.canva.com/static/webfonts/RobotoCondensed-BoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/RobotoCondensed-Regular.ttf",l:"RobotoCondensed-Regular",u:"https://static.canva.com/static/webfonts/RobotoCondensed-Regular.woff"}}},{family:"Rosario",H:"https://static.canva.com/static/images/fonts/Rosario.png",J:"https://static.canva.com/static/images/fonts/Rosario@2x.png",url:"https://static.canva.com/static/webfonts/Rosario.css",I:"Rosario-Regular",D:{o:!0,bold:!0,v:!0},i:{o:"https://static.canva.com/static/truetypefonts/Rosario-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Rosario-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Rosario-BoldItalic.ttf",
j:"https://static.canva.com/static/truetypefonts/Rosario-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Rosario-Regular.ttf",l:"Rosario-Regular",u:"https://static.canva.com/static/webfonts/Rosario-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Rosario-Bold.ttf",l:"Rosario-Bold",u:"https://static.canva.com/static/webfonts/Rosario-Bold.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Rosario-BoldItalic.ttf",l:"Rosario-BoldItalic",u:"https://static.canva.com/static/webfonts/Rosario-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Rosario-Italic.ttf",l:"Rosario-Italic",u:"https://static.canva.com/static/webfonts/Rosario-Italic.woff"}}},{family:"Rubik One",
H:"https://static.canva.com/static/images/fonts/Rubik-One.png",J:"https://static.canva.com/static/images/fonts/Rubik-One@2x.png",url:"https://static.canva.com/static/webfonts/Rubik-One.css",I:"Rubik-One",displayName:"Rubik One",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/RubikOne-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/RubikOne-Regular.ttf",l:"RubikOne-Regular",u:"https://static.canva.com/static/webfonts/Rubik-One.woff"}}},{family:"Rubik Mono",H:"https://static.canva.com/static/images/fonts/Rubik-Mono-One.png",J:"https://static.canva.com/static/images/fonts/Rubik-Mono-One@2x.png",url:"https://static.canva.com/static/webfonts/Rubik-Mono-One.2.css",Aj:!0,
I:"Rubik-Mono-One",displayName:"Rubik Mono",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/RubikMonoOne-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/RubikMonoOne-Regular.ttf",l:"RubikMonoOne-Regular",u:"https://static.canva.com/static/webfonts/Rubik-Mono-One.woff"}}},{family:"Amaranth",H:"https://static.canva.com/static/images/fonts/Amaranth.png",J:"https://static.canva.com/static/images/fonts/Amaranth@2x.png",url:"https://static.canva.com/static/webfonts/Amaranth.2.css",I:"Amaranth",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Amaranth-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Amaranth-BoldItalic.ttf",
o:"https://static.canva.com/static/truetypefonts/Amaranth-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Amaranth-Regular.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/Amaranth-BoldItalic.ttf",l:"Amaranth-BoldItalic",u:"https://static.canva.com/static/webfonts/Amaranth-BoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Amaranth-Regular.ttf",l:"Amaranth",u:"https://static.canva.com/static/webfonts/Amaranth.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Amaranth-Bold.ttf",l:"Amaranth-Bold",u:"https://static.canva.com/static/webfonts/Amaranth-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Amaranth-Italic.ttf",l:"Amaranth-Italic",u:"https://static.canva.com/static/webfonts/Amaranth-Italic.woff"}}},
{family:"Anton",H:"https://static.canva.com/static/images/fonts/Anton.png",J:"https://static.canva.com/static/images/fonts/Anton@2x.png",url:"https://static.canva.com/static/webfonts/Anton.css",I:"Anton",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Anton.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Anton.ttf",l:"Anton",u:"https://static.canva.com/static/webfonts/Anton.woff"}}},{family:"Arimo",H:"https://static.canva.com/static/images/fonts/Arimo.png",J:"https://static.canva.com/static/images/fonts/Arimo@2x.png",url:"https://static.canva.com/static/webfonts/Arimo.2.css",I:"Arimo",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",
o:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/Arimo-BoldItalic.ttf",l:"Arimo-BoldItalic",u:"https://static.canva.com/static/webfonts/Arimo-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Arimo-Italic.ttf",l:"Arimo-Italic",u:"https://static.canva.com/static/webfonts/Arimo-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Arimo-Regular.ttf",l:"Arimo",u:"https://static.canva.com/static/webfonts/Arimo.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Arimo-Bold.ttf",l:"Arimo-Bold",u:"https://static.canva.com/static/webfonts/Arimo-Bold.woff"}}},
{family:"Crushed",H:"https://static.canva.com/static/images/fonts/Crushed.png",J:"https://static.canva.com/static/images/fonts/Crushed@2x.png",url:"https://static.canva.com/static/webfonts/Crushed.css",I:"Crushed-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Crushed.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Crushed.ttf",l:"Crushed-Regular",u:"https://static.canva.com/static/webfonts/Crushed-Regular.woff"}}},{family:"Economica",H:"https://static.canva.com/static/images/fonts/Economica.png",J:"https://static.canva.com/static/images/fonts/Economica@2x.png",url:"https://static.canva.com/static/webfonts/Economica.2.css",I:"Economica-Regular",D:{o:!0,bold:!0,
v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Economica-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Economica-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Economica-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Economica-Regular.ttf"},G:{o:{i:"https://static.canva.com/static/truetypefonts/Economica-Italic.ttf",l:"Economica-Italic",u:"https://static.canva.com/static/webfonts/Economica-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Economica-BoldItalic.ttf",l:"Economica-BoldItalic",u:"https://static.canva.com/static/webfonts/Economica-BoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Economica-Regular.ttf",l:"Economica-Regular",
u:"https://static.canva.com/static/webfonts/Economica-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Economica-Bold.ttf",l:"Economica-Bold",u:"https://static.canva.com/static/webfonts/Economica-Bold.woff"}}},{family:"Exo",H:"https://static.canva.com/static/images/fonts/Exo.png",J:"https://static.canva.com/static/images/fonts/Exo@2x.png",url:"https://static.canva.com/static/webfonts/Exo2.css",I:"Exo2",displayName:"Exo",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Exo-2-700.ttf",v:"https://static.canva.com/static/truetypefonts/Exo-2-700-italic.ttf",o:"https://static.canva.com/static/truetypefonts/Exo-2-italic.ttf",j:"https://static.canva.com/static/truetypefonts/Exo-2-regular.ttf"},
G:{v:{i:"https://static.canva.com/static/truetypefonts/Exo-2-700-italic.ttf",l:"Exo2-BoldItalic",u:"https://static.canva.com/static/webfonts/Exo2-BoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Exo-2-regular.ttf",l:"Exo2-Regular",u:"https://static.canva.com/static/webfonts/Exo2-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Exo-2-italic.ttf",l:"Exo2-Italic",u:"https://static.canva.com/static/webfonts/Exo2-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Exo-2-700.ttf",l:"Exo2-Bold",u:"https://static.canva.com/static/webfonts/Exo2-Bold.woff"}}},{family:"Exo Thin",H:"https://static.canva.com/static/images/fonts/Exo-Thin.png",J:"https://static.canva.com/static/images/fonts/Exo-Thin@2x.png",
url:"https://static.canva.com/static/webfonts/Exo2-Thin.css",I:"Exo2-Thin",displayName:"Exo Thin",D:{o:!0,bold:!1,v:!1},i:{o:"https://static.canva.com/static/truetypefonts/Exo-2-100-italic.ttf",j:"https://static.canva.com/static/truetypefonts/Exo-2-100.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Exo-2-100.ttf",l:"Exo2-Thin",u:"https://static.canva.com/static/webfonts/Exo2-Thin.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Exo-2-100-italic.ttf",l:"Exo2-ThinItalic",u:"https://static.canva.com/static/webfonts/Exo2-ThinItalic.woff"}}},{family:"Gruppo",H:"https://static.canva.com/static/images/fonts/Gruppo.png",J:"https://static.canva.com/static/images/fonts/Gruppo@2x.png",url:"https://static.canva.com/static/webfonts/Gruppo.css",
I:"Gruppo",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Gruppo-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Gruppo-Regular.ttf",l:"Gruppo",u:"https://static.canva.com/static/webfonts/Gruppo.woff"}}},{family:"Gidole",H:"https://static.canva.com/static/images/fonts/Gidole.png",J:"https://static.canva.com/static/images/fonts/Gidole@2x.png",url:"https://static.canva.com/static/webfonts/Gidole-Regular.css",I:"Gidole",displayName:"Gidole",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Gidole-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Gidole-Regular.ttf",l:"Gidole-Regular",u:"https://static.canva.com/static/webfonts/Gidole-Regular.woff"}}},
{family:"Julius Sans One",H:"https://static.canva.com/static/images/fonts/Julius-Sans-One.png",J:"https://static.canva.com/static/images/fonts/Julius-Sans-One@2x.png",url:"https://static.canva.com/static/webfonts/Julius%2BSans%2BOne.css",I:"JuliusSansOne-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/JuliusSansOne-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/JuliusSansOne-Regular.ttf",l:"JuliusSansOne-Regular",u:"https://static.canva.com/static/webfonts/JuliusSansOne-Regular.woff"}}},{family:"Kite One",H:"https://static.canva.com/static/images/fonts/Kite-One.png",J:"https://static.canva.com/static/images/fonts/Kite-One@2x.png",url:"https://static.canva.com/static/webfonts/Kite%2BOne.css",
I:"KiteOne-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/KiteOne-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/KiteOne-Regular.ttf",l:"KiteOne-Regular",u:"https://static.canva.com/static/webfonts/KiteOne-Regular.woff"}}},{family:"Kollektif",H:"https://static.canva.com/static/images/fonts/Kollektif.png",J:"https://static.canva.com/static/images/fonts/Kollektif@2x.png",url:"https://static.canva.com/static/webfonts/Kollektif.css",I:"Kollektif",displayName:"Kollektif",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Kollektif.ttf",bold:"https://static.canva.com/static/truetypefonts/Kollektif-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/Kollektif-Italic.ttf",
v:"https://static.canva.com/static/truetypefonts/Kollektif-BoldItalic.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Kollektif.ttf",l:"Kollektif",u:"https://static.canva.com/static/webfonts/Kollektif.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Kollektif-Bold.ttf",l:"Kollektif-Bold",u:"https://static.canva.com/static/webfonts/Kollektif-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Kollektif-Italic.ttf",l:"Kollektif-Italic",u:"https://static.canva.com/static/webfonts/Kollektif-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Kollektif-BoldItalic.ttf",l:"Kollektif-BoldItalic",u:"https://static.canva.com/static/webfonts/Kollektif-BoldItalic.woff"}}},
{family:"Lilita One",H:"https://static.canva.com/static/images/fonts/Lilita-One.png",J:"https://static.canva.com/static/images/fonts/Lilita-One@2x.png",url:"https://static.canva.com/static/webfonts/Lilita%2BOne.css",I:"LilitaOne",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/LilitaOne-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/LilitaOne-Regular.ttf",l:"LilitaOne",u:"https://static.canva.com/static/webfonts/LilitaOne.woff"}}},{family:"Open Sans Light",H:"https://static.canva.com/static/images/fonts/Open-Sans-Light.png",J:"https://static.canva.com/static/images/fonts/Open-Sans-Light@2x.png",url:"https://static.canva.com/static/webfonts/OpenSans-Light.css",I:"OpenSansLight",
displayName:"Open Sans Light",D:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/OpenSans-Light.ttf",o:"https://static.canva.com/static/truetypefonts/OpenSans-LightItalic.ttf"},G:{o:{i:"https://static.canva.com/static/truetypefonts/OpenSans-LightItalic.ttf",l:"OpenSans-LightItalic",u:"https://static.canva.com/static/webfonts/OpenSans-LightItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/OpenSans-Light.ttf",l:"OpenSans-Light",u:"https://static.canva.com/static/webfonts/OpenSans-Light.woff"}}},{family:"Open Sans",H:"https://static.canva.com/static/images/fonts/Open-Sans.png",J:"https://static.canva.com/static/images/fonts/Open-Sans@2x.png",url:"https://static.canva.com/static/webfonts/Open%2BSans.2.css",
I:"OpenSans",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/OpenSans-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/OpenSans-BoldItalic.ttf",j:"https://static.canva.com/static/truetypefonts/OpenSans-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/OpenSans-Italic.ttf"},G:{o:{i:"https://static.canva.com/static/truetypefonts/OpenSans-Italic.ttf",l:"OpenSans-Italic",u:"https://static.canva.com/static/webfonts/OpenSans-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/OpenSans-BoldItalic.ttf",l:"OpenSans-BoldItalic",u:"https://static.canva.com/static/webfonts/OpenSans-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/OpenSans-Bold.ttf",
l:"OpenSans-Bold",u:"https://static.canva.com/static/webfonts/OpenSans-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/OpenSans-Regular.ttf",l:"OpenSans",u:"https://static.canva.com/static/webfonts/OpenSans.woff"}}},{family:"Open Sans Extra Bold",H:"https://static.canva.com/static/images/fonts/Open-Sans-Extra-Bold.png",J:"https://static.canva.com/static/images/fonts/Open-Sans-Extra-Bold@2x.png",url:"https://static.canva.com/static/webfonts/OpenSans-ExtraBold.css",I:"OpenSansExtraBold",displayName:"Open Sans Extra Bold",D:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBold.ttf",o:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBoldItalic.ttf"},
G:{o:{i:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBoldItalic.ttf",l:"OpenSans-ExtraboldItalic",u:"https://static.canva.com/static/webfonts/OpenSans-ExtraBoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/OpenSans-ExtraBold.ttf",l:"OpenSans-Extrabold",u:"https://static.canva.com/static/webfonts/OpenSans-ExtraBold.woff"}}},{family:"Racing Sans One",H:"https://static.canva.com/static/images/fonts/Racing-Sans-One.png",J:"https://static.canva.com/static/images/fonts/Racing-Sans-One@2x.png",url:"https://static.canva.com/static/webfonts/Racing%2BSans%2BOne.css",I:"RacingSansOne-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/RacingSansOne-Regular.ttf"},
G:{j:{i:"https://static.canva.com/static/truetypefonts/RacingSansOne-Regular.ttf",l:"RacingSansOne-Regular",u:"https://static.canva.com/static/webfonts/RacingSansOne-Regular.woff"}}},{family:"Roboto",H:"https://static.canva.com/static/images/fonts/Roboto.png",J:"https://static.canva.com/static/images/fonts/Roboto@2x.png",url:"https://static.canva.com/static/webfonts/Roboto.2.css",I:"Roboto-Regular",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Roboto-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Roboto-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Roboto-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Roboto-Italic.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/Roboto-BoldItalic.ttf",
l:"Roboto-BoldItalic",u:"https://static.canva.com/static/webfonts/Roboto-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Roboto-Bold.ttf",l:"Roboto-Bold",u:"https://static.canva.com/static/webfonts/Roboto-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Roboto-Italic.ttf",l:"Roboto-Italic",u:"https://static.canva.com/static/webfonts/Roboto-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Roboto-Regular.ttf",l:"Roboto-Regular",u:"https://static.canva.com/static/webfonts/Roboto-Regular.woff"}}},{family:"Ubuntu",H:"https://static.canva.com/static/images/fonts/Ubuntu.png",J:"https://static.canva.com/static/images/fonts/Ubuntu@2x.png",url:"https://static.canva.com/static/webfonts/Ubuntu.2.css",
I:"Ubuntu",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Ubuntu-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Ubuntu-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/Ubuntu-Italic.ttf",v:"https://static.canva.com/static/truetypefonts/Ubuntu-BoldItalic.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Ubuntu-Regular.ttf",l:"Ubuntu",u:"https://static.canva.com/static/webfonts/Ubuntu.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Ubuntu-Italic.ttf",l:"Ubuntu-Italic",u:"https://static.canva.com/static/webfonts/Ubuntu-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Ubuntu-Bold.ttf",l:"Ubuntu-Bold",u:"https://static.canva.com/static/webfonts/Ubuntu-Bold.woff"},
v:{i:"https://static.canva.com/static/truetypefonts/Ubuntu-BoldItalic.ttf",l:"Ubuntu-BoldItalic",u:"https://static.canva.com/static/webfonts/Ubuntu-BoldItalic.woff"}}},{family:"Unity Display",H:"https://static.canva.com/static/images/fonts/Unity-Display.png",J:"https://static.canva.com/static/images/fonts/Unity-Display@2x.png",url:"https://static.canva.com/static/webfonts/Unity-Display.css",I:"Unity Display",displayName:"Unity Display",disabled:!0,D:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/UnityDisplay-Roman.ttf",bold:"https://static.canva.com/static/truetypefonts/UnityDisplay-Bold.ttf"},G:{bold:{i:"https://static.canva.com/static/truetypefonts/UnityDisplay-Bold.ttf",
l:"UnityDisplay-Bold"},j:{i:"https://static.canva.com/static/truetypefonts/UnityDisplay-Roman.ttf",l:"UnityDisplay-Roman"}}},{family:"Unity Text",H:"https://static.canva.com/static/images/fonts/Unity-Text.png",J:"https://static.canva.com/static/images/fonts/Unity-Text@2x.png",url:"https://static.canva.com/static/webfonts/Unity-Text.css",I:"Unity Text",displayName:"Unity Text",disabled:!0,D:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/UnityText-Roman.ttf",bold:"https://static.canva.com/static/truetypefonts/UnityText-Bold.ttf"},G:{bold:{i:"https://static.canva.com/static/truetypefonts/UnityText-Bold.ttf",l:"UnityText-Bold"},j:{i:"https://static.canva.com/static/truetypefonts/UnityText-Roman.ttf",
l:"UnityText-Roman"}}},{family:"Six Caps",H:"https://static.canva.com/static/images/fonts/Six-Caps.png",J:"https://static.canva.com/static/images/fonts/Six-Caps@2x.png",url:"https://static.canva.com/static/webfonts/Six%2BCaps.css",I:"SixCaps",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/SixCaps.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/SixCaps.ttf",l:"SixCaps",u:"https://static.canva.com/static/webfonts/SixCaps.woff"}}},{family:"Sifonn",H:"https://static.canva.com/static/images/fonts/Sifonn.png",J:"https://static.canva.com/static/images/fonts/Sifonn@2x.png",url:"https://static.canva.com/static/webfonts/Sifonn.css",I:"Sifonn",displayName:"Sifonn",D:{o:!1,bold:!1,v:!1},
i:{j:"https://static.canva.com/static/truetypefonts/Sifonn-Basic.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Sifonn-Basic.ttf",l:"Sifonn-Basic",u:"https://static.canva.com/static/webfonts/Sifonn-Basic.woff"}}},{family:"Sifonn Outline",H:"https://static.canva.com/static/images/fonts/Sifonn-Outline.png",J:"https://static.canva.com/static/images/fonts/Sifonn-Outline@2x.png",url:"https://static.canva.com/static/webfonts/SifonnOutline.css",I:"Sifonn Outline",displayName:"Sifonn Outline",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Sifonn-Basic-Outline.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Sifonn-Basic-Outline.ttf",l:"Sifonn-Basic-Outline",
u:"https://static.canva.com/static/webfonts/Sifonn-Basic-Outline.woff"}}},{family:"Signika",H:"https://static.canva.com/static/images/fonts/Signika.png",J:"https://static.canva.com/static/images/fonts/Signika@2x.png",url:"https://static.canva.com/static/webfonts/Signika.css",I:"Signika",displayName:"Signika",D:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Signika-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Signika-Bold.ttf"},G:{bold:{i:"https://static.canva.com/static/truetypefonts/Signika-Bold.ttf",l:"Signika-Bold",u:"https://static.canva.com/static/webfonts/Signika-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Signika-Regular.ttf",l:"Signika-Regular",
u:"https://static.canva.com/static/webfonts/Signika-Regular.woff"}}},{family:"Source Sans Pro",H:"https://static.canva.com/static/images/fonts/Source-Sans-Pro.png",J:"https://static.canva.com/static/images/fonts/Source-Sans-Pro@2x.png",url:"https://static.canva.com/static/webfonts/SourceSansPro.css",I:"Source-Sans-Pro",displayName:"Source Sans Pro",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/SourceSansPro-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/SourceSansPro-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/SourceSansPro-It.ttf",v:"https://static.canva.com/static/truetypefonts/SourceSansPro-BoldIt.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/SourceSansPro-BoldIt.ttf",
l:"SourceSansPro-BoldIt",u:"https://static.canva.com/static/webfonts/SourceSansPro-BoldIt.otf.woff"},o:{i:"https://static.canva.com/static/truetypefonts/SourceSansPro-It.ttf",l:"SourceSansPro-It",u:"https://static.canva.com/static/webfonts/SourceSansPro-It.otf.woff"},j:{i:"https://static.canva.com/static/truetypefonts/SourceSansPro-Regular.ttf",l:"SourceSansPro-Regular",u:"https://static.canva.com/static/webfonts/SourceSansPro-Regular.otf.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/SourceSansPro-Bold.ttf",l:"SourceSansPro-Bold",u:"https://static.canva.com/static/webfonts/SourceSansPro-Bold.otf.woff"}}},{family:"Text Me One",H:"https://static.canva.com/static/images/fonts/Text-Me-One.png",
J:"https://static.canva.com/static/images/fonts/Text-Me-One@2x.png",url:"https://static.canva.com/static/webfonts/Text%2BMe%2BOne.css",I:"TextMeOne-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/TextMeOne-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/TextMeOne-Regular.ttf",l:"TextMeOne-Regular",u:"https://static.canva.com/static/webfonts/TextMeOne-Regular.woff"}}},{family:"Tenor Sans",H:"https://static.canva.com/static/images/fonts/Tenor-Sans.png",J:"https://static.canva.com/static/images/fonts/Tenor-Sans@2x.png",url:"https://static.canva.com/static/webfonts/TenorSans.css",displayName:"Tenor Sans",I:"TenorSans",D:{o:!1,bold:!1,v:!1},
i:{j:"https://static.canva.com/static/truetypefonts/TenorSans.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/TenorSans.ttf",l:"TenorSans",u:"https://static.canva.com/static/webfonts/TenorSans.woff"}}}]},{sh:"Serif",fe:"serif",fonts:[{family:"Abril Fatface",H:"https://static.canva.com/static/images/fonts/Abril-Fatface.png",J:"https://static.canva.com/static/images/fonts/Abril-Fatface@2x.png",url:"https://static.canva.com/static/webfonts/Abril%2BFatface.css",I:"AbrilFatface-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/AbrilFatface-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/AbrilFatface-Regular.ttf",l:"AbrilFatface-Regular",
u:"https://static.canva.com/static/webfonts/AbrilFatface-Regular.woff"}}},{name:"Alegreya Small Caps",family:"Alegreya SC",H:"https://static.canva.com/static/images/fonts/Alegreya-Small-Caps.png",J:"https://static.canva.com/static/images/fonts/Alegreya-Small-Caps@2x.png",url:"https://static.canva.com/static/webfonts/Alegreya%2BSC.css",I:"AlegreyaSC-Regular",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/AlegreyaSC-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Italic.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Regular.ttf",
l:"AlegreyaSC-Regular",u:"https://static.canva.com/static/webfonts/AlegreyaSC-Regular.woff"},v:{i:"https://static.canva.com/static/truetypefonts/AlegreyaSC-BoldItalic.ttf",l:"AlegreyaSC-BoldItalic",u:"https://static.canva.com/static/webfonts/AlegreyaSC-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Bold.ttf",l:"AlegreyaSC-Bold",u:"https://static.canva.com/static/webfonts/AlegreyaSC-Bold.woff"},o:{i:"https://static.canva.com/static/truetypefonts/AlegreyaSC-Italic.ttf",l:"AlegreyaSC-Italic",u:"https://static.canva.com/static/webfonts/AlegreyaSC-Italic.woff"}}},{family:"Alfa Slab One",H:"https://static.canva.com/static/images/fonts/Alfa-Slab-One.png",
J:"https://static.canva.com/static/images/fonts/Alfa-Slab-One@2x.png",url:"https://static.canva.com/static/webfonts/Alfa%2BSlab%2BOne.css",I:"AlfaSlabOne-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/AlfaSlabOne-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/AlfaSlabOne-Regular.ttf",l:"AlfaSlabOne-Regular",u:"https://static.canva.com/static/webfonts/AlfaSlabOne-Regular.woff"}}},{family:"Alike",H:"https://static.canva.com/static/images/fonts/Alike.png",J:"https://static.canva.com/static/images/fonts/Alike@2x.png",url:"https://static.canva.com/static/webfonts/Alike.css",I:"Alike-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Alike-Regular.ttf"},
G:{j:{i:"https://static.canva.com/static/truetypefonts/Alike-Regular.ttf",l:"Alike-Regular",u:"https://static.canva.com/static/webfonts/Alike-Regular.woff"}}},{family:"Anonymous Pro",H:"https://static.canva.com/static/images/fonts/Anonymous-Pro.png",J:"https://static.canva.com/static/images/fonts/Anonymous-Pro@2x.png",url:"https://static.canva.com/static/webfonts/Anonymous%2BPro.css",I:"AnonymousPro",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/AnonymousPro-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/AnonymousPro-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/AnonymousPro-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/AnonymousPro-Regular.ttf"},
G:{bold:{i:"https://static.canva.com/static/truetypefonts/AnonymousPro-Bold.ttf",l:"AnonymousPro-Bold",u:"https://static.canva.com/static/webfonts/AnonymousPro-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/AnonymousPro-Regular.ttf",l:"AnonymousPro",u:"https://static.canva.com/static/webfonts/AnonymousPro.woff"},o:{i:"https://static.canva.com/static/truetypefonts/AnonymousPro-Italic.ttf",l:"AnonymousPro-Italic",u:"https://static.canva.com/static/webfonts/AnonymousPro-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/AnonymousPro-BoldItalic.ttf",l:"AnonymousPro-BoldItalic",u:"https://static.canva.com/static/webfonts/AnonymousPro-BoldItalic.woff"}}},{family:"Arvo",
H:"https://static.canva.com/static/images/fonts/Arvo.png",J:"https://static.canva.com/static/images/fonts/Arvo@2x.png",url:"https://static.canva.com/static/webfonts/Arvo.css",I:"Arvo",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Arvo-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Arvo-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Arvo-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Arvo-Regular.ttf"},G:{bold:{i:"https://static.canva.com/static/truetypefonts/Arvo-Bold.ttf",l:"Arvo-Bold",u:"https://static.canva.com/static/webfonts/Arvo-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Arvo-Regular.ttf",l:"Arvo",u:"https://static.canva.com/static/webfonts/Arvo.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Arvo-Italic.ttf",
l:"Arvo-Italic",u:"https://static.canva.com/static/webfonts/Arvo-Italic.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Arvo-BoldItalic.ttf",l:"Arvo-BoldItalic",u:"https://static.canva.com/static/webfonts/Arvo-BoldItalic.woff"}}},{family:"Bebas Neue",H:"https://static.canva.com/static/images/fonts/Bebas-Neue.png",J:"https://static.canva.com/static/images/fonts/Bebas-Neue@2x.png",url:"https://static.canva.com/static/webfonts/Bebas-Neue.css",I:"BebasNeue",displayName:"Bebas Neue",D:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/BebasNeueRegular.ttf",bold:"https://static.canva.com/static/truetypefonts/BebasNeueBold.ttf"},G:{bold:{i:"https://static.canva.com/static/truetypefonts/BebasNeueBold.ttf",
l:"BebasNeueBold",u:"https://static.canva.com/static/webfonts/BebasNeueBold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/BebasNeueRegular.ttf",l:"BebasNeueRegular",u:"https://static.canva.com/static/webfonts/BebasNeueRegular.woff"}}},{family:"Bodoni FLF",H:"https://static.canva.com/static/images/fonts/Bodoni-FLF.png",J:"https://static.canva.com/static/images/fonts/Bodoni-FLF@2x.png",url:"https://static.canva.com/static/webfonts/Bodoni-FLF.css",I:"Bodoni-FLF",displayName:"Bodoni FLF",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/BodoniFLF-Roman.ttf",bold:"https://static.canva.com/static/truetypefonts/BodoniFLF-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/BodoniFLF-Italic.ttf",
v:"https://static.canva.com/static/truetypefonts/BodoniFLF-BoldItalic.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/BodoniFLF-BoldItalic.ttf",l:"BodoniFLF-BoldItalic",u:"https://static.canva.com/static/webfonts/BodoniFLF-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/BodoniFLF-Italic.ttf",l:"BodoniFLF-Italic",u:"https://static.canva.com/static/webfonts/BodoniFLF-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/BodoniFLF-Bold.ttf",l:"BodoniFLF-Bold",u:"https://static.canva.com/static/webfonts/BodoniFLF-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/BodoniFLF-Roman.ttf",l:"BodoniFLF-Roman",u:"https://static.canva.com/static/webfonts/BodoniFLF-Roman.woff"}}},
{family:"Cinzel",H:"https://static.canva.com/static/images/fonts/Cinzel.png",J:"https://static.canva.com/static/images/fonts/Cinzel@2x.png",url:"https://static.canva.com/static/webfonts/Cinzel.css",I:"Cinzel-Regular",D:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Cinzel-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Cinzel-Bold.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Cinzel-Regular.ttf",l:"Cinzel-Regular",u:"https://static.canva.com/static/webfonts/Cinzel-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Cinzel-Bold.ttf",l:"Cinzel-Bold",u:"https://static.canva.com/static/webfonts/Cinzel-Bold.woff"}}},{family:"Droid Serif",H:"https://static.canva.com/static/images/fonts/Droid-Serif.png",
J:"https://static.canva.com/static/images/fonts/Droid-Serif@2x.png",url:"https://static.canva.com/static/webfonts/Droid%2BSerif.css",I:"DroidSerif",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/DroidSerif-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/DroidSerif-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/DroidSerif-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/DroidSerif.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/DroidSerif.ttf",l:"DroidSerif",u:"https://static.canva.com/static/webfonts/DroidSerif.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/DroidSerif-Bold.ttf",l:"DroidSerif-Bold",u:"https://static.canva.com/static/webfonts/DroidSerif-Bold.woff"},
v:{i:"https://static.canva.com/static/truetypefonts/DroidSerif-BoldItalic.ttf",l:"DroidSerif-BoldItalic",u:"https://static.canva.com/static/webfonts/DroidSerif-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/DroidSerif-Italic.ttf",l:"DroidSerif-Italic",u:"https://static.canva.com/static/webfonts/DroidSerif-Italic.woff"}}},{family:"Forum",H:"https://static.canva.com/static/images/fonts/Forum.png",J:"https://static.canva.com/static/images/fonts/Forum@2x.png",url:"https://static.canva.com/static/webfonts/Forum.css",I:"Forum",displayName:"Forum",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Forum-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Forum-Regular.ttf",
l:"Forum",u:"https://static.canva.com/static/webfonts/Forum-Regular.woff"}}},{family:"Granaina",H:"https://static.canva.com/static/images/fonts/Granaina.png",J:"https://static.canva.com/static/images/fonts/Granaina@2x.png",url:"https://static.canva.com/static/webfonts/Granaina.css",I:"Granaina",displayName:"Granaina",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Granaina-Limpia.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Granaina-Limpia.ttf",l:"Granaina-limpia",u:"https://static.canva.com/static/webfonts/Granaina-Limpia.woff"}}},{family:"Glegoo",H:"https://static.canva.com/static/images/fonts/Glegoo.png",J:"https://static.canva.com/static/images/fonts/Glegoo@2x.png",
url:"https://static.canva.com/static/webfonts/Glegoo.css",I:"Glegoo-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Glegoo-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Glegoo-Regular.ttf",l:"Glegoo-Regular",u:"https://static.canva.com/static/webfonts/Glegoo-Regular.woff"}}},{name:"IM Fell English Small Caps",family:"IM Fell English SC",H:"https://static.canva.com/static/images/fonts/IM-Fell-English-Small-Caps.png",J:"https://static.canva.com/static/images/fonts/IM-Fell-English-Small-Caps@2x.png",url:"https://static.canva.com/static/webfonts/IM%2BFell%2BEnglish%2BSC.css",I:"IM_FELL_English_SC",D:{o:!1,bold:!1,
v:!1},i:{j:"https://static.canva.com/static/truetypefonts/IMFeENsc28P.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/IMFeENsc28P.ttf",l:"IM_FELL_English_SC",u:"https://static.canva.com/static/webfonts/IM_FELL_English_SC.woff"}}},{name:"IM Fell",family:"IM Fell Double Pica",H:"https://static.canva.com/static/images/fonts/IM-Fell.png",J:"https://static.canva.com/static/images/fonts/IM-Fell@2x.png",url:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica.css",I:"IM-Fell-Double-Pica",displayName:"IM Fell",D:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/IMFeDPrm28P.ttf",o:"https://static.canva.com/static/truetypefonts/IMFeDPit28P.ttf"},G:{o:{i:"https://static.canva.com/static/truetypefonts/IMFeDPit28P.ttf",
l:"IM_FELL_Double_Pica_Italic",u:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/IMFeDPrm28P.ttf",l:"IM_FELL_Double_Pica_Roman",u:"https://static.canva.com/static/webfonts/IM-Fell-Double-Pica-Roman.woff"}}},{family:"Libre Baskerville",H:"https://static.canva.com/static/images/fonts/Libre-Baskerville.png",J:"https://static.canva.com/static/images/fonts/Libre-Baskerville@2x.png",url:"https://static.canva.com/static/webfonts/Libre%2BBaskerville.css",I:"LibreBaskerville-Regular",D:{o:!0,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Italic.ttf",
j:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Regular.ttf",l:"LibreBaskerville-Regular",u:"https://static.canva.com/static/webfonts/LibreBaskerville-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Italic.ttf",l:"LibreBaskerville-Italic",u:"https://static.canva.com/static/webfonts/LibreBaskerville-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/LibreBaskerville-Bold.ttf",l:"LibreBaskerville-Bold",u:"https://static.canva.com/static/webfonts/LibreBaskerville-Bold.woff"}}},{family:"Lora",H:"https://static.canva.com/static/images/fonts/Lora.png",
J:"https://static.canva.com/static/images/fonts/Lora@2x.png",url:"https://static.canva.com/static/webfonts/Lora.css",I:"Lora",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/Lora-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Lora-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/Lora-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Lora-Regular.ttf"},G:{o:{i:"https://static.canva.com/static/truetypefonts/Lora-Italic.ttf",l:"Lora-Italic",u:"https://static.canva.com/static/webfonts/Lora-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Lora-Bold.ttf",l:"Lora-Bold",u:"https://static.canva.com/static/webfonts/Lora-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Lora-Regular.ttf",
l:"Lora-Regular",u:"https://static.canva.com/static/webfonts/Lora.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Lora-BoldItalic.ttf",l:"Lora-BoldItalic",u:"https://static.canva.com/static/webfonts/Lora-BoldItalic.woff"}}},{family:"Lustria",H:"https://static.canva.com/static/images/fonts/Lustria.png",J:"https://static.canva.com/static/images/fonts/Lustria@2x.png",url:"https://static.canva.com/static/webfonts/Lustria.css",I:"Lustria-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Lustria-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Lustria-Regular.ttf",l:"Lustria-Regular",u:"https://static.canva.com/static/webfonts/Lustria-Regular.woff"}}},
{family:"Luthier",H:"https://static.canva.com/static/images/fonts/Luthier.png",J:"https://static.canva.com/static/images/fonts/Luthier@2x.png",url:"https://static.canva.com/static/webfonts/Luthier.css",I:"Luthier",displayName:"Luthier",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Luthier-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Luthier-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/Luthier-Italic.ttf",v:"https://static.canva.com/static/truetypefonts/Luthier-BoldItalic.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/Luthier-BoldItalic.ttf",l:"Luthier-BoldItalic",u:"https://static.canva.com/static/webfonts/Luthier-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Luthier-Italic.ttf",
l:"Luthier-Italic",u:"https://static.canva.com/static/webfonts/Luthier-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Luthier-Bold.ttf",l:"Luthier-Bold",u:"https://static.canva.com/static/webfonts/Luthier-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Luthier-Regular.ttf",l:"Luthier-Regular",u:"https://static.canva.com/static/webfonts/Luthier-Regular.woff"}}},{family:"Nixie One",H:"https://static.canva.com/static/images/fonts/Nixie-One.png",J:"https://static.canva.com/static/images/fonts/Nixie-One@2x.png",url:"https://static.canva.com/static/webfonts/Nixie%2BOne.css",I:"NixieOne-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/NixieOne-Regular.ttf"},
G:{j:{i:"https://static.canva.com/static/truetypefonts/NixieOne-Regular.ttf",l:"NixieOne-Regular",u:"https://static.canva.com/static/webfonts/NixieOne-Regular.woff"}}},{name:"Playfair Display",family:"Playfair Display",H:"https://static.canva.com/static/images/fonts/Playfair-Display.png",J:"https://static.canva.com/static/images/fonts/Playfair-Display@2x.png",url:"https://static.canva.com/static/webfonts/Playfair-Display.css",I:"PlayfairDisplay",displayName:"Playfair Display",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BoldItalic.ttf",
o:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Italic.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BoldItalic.ttf",l:"PlayfairDisplay-BoldItalic",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Bold.ttf",l:"PlayfairDisplay-Bold",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Regular.ttf",l:"PlayfairDisplay-Regular",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Italic.ttf",
l:"PlayfairDisplay-Italic",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-Italic.woff"}}},{name:"Playfair Display Black",family:"Playfair Display Black",H:"https://static.canva.com/static/images/fonts/Playfair-Display-Black.png",J:"https://static.canva.com/static/images/fonts/Playfair-Display-Black@2x.png",url:"https://static.canva.com/static/webfonts/Playfair-Display-Black.css",I:"PlayfairDisplayBlack",displayName:"Playfair Display Black",D:{o:!0,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Black.ttf",o:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BlackItalic.ttf"},G:{o:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-BlackItalic.ttf",
l:"PlayfairDisplay-BlackItalic",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-BlackItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplay-Black.ttf",l:"PlayfairDisplay-Black",u:"https://static.canva.com/static/webfonts/PlayfairDisplay-Black.woff"}}},{name:"Playfair Small Caps",family:"Playfair Display SC",H:"https://static.canva.com/static/images/fonts/Playfair-Small-Caps.png",J:"https://static.canva.com/static/images/fonts/Playfair-Small-Caps@2x.png",url:"https://static.canva.com/static/webfonts/Playfair%2BDisplay%2BSC.css",I:"PlayfairDisplaySC-Regular",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Regular.ttf",
bold:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-BoldItalic.ttf",o:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Italic.ttf"},G:{o:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Italic.ttf",l:"PlayfairDisplaySC-Italic",u:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Regular.ttf",l:"PlayfairDisplaySC-Regular",u:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Regular.woff"},v:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-BoldItalic.ttf",
l:"PlayfairDisplaySC-BoldItalic",u:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/PlayfairDisplaySC-Bold.ttf",l:"PlayfairDisplaySC-Bold",u:"https://static.canva.com/static/webfonts/PlayfairDisplaySC-Bold.woff"}}},{family:"Prata",H:"https://static.canva.com/static/images/fonts/Prata.png",J:"https://static.canva.com/static/images/fonts/Prata@2x.png",url:"https://static.canva.com/static/webfonts/Prata.css",I:"Prata-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Prata-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Prata-Regular.ttf",l:"Prata-Regular",
u:"https://static.canva.com/static/webfonts/Prata-Regular.woff"}}},{family:"PT Serif",H:"https://static.canva.com/static/images/fonts/PT-Serif.png",J:"https://static.canva.com/static/images/fonts/PT-Serif@2x.png",url:"https://static.canva.com/static/webfonts/PT%2BSerif.css",I:"PTSerif-Regular",D:{o:!0,bold:!0,v:!0},i:{o:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-BoldItalic.ttf",j:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Regular.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-BoldItalic.ttf",l:"PTSerif-BoldItalic",
u:"https://static.canva.com/static/webfonts/PTSerif-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Italic.ttf",l:"PTSerif-Italic",u:"https://static.canva.com/static/webfonts/PTSerif-Italic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Bold.ttf",l:"PTSerif-Bold",u:"https://static.canva.com/static/webfonts/PTSerif-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/PT_Serif-Web-Regular.ttf",l:"PTSerif-Regular",u:"https://static.canva.com/static/webfonts/PTSerif-Regular.woff"}}},{family:"Quando",H:"https://static.canva.com/static/images/fonts/Quando.png",J:"https://static.canva.com/static/images/fonts/Quando@2x.png",url:"https://static.canva.com/static/webfonts/Quando.css",
I:"Quando-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Quando-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Quando-Regular.ttf",l:"Quando-Regular",u:"https://static.canva.com/static/webfonts/Quando-Regular.woff"}}},{family:"Quattrocento",H:"https://static.canva.com/static/images/fonts/Quattrocento.png",J:"https://static.canva.com/static/images/fonts/Quattrocento@2x.png",url:"https://static.canva.com/static/webfonts/Quattrocento.css",I:"Quattrocento",D:{o:!1,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/Quattrocento-Bold.ttf",j:"https://static.canva.com/static/truetypefonts/Quattrocento-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Quattrocento-Regular.ttf",
l:"Quattrocento",u:"https://static.canva.com/static/webfonts/Quattrocento.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Quattrocento-Bold.ttf",l:"Quattrocento-Bold",u:"https://static.canva.com/static/webfonts/Quattrocento-Bold.woff"}}},{family:"Sanchez",H:"https://static.canva.com/static/images/fonts/Sanchez.png",J:"https://static.canva.com/static/images/fonts/Sanchez@2x.png",url:"https://static.canva.com/static/webfonts/Sanchez.css",I:"Sanchez-Regular",D:{o:!0,bold:!1,v:!1},i:{o:"https://static.canva.com/static/truetypefonts/Sanchez-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Sanchez-Regular.ttf"},G:{o:{i:"https://static.canva.com/static/truetypefonts/Sanchez-Italic.ttf",l:"Sanchez-Italic",
u:"https://static.canva.com/static/webfonts/Sanchez-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Sanchez-Regular.ttf",l:"Sanchez-Regular",u:"https://static.canva.com/static/webfonts/Sanchez-Regular.woff"}}},{family:"Source Serif Pro",H:"https://static.canva.com/static/images/fonts/Source-Serif-Pro.png",J:"https://static.canva.com/static/images/fonts/Source-Serif-Pro@2x.png",url:"https://static.canva.com/static/webfonts/SourceSerifPro.css",I:"Source-Serif-Pro",displayName:"Source Serif Pro",D:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Bold.ttf"},
G:{j:{i:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Regular.ttf",l:"SourceSerifPro-Regular",u:"https://static.canva.com/static/webfonts/SourceSerifPro-Regular.otf.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/SourceSerifPro-Bold.ttf",l:"SourceSerifPro-Bold",u:"https://static.canva.com/static/webfonts/SourceSerifPro-Bold.otf.woff"}}},{family:"Old Standard",H:"https://static.canva.com/static/images/fonts/Old-Standard.png",J:"https://static.canva.com/static/images/fonts/Old-Standard@2x.png",url:"https://static.canva.com/static/webfonts/Old%2BStandard%2BTT.css",I:"OldStandard-TT",displayName:"Old Standard",D:{o:!0,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/OldStandard-Regular.ttf",
bold:"https://static.canva.com/static/truetypefonts/OldStandard-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/OldStandard-Italic.ttf"},G:{o:{i:"https://static.canva.com/static/truetypefonts/OldStandard-Italic.ttf",l:"OldStandardTT-Italic",u:"https://static.canva.com/static/webfonts/OldStandardTT-Italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/OldStandard-Regular.ttf",l:"OldStandardTT-Regular",u:"https://static.canva.com/static/webfonts/OldStandardTT-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/OldStandard-Bold.ttf",l:"OldStandardTT-Bold",u:"https://static.canva.com/static/webfonts/OldStandardTT-Bold.woff"}}},{family:"Times New Roman",
H:"https://static.canva.com/static/images/fonts/Times-New-Roman.png",J:"https://static.canva.com/static/images/fonts/Times-New-Roman@2x.png",I:"TimesNewRomanPSMT",disabled:!0,D:{o:!0,bold:!0,v:!0}},{family:"Times Neue Roman",displayName:"Times Neue Roman",H:"https://static.canva.com/static/images/fonts/Times-Neue-Roman.png",J:"https://static.canva.com/static/images/fonts/Times-Neue-Roman@2x.png",I:"TeXGyreTermes-Regular",url:"https://static.canva.com/static/webfonts/Times-Neue-Roman.css",D:{o:!0,bold:!0,v:!0},i:{bold:"https://static.canva.com/static/truetypefonts/texgyretermes-bold.ttf",v:"https://static.canva.com/static/truetypefonts/texgyretermes-bolditalic.ttf",
o:"https://static.canva.com/static/truetypefonts/texgyretermes-italic.ttf",j:"https://static.canva.com/static/truetypefonts/texgyretermes-regular.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/texgyretermes-bolditalic.ttf",l:"TeXGyreTermes-BoldItalic",u:"https://static.canva.com/static/webfonts/texgyretermes-bolditalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/texgyretermes-italic.ttf",l:"TeXGyreTermes-Italic",u:"https://static.canva.com/static/webfonts/texgyretermes-italic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/texgyretermes-regular.ttf",l:"TeXGyreTermes-Regular",u:"https://static.canva.com/static/webfonts/texgyretermes-regular.woff"},
bold:{i:"https://static.canva.com/static/truetypefonts/texgyretermes-bold.ttf",l:"TeXGyreTermes-Bold",u:"https://static.canva.com/static/webfonts/texgyretermes-bold.woff"}}},{family:"Trocchi",H:"https://static.canva.com/static/images/fonts/Trocchi.png",J:"https://static.canva.com/static/images/fonts/Trocchi@2x.png",url:"https://static.canva.com/static/webfonts/Trocchi.css",I:"Trocchi",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Trocchi-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Trocchi-Regular.ttf",l:"Trocchi",u:"https://static.canva.com/static/webfonts/Trocchi.woff"}}},{family:"Ultra",H:"https://static.canva.com/static/images/fonts/Ultra.png",J:"https://static.canva.com/static/images/fonts/Ultra@2x.png",
url:"https://static.canva.com/static/webfonts/Ultra.css",I:"Ultra",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Ultra.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Ultra.ttf",l:"Ultra",u:"https://static.canva.com/static/webfonts/Ultra.woff"}}},{family:"Vidaloka",H:"https://static.canva.com/static/images/fonts/Vidaloka.png",J:"https://static.canva.com/static/images/fonts/Vidaloka@2x.png",url:"https://static.canva.com/static/webfonts/Vidaloka.css",I:"Vidaloka-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Vidaloka-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Vidaloka-Regular.ttf",l:"Vidaloka-Regular",u:"https://static.canva.com/static/webfonts/Vidaloka-Regular.woff"}}},
{family:"Voga",H:"https://static.canva.com/static/images/fonts/Voga.png",J:"https://static.canva.com/static/images/fonts/Voga@2x.png",url:"https://static.canva.com/static/webfonts/Voga.css",displayName:"Voga",I:"Voga-Medium",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Voga-Medium.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Voga-Medium.ttf",l:"Voga-Medium",u:"https://static.canva.com/static/webfonts/Voga-Medium.woff"}}},{family:"Vollkorn",H:"https://static.canva.com/static/images/fonts/Vollkorn.png",J:"https://static.canva.com/static/images/fonts/Vollkorn@2x.png",url:"https://static.canva.com/static/webfonts/Vollkorn.css",I:"Vollkorn",displayName:"Vollkorn",D:{o:!0,
bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Vollkorn-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/Vollkorn-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/Vollkorn-Italic.ttf",v:"https://static.canva.com/static/truetypefonts/Vollkorn-BoldItalic.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/Vollkorn-BoldItalic.ttf",l:"Vollkorn-BoldItalic",u:"https://static.canva.com/static/webfonts/Vollkorn-BoldItalic.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Vollkorn-Bold.ttf",l:"Vollkorn-Bold",u:"https://static.canva.com/static/webfonts/Vollkorn-Bold.woff"},j:{i:"https://static.canva.com/static/truetypefonts/Vollkorn-Regular.ttf",l:"Vollkorn-Regular",
u:"https://static.canva.com/static/webfonts/Vollkorn-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Vollkorn-Italic.ttf",l:"Vollkorn-Italic",u:"https://static.canva.com/static/webfonts/Vollkorn-Italic.woff"}}},{family:"Cantora One",H:"https://static.canva.com/static/images/fonts/Cantora-One.png",J:"https://static.canva.com/static/images/fonts/Cantora-One@2x.png",url:"https://static.canva.com/static/webfonts/Cantora%2BOne.css",I:"CantoraOne-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/CantoraOne-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/CantoraOne-Regular.ttf",l:"CantoraOne-Regular",u:"https://static.canva.com/static/webfonts/CantoraOne-Regular.woff"}}},
{family:"Coustard",H:"https://static.canva.com/static/images/fonts/Coustard.png",J:"https://static.canva.com/static/images/fonts/Coustard@2x.png",url:"https://static.canva.com/static/webfonts/Coustard.css",I:"Coustard",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Coustard-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Coustard-Regular.ttf",l:"Coustard",u:"https://static.canva.com/static/webfonts/Coustard.woff"}}},{family:"Emilys Candy",H:"https://static.canva.com/static/images/fonts/Emilys-Candy.png",J:"https://static.canva.com/static/images/fonts/Emilys-Candy@2x.png",url:"https://static.canva.com/static/webfonts/Emilys%2BCandy.css",I:"EmilysCandy-Regular",D:{o:!1,
bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/EmilysCandy-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/EmilysCandy-Regular.ttf",l:"EmilysCandy-Regular",u:"https://static.canva.com/static/webfonts/EmilysCandy-Regular.woff"}}},{family:"Glass Antiqua",H:"https://static.canva.com/static/images/fonts/Glass-Antiqua.png",J:"https://static.canva.com/static/images/fonts/Glass-Antiqua@2x.png",url:"https://static.canva.com/static/webfonts/Glass%2BAntiqua.css",I:"GlassAntiqua-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/GlassAntiqua-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/GlassAntiqua-Regular.ttf",
l:"GlassAntiqua-Regular",u:"https://static.canva.com/static/webfonts/GlassAntiqua-Regular.woff"}}},{family:"Graduate",H:"https://static.canva.com/static/images/fonts/Graduate.png",J:"https://static.canva.com/static/images/fonts/Graduate@2x.png",url:"https://static.canva.com/static/webfonts/Graduate.css",I:"Graduate-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Graduate-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Graduate-Regular.ttf",l:"Graduate-Regular",u:"https://static.canva.com/static/webfonts/Graduate-Regular.woff"}}},{family:"Ribeye",H:"https://static.canva.com/static/images/fonts/Ribeye.png",J:"https://static.canva.com/static/images/fonts/Ribeye@2x.png",
url:"https://static.canva.com/static/webfonts/Ribeye.css",I:"Ribeye-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Ribeye-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Ribeye-Regular.ttf",l:"Ribeye-Regular",u:"https://static.canva.com/static/webfonts/Ribeye-Regular.woff"}}},{family:"Vast Shadow",H:"https://static.canva.com/static/images/fonts/Vast-Shadow.png",J:"https://static.canva.com/static/images/fonts/Vast-Shadow@2x.png",url:"https://static.canva.com/static/webfonts/Vast%2BShadow.css",I:"VastShadow-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/VastShadow-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/VastShadow-Regular.ttf",
l:"VastShadow-Regular",u:"https://static.canva.com/static/webfonts/VastShadow-Regular.woff"}}}]},{sh:"Handwritten",fe:"cursive",fonts:[{family:"Gochi Hand",H:"https://static.canva.com/static/images/fonts/Gochi-Hand.png",J:"https://static.canva.com/static/images/fonts/Gochi-Hand@2x.png",url:"https://static.canva.com/static/webfonts/Gochi%2BHand.css",I:"GochiHand-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/GochiHand-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/GochiHand-Regular.ttf",l:"GochiHand-Regular",u:"https://static.canva.com/static/webfonts/GochiHand-Regular.woff"}}},{family:"Over The Rainbow",H:"https://static.canva.com/static/images/fonts/Over-The-Rainbow.png",
J:"https://static.canva.com/static/images/fonts/Over-The-Rainbow@2x.png",url:"https://static.canva.com/static/webfonts/Over%2Bthe%2BRainbow.css",I:"OvertheRainbow",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/OvertheRainbow.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/OvertheRainbow.ttf",l:"OvertheRainbow",u:"https://static.canva.com/static/webfonts/OvertheRainbow.woff"}}},{family:"Permanent Marker",H:"https://static.canva.com/static/images/fonts/Permanent-Marker.png",J:"https://static.canva.com/static/images/fonts/Permanent-Marker@2x.png",url:"https://static.canva.com/static/webfonts/Permanent%2BMarker.css",I:"PermanentMarker",D:{o:!1,bold:!1,v:!1},
i:{j:"https://static.canva.com/static/truetypefonts/PermanentMarker.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/PermanentMarker.ttf",l:"PermanentMarker",u:"https://static.canva.com/static/webfonts/PermanentMarker.woff"}}},{family:"Sacramento",H:"https://static.canva.com/static/images/fonts/Sacramento.png",J:"https://static.canva.com/static/images/fonts/Sacramento@2x.png",url:"https://static.canva.com/static/webfonts/Sacramento.css",I:"Sacramento-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Sacramento-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Sacramento-Regular.ttf",l:"Sacramento-Regular",u:"https://static.canva.com/static/webfonts/Sacramento-Regular.woff"}}},
{family:"Schoolbell",H:"https://static.canva.com/static/images/fonts/Schoolbell.png",J:"https://static.canva.com/static/images/fonts/Schoolbell@2x.png",url:"https://static.canva.com/static/webfonts/Schoolbell.css",I:"Schoolbell",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Schoolbell.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Schoolbell.ttf",l:"Schoolbell",u:"https://static.canva.com/static/webfonts/Schoolbell.woff"}}},{name:"Shadows Into Light",family:"Shadows Into Light Two",H:"https://static.canva.com/static/images/fonts/Shadows-Into-Light-Two.png",J:"https://static.canva.com/static/images/fonts/Shadows-Into-Light-Two@2x.png",url:"https://static.canva.com/static/webfonts/Shadows%2BInto%2BLight%2BTwo.css",
I:"ShadowsIntoLight",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/ShadowsIntoLight.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/ShadowsIntoLight.ttf",l:"ShadowsIntoLight",u:"https://static.canva.com/static/webfonts/ShadowsIntoLightTwo-Regular.woff"}}},{name:"Amatic Small Caps",family:"Amatic SC",H:"https://static.canva.com/static/images/fonts/Amatic-Small-Caps.png",J:"https://static.canva.com/static/images/fonts/Amatic-Small-Caps@2x.png",url:"https://static.canva.com/static/webfonts/Amatic%2BSC.2.css",I:"AmaticSC-Regular",D:{o:!1,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/AmaticSC-Bold.ttf",j:"https://static.canva.com/static/truetypefonts/AmaticSC-Regular.ttf"},
G:{j:{i:"https://static.canva.com/static/truetypefonts/AmaticSC-Regular.ttf",l:"AmaticSC-Regular",u:"https://static.canva.com/static/webfonts/AmaticSC-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/AmaticSC-Bold.ttf",l:"AmaticSC-Bold",u:"https://static.canva.com/static/webfonts/AmaticSC-Bold.woff"}}},{family:"Architects Daughter",H:"https://static.canva.com/static/images/fonts/Architects-Daughter.png",J:"https://static.canva.com/static/images/fonts/Architects-Daughter@2x.png",url:"https://static.canva.com/static/webfonts/Architects%2BDaughter.css",I:"ArchitectsDaughter",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/ArchitectsDaughter.ttf"},
G:{j:{i:"https://static.canva.com/static/truetypefonts/ArchitectsDaughter.ttf",l:"ArchitectsDaughter",u:"https://static.canva.com/static/webfonts/ArchitectsDaughter.woff"}}},{family:"Cabin Sketch",H:"https://static.canva.com/static/images/fonts/Cabin-Sketch.png",J:"https://static.canva.com/static/images/fonts/Cabin-Sketch@2x.png",url:"https://static.canva.com/static/webfonts/Cabin%2BSketch.2.css",I:"CabinSketch-Regular",D:{o:!1,bold:!0,v:!1},i:{bold:"https://static.canva.com/static/truetypefonts/CabinSketch-Bold.ttf",j:"https://static.canva.com/static/truetypefonts/CabinSketch-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/CabinSketch-Regular.ttf",l:"CabinSketch-Regular",
u:"https://static.canva.com/static/webfonts/CabinSketch-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/CabinSketch-Bold.ttf",l:"CabinSketch-Bold",u:"https://static.canva.com/static/webfonts/CabinSketch-Bold.woff"}}},{family:"Coming Soon",H:"https://static.canva.com/static/images/fonts/Coming-Soon.png",J:"https://static.canva.com/static/images/fonts/Coming-Soon@2x.png",url:"https://static.canva.com/static/webfonts/Coming%2BSoon.css",I:"ComingSoon",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/ComingSoon.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/ComingSoon.ttf",l:"ComingSoon",u:"https://static.canva.com/static/webfonts/ComingSoon.woff"}}}]},{sh:"Script",
fe:"cursive",fonts:[{family:"Allura",H:"https://static.canva.com/static/images/fonts/Allura.png",J:"https://static.canva.com/static/images/fonts/Allura@2x.png",url:"https://static.canva.com/static/webfonts/Allura.css",I:"Allura-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Allura-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Allura-Regular.ttf",l:"Allura-Regular",u:"https://static.canva.com/static/webfonts/Allura-Regular.woff"}}},{family:"Clicker Script",H:"https://static.canva.com/static/images/fonts/Clicker-Script.png",J:"https://static.canva.com/static/images/fonts/Clicker-Script@2x.png",url:"https://static.canva.com/static/webfonts/Clicker%2BScript.css",
I:"ClickerScript-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/ClickerScript-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/ClickerScript-Regular.ttf",l:"ClickerScript-Regular",u:"https://static.canva.com/static/webfonts/ClickerScript-Regular.woff"}}},{family:"Courgette",H:"https://static.canva.com/static/images/fonts/Courgette.png",J:"https://static.canva.com/static/images/fonts/Courgette@2x.png",url:"https://static.canva.com/static/webfonts/Courgette.css",I:"Courgette-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Courgette-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Courgette-Regular.ttf",
l:"Courgette-Regular",u:"https://static.canva.com/static/webfonts/Courgette-Regular.woff"}}},{family:"Dear Joe",H:"https://static.canva.com/static/images/fonts/Dear-Joe.png",J:"https://static.canva.com/static/images/fonts/Dear-Joe@2x.png",url:"https://static.canva.com/static/webfonts/Dear-Joe.css",I:"Dear Joe",displayName:"Dear Joe",disabled:!0,D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/DearJoe5.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/DearJoe5.ttf",l:"dearJoe5CASUAL-P",u:"https://static.canva.com/static/webfonts/DearJoe5.woff"}}},{family:"Engagement",H:"https://static.canva.com/static/images/fonts/Engagement.png",J:"https://static.canva.com/static/images/fonts/Engagement@2x.png",
url:"https://static.canva.com/static/webfonts/Engagement.css",I:"Engagement-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Engagement-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Engagement-Regular.ttf",l:"Engagement-Regular",u:"https://static.canva.com/static/webfonts/Engagement-Regular.woff"}}},{family:"Euphoria Script",H:"https://static.canva.com/static/images/fonts/Euphoria-Script.png",J:"https://static.canva.com/static/images/fonts/Euphoria-Script@2x.png",url:"https://static.canva.com/static/webfonts/Euphoria%2BScript.css",I:"EuphoriaScript-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/EuphoriaScript-Regular.ttf"},
G:{j:{i:"https://static.canva.com/static/truetypefonts/EuphoriaScript-Regular.ttf",l:"EuphoriaScript-Regular",u:"https://static.canva.com/static/webfonts/EuphoriaScript-Regular.woff"}}},{family:"Great Vibes",H:"https://static.canva.com/static/images/fonts/Great-Vibes.png",J:"https://static.canva.com/static/images/fonts/Great-Vibes@2x.png",url:"https://static.canva.com/static/webfonts/Great%2BVibes.css",I:"GreatVibes-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/GreatVibes-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/GreatVibes-Regular.ttf",l:"GreatVibes-Regular",u:"https://static.canva.com/static/webfonts/GreatVibes-Regular.woff"}}},
{family:"Kaushan Script",H:"https://static.canva.com/static/images/fonts/Kaushan-Script.png",J:"https://static.canva.com/static/images/fonts/Kaushan-Script@2x.png",url:"https://static.canva.com/static/webfonts/Kaushan-Script.css",I:"Kaushan Script",displayName:"Kaushan Script",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/KaushanScript-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/KaushanScript-Regular.ttf",l:"KaushanScript-Regular",u:"https://static.canva.com/static/webfonts/KaushanScript-Regular.woff"}}},{family:"Merriweather",H:"https://static.canva.com/static/images/fonts/Merriweather.png",J:"https://static.canva.com/static/images/fonts/Merriweather@2x.png",
url:"https://static.canva.com/static/webfonts/Merriweather.css",I:"Merriweather",displayName:"Merriweather",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/Merriweather-Regular.ttf",o:"https://static.canva.com/static/truetypefonts/Merriweather-Italic.ttf",bold:"https://static.canva.com/static/truetypefonts/Merriweather-Bold.ttf",v:"https://static.canva.com/static/truetypefonts/Merriweather-BoldItalic.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Merriweather-Regular.ttf",l:"Merriweather",u:"https://static.canva.com/static/webfonts/Merriweather.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/Merriweather-Bold.ttf",l:"Merriweather-Bold",
u:"https://static.canva.com/static/webfonts/Merriweather-Bold.woff"},v:{i:"https://static.canva.com/static/truetypefonts/Merriweather-BoldItalic.ttf",l:"Merriweather-BoldItalic",u:"https://static.canva.com/static/webfonts/Merriweather-BoldItalic.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Merriweather-Italic.ttf",l:"Merriweather-Italic",u:"https://static.canva.com/static/webfonts/Merriweather-Italic.woff"}}},{family:"Mr Dafoe",H:"https://static.canva.com/static/images/fonts/Mr-Dafoe.png",J:"https://static.canva.com/static/images/fonts/Mr-Dafoe@2x.png",url:"https://static.canva.com/static/webfonts/Mr%2BDafoe.css",I:"MrDafoe-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/MrDafoe-Regular.ttf"},
G:{j:{i:"https://static.canva.com/static/truetypefonts/MrDafoe-Regular.ttf",l:"MrDafoe-Regular",u:"https://static.canva.com/static/webfonts/MrDafoe-Regular.woff"}}},{family:"Niconne",H:"https://static.canva.com/static/images/fonts/Niconne.png",J:"https://static.canva.com/static/images/fonts/Niconne@2x.png",url:"https://static.canva.com/static/webfonts/Niconne.css",I:"Niconne-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Niconne-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Niconne-Regular.ttf",l:"Niconne-Regular",u:"https://static.canva.com/static/webfonts/Niconne-Regular.woff"}}},{family:"Parisienne",H:"https://static.canva.com/static/images/fonts/Parisienne.png",
J:"https://static.canva.com/static/images/fonts/Parisienne@2x.png",url:"https://static.canva.com/static/webfonts/Parisienne.css",I:"Parisienne-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Parisienne-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Parisienne-Regular.ttf",l:"Parisienne-Regular",u:"https://static.canva.com/static/webfonts/Parisienne-Regular.woff"}}},{family:"Pinyon Script",H:"https://static.canva.com/static/images/fonts/Pinyon-Script.png",J:"https://static.canva.com/static/images/fonts/Pinyon-Script@2x.png",url:"https://static.canva.com/static/webfonts/Pinyon%2BScript.css",I:"PinyonScript",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/PinyonScript-Regular.ttf"},
G:{j:{i:"https://static.canva.com/static/truetypefonts/PinyonScript-Regular.ttf",l:"PinyonScript",u:"https://static.canva.com/static/webfonts/PinyonScript.woff"}}},{family:"Dr Sugiyama",H:"https://static.canva.com/static/images/fonts/Dr-Sugiyama.png",J:"https://static.canva.com/static/images/fonts/Dr-Sugiyama@2x.png",url:"https://static.canva.com/static/webfonts/Dr%2BSugiyama.css",I:"DrSugiyama-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/DrSugiyama-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/DrSugiyama-Regular.ttf",l:"DrSugiyama-Regular",u:"https://static.canva.com/static/webfonts/DrSugiyama-Regular.woff"}}},{family:"Grand Hotel",
H:"https://static.canva.com/static/images/fonts/Grand-Hotel.png",J:"https://static.canva.com/static/images/fonts/Grand-Hotel@2x.png",url:"https://static.canva.com/static/webfonts/Grand%2BHotel.css",I:"GrandHotel-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/GrandHotel-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/GrandHotel-Regular.ttf",l:"GrandHotel-Regular",u:"https://static.canva.com/static/webfonts/GrandHotel-Regular.woff"}}},{family:"Knewave",H:"https://static.canva.com/static/images/fonts/Knewave.png",J:"https://static.canva.com/static/images/fonts/Knewave@2x.png",url:"https://static.canva.com/static/webfonts/Knewave.css",I:"Knewave-Regular",D:{o:!1,
bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Knewave-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Knewave-Regular.ttf",l:"Knewave-Regular",u:"https://static.canva.com/static/webfonts/Knewave-Regular.woff"}}},{family:"Pacifico",H:"https://static.canva.com/static/images/fonts/Pacifico.png",J:"https://static.canva.com/static/images/fonts/Pacifico@2x.png",url:"https://static.canva.com/static/webfonts/Pacifico.css",I:"Pacifico-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Pacifico.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Pacifico.ttf",l:"Pacifico-Regular",u:"https://static.canva.com/static/webfonts/Pacifico-Regular.woff"}}},
{family:"Princess Sofia",H:"https://static.canva.com/static/images/fonts/Princess-Sofia.png",J:"https://static.canva.com/static/images/fonts/Princess-Sofia@2x.png",url:"https://static.canva.com/static/webfonts/Princess%2BSofia.css",I:"PrincessSofia",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/PrincessSofia-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/PrincessSofia-Regular.ttf",l:"PrincessSofia",u:"https://static.canva.com/static/webfonts/PrincessSofia.woff"}}},{family:"Satisfy",H:"https://static.canva.com/static/images/fonts/Satisfy.png",J:"https://static.canva.com/static/images/fonts/Satisfy@2x.png",url:"https://static.canva.com/static/webfonts/Satisfy.css",
I:"Satisfy",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Satisfy-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Satisfy-Regular.ttf",l:"Satisfy",u:"https://static.canva.com/static/webfonts/Satisfy.woff"}}},{family:"Streamster",disabled:!0,H:"https://static.canva.com/static/images/fonts/Streamster.png",J:"https://static.canva.com/static/images/fonts/Streamster@2x.png",url:"https://static.canva.com/static/webfonts/Streamster.css",I:"Streamster",displayName:"Streamster",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Streamster.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Streamster.ttf",l:"Streamster",
u:"https://static.canva.com/static/webfonts/Streamster.woff"}}},{family:"Yellowtail",H:"https://static.canva.com/static/images/fonts/Yellowtail.png",J:"https://static.canva.com/static/images/fonts/Yellowtail@2x.png",url:"https://static.canva.com/static/webfonts/Yellowtail.css",I:"Yellowtail",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Yellowtail-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Yellowtail-Regular.ttf",l:"Yellowtail",u:"https://static.canva.com/static/webfonts/Yellowtail.woff"}}}]},{sh:"Fun \x26 Fancy",fe:"fantasy",fonts:[{family:"Berkshire Swash",H:"https://static.canva.com/static/images/fonts/Berkshire-Swash.png",J:"https://static.canva.com/static/images/fonts/Berkshire-Swash@2x.png",
url:"https://static.canva.com/static/webfonts/Berkshire%2BSwash.css",I:"BerkshireSwash-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/BerkshireSwash-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/BerkshireSwash-Regular.ttf",l:"BerkshireSwash-Regular",u:"https://static.canva.com/static/webfonts/BerkshireSwash-Regular.woff"}}},{family:"Black Ops One",H:"https://static.canva.com/static/images/fonts/Black-Ops-One.png",J:"https://static.canva.com/static/images/fonts/Black-Ops-One@2x.png",url:"https://static.canva.com/static/webfonts/Black%2BOps%2BOne.css",I:"BlackOpsOne-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/BlackOpsOne-Regular.ttf"},
G:{j:{i:"https://static.canva.com/static/truetypefonts/BlackOpsOne-Regular.ttf",l:"BlackOpsOne-Regular",u:"https://static.canva.com/static/webfonts/BlackOpsOne-Regular.woff"}}},{family:"Chewy",H:"https://static.canva.com/static/images/fonts/Chewy.png",J:"https://static.canva.com/static/images/fonts/Chewy@2x.png",url:"https://static.canva.com/static/webfonts/Chewy.css",I:"Chewy",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Chewy.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Chewy.ttf",l:"Chewy",u:"https://static.canva.com/static/webfonts/Chewy.woff"}}},{family:"Creepster",H:"https://static.canva.com/static/images/fonts/Creepster.png",J:"https://static.canva.com/static/images/fonts/Creepster@2x.png",
url:"https://static.canva.com/static/webfonts/Creepster.css",I:"Creepster-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Creepster-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Creepster-Regular.ttf",l:"Creepster-Regular",u:"https://static.canva.com/static/webfonts/Creepster-Regular.woff"}}},{name:"Diplomata Small Caps",family:"Diplomata SC",H:"https://static.canva.com/static/images/fonts/Diplomata-Small-Caps.png",J:"https://static.canva.com/static/images/fonts/Diplomata-Small-Caps@2x.png",url:"https://static.canva.com/static/webfonts/Diplomata%2BSC.css",I:"DiplomataSC-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/DiplomataSC-Regular.ttf"},
G:{j:{i:"https://static.canva.com/static/truetypefonts/DiplomataSC-Regular.ttf",l:"DiplomataSC-Regular",u:"https://static.canva.com/static/webfonts/DiplomataSC-Regular.woff"}}},{family:"Germania One",H:"https://static.canva.com/static/images/fonts/Germania-One.png",J:"https://static.canva.com/static/images/fonts/Germania-One@2x.png",url:"https://static.canva.com/static/webfonts/Germania%2BOne.css",I:"GermaniaOne-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/GermaniaOne-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/GermaniaOne-Regular.ttf",l:"GermaniaOne-Regular",u:"https://static.canva.com/static/webfonts/GermaniaOne-Regular.woff"}}},
{family:"Megrim",H:"https://static.canva.com/static/images/fonts/Megrim.png",J:"https://static.canva.com/static/images/fonts/Megrim@2x.png",url:"https://static.canva.com/static/webfonts/Megrim.css",I:"Megrim",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Megrim.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Megrim.ttf",l:"Megrim",u:"https://static.canva.com/static/webfonts/Megrim.woff"}}},{family:"Rye",H:"https://static.canva.com/static/images/fonts/Rye.png",J:"https://static.canva.com/static/images/fonts/Rye@2x.png",url:"https://static.canva.com/static/webfonts/Rye.css",I:"Rye-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Rye-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Rye-Regular.ttf",
l:"Rye-Regular",u:"https://static.canva.com/static/webfonts/Rye-Regular.woff"}}},{family:"UnifrakturMaguntia",H:"https://static.canva.com/static/images/fonts/UnifrakturMaguntia.png",J:"https://static.canva.com/static/images/fonts/UnifrakturMaguntia@2x.png",url:"https://static.canva.com/static/webfonts/UnifrakturMaguntia.css",I:"UnifrakturMaguntia",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/UnifrakturMaguntia-Book.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/UnifrakturMaguntia-Book.ttf",l:"UnifrakturMaguntia",u:"https://static.canva.com/static/webfonts/UnifrakturMaguntia.woff"}}},{family:"Codystar",H:"https://static.canva.com/static/images/fonts/Codystar.png",
J:"https://static.canva.com/static/images/fonts/Codystar@2x.png",url:"https://static.canva.com/static/webfonts/Codystar.css",I:"Codystar",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Codystar-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Codystar-Regular.ttf",l:"Codystar",u:"https://static.canva.com/static/webfonts/Codystar.woff"}}},{family:"Crafty Girls",H:"https://static.canva.com/static/images/fonts/Crafty-Girls.png",J:"https://static.canva.com/static/images/fonts/Crafty-Girls@2x.png",url:"https://static.canva.com/static/webfonts/Crafty%2BGirls.css",I:"CraftyGirls",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/CraftyGirls.ttf"},
G:{j:{i:"https://static.canva.com/static/truetypefonts/CraftyGirls.ttf",l:"CraftyGirls",u:"https://static.canva.com/static/webfonts/CraftyGirls.woff"}}},{family:"Hitchcut",displayName:"Hitchcut",H:"https://static.canva.com/static/images/fonts/Hitchcut.png",J:"https://static.canva.com/static/images/fonts/Hitchcut@2x.png",url:"https://static.canva.com/static/webfonts/Hitchcut.css",I:"Hitchcut",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Hitchcut.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Hitchcut.ttf",l:"Hitchcut-Regular",u:"https://static.canva.com/static/webfonts/Hitchcut.woff"}}},{family:"Lobster",disabled:!0,H:"https://static.canva.com/static/images/fonts/Lobster.png",
J:"https://static.canva.com/static/images/fonts/Lobster@2x.png",url:"https://static.canva.com/static/webfonts/Lobster.css",I:"Lobster",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Lobster.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Lobster.ttf",l:"Lobster",u:"https://static.canva.com/static/webfonts/Lobster.woff"}}},{family:"Lobster Two",H:"https://static.canva.com/static/images/fonts/Lobster-Two.png",J:"https://static.canva.com/static/images/fonts/Lobster-Two@2x.png",url:"https://static.canva.com/static/webfonts/Lobster%2BTwo.css",I:"Lobster Two",displayName:"Lobster Two",D:{o:!0,bold:!0,v:!0},i:{j:"https://static.canva.com/static/truetypefonts/LobsterTwo-Regular.ttf",
bold:"https://static.canva.com/static/truetypefonts/LobsterTwo-Bold.ttf",o:"https://static.canva.com/static/truetypefonts/LobsterTwo-Italic.ttf",v:"https://static.canva.com/static/truetypefonts/LobsterTwo-BoldItalic.ttf"},G:{v:{i:"https://static.canva.com/static/truetypefonts/LobsterTwo-BoldItalic.ttf",l:"LobsterTwo-BoldItalic",u:"https://static.canva.com/static/webfonts/LobsterTwo-BoldItalic.woff"},j:{i:"https://static.canva.com/static/truetypefonts/LobsterTwo-Regular.ttf",l:"LobsterTwo",u:"https://static.canva.com/static/webfonts/LobsterTwo-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/LobsterTwo-Bold.ttf",l:"LobsterTwo-Bold",u:"https://static.canva.com/static/webfonts/LobsterTwo-Bold.woff"},
o:{i:"https://static.canva.com/static/truetypefonts/LobsterTwo-Italic.ttf",l:"LobsterTwo-Italic",u:"https://static.canva.com/static/webfonts/LobsterTwo-Italic.woff"}}},{family:"Oleo Script",H:"https://static.canva.com/static/images/fonts/Oleo-Script.png",J:"https://static.canva.com/static/images/fonts/Oleo-Script@2x.png",url:"https://static.canva.com/static/webfonts/Oleo-Script.css",I:"Oleo Script",displayName:"Oleo Script",D:{o:!1,bold:!0,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/OleoScript-Regular.ttf",bold:"https://static.canva.com/static/truetypefonts/OleoScript-Bold.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/OleoScript-Regular.ttf",l:"OleoScript-Regular",
u:"https://static.canva.com/static/webfonts/OleoScript-Regular.woff"},bold:{i:"https://static.canva.com/static/truetypefonts/OleoScript-Bold.ttf",l:"OleoScript-Bold",u:"https://static.canva.com/static/webfonts/OleoScript-Bold.woff"}}},{family:"Londrina Shadow",H:"https://static.canva.com/static/images/fonts/Londrina-Shadow.png",J:"https://static.canva.com/static/images/fonts/Londrina-Shadow@2x.png",url:"https://static.canva.com/static/webfonts/Londrina%2BShadow.css",I:"LondrinaShadow-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/LondrinaShadow-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/LondrinaShadow-Regular.ttf",l:"LondrinaShadow-Regular",
u:"https://static.canva.com/static/webfonts/LondrinaShadow-Regular.woff"}}},{family:"Londrina Sketch",H:"https://static.canva.com/static/images/fonts/Londrina-Sketch.png",J:"https://static.canva.com/static/images/fonts/Londrina-Sketch@2x.png",url:"https://static.canva.com/static/webfonts/Londrina%2BSketch.css",I:"LondrinaSketch-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/LondrinaSketch-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/LondrinaSketch-Regular.ttf",l:"LondrinaSketch-Regular",u:"https://static.canva.com/static/webfonts/LondrinaSketch-Regular.woff"}}},{family:"Oregano",H:"https://static.canva.com/static/images/fonts/Oregano.png",
J:"https://static.canva.com/static/images/fonts/Oregano@2x.png",url:"https://static.canva.com/static/webfonts/Oregano.2.css",I:"Oregano-Regular",D:{o:!0,bold:!1,v:!1},i:{o:"https://static.canva.com/static/truetypefonts/Oregano-Italic.ttf",j:"https://static.canva.com/static/truetypefonts/Oregano-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Oregano-Regular.ttf",l:"Oregano-Regular",u:"https://static.canva.com/static/webfonts/Oregano-Regular.woff"},o:{i:"https://static.canva.com/static/truetypefonts/Oregano-Italic.ttf",l:"Oregano-Italic",u:"https://static.canva.com/static/webfonts/Oregano-Italic.woff"}}},{family:"Sniglet",H:"https://static.canva.com/static/images/fonts/Sniglet.png",J:"https://static.canva.com/static/images/fonts/Sniglet@2x.png",
url:"https://static.canva.com/static/webfonts/Sniglet.css",I:"Sniglet",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Sniglet-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Sniglet-Regular.ttf",l:"Sniglet-Regular",u:"https://static.canva.com/static/webfonts/Sniglet.woff"}}},{family:"Special Elite",H:"https://static.canva.com/static/images/fonts/Special-Elite.png",J:"https://static.canva.com/static/images/fonts/Special-Elite@2x.png",url:"https://static.canva.com/static/webfonts/Special%2BElite.css",I:"SpecialElite-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/SpecialElite.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/SpecialElite.ttf",
l:"SpecialElite-Regular",u:"https://static.canva.com/static/webfonts/SpecialElite-Regular.woff"}}},{family:"Sunday",H:"https://static.canva.com/static/images/fonts/Sunday.png",J:"https://static.canva.com/static/images/fonts/Sunday@2x.png",url:"https://static.canva.com/static/webfonts/Sunday.css",I:"Sunday",displayName:"Sunday",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Sunday.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Sunday.ttf",l:"Sunday",u:"https://static.canva.com/static/webfonts/Sunday.woff"}}},{family:"Vampiro One",H:"https://static.canva.com/static/images/fonts/Vampiro-One.png",J:"https://static.canva.com/static/images/fonts/Vampiro-One@2x.png",url:"https://static.canva.com/static/webfonts/Vampiro%2BOne.css",
I:"VampiroOne-Regular",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/VampiroOne-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/VampiroOne-Regular.ttf",l:"VampiroOne-Regular",u:"https://static.canva.com/static/webfonts/VampiroOne-Regular.woff"}}},{family:"VT323",H:"https://static.canva.com/static/images/fonts/VT323.png",J:"https://static.canva.com/static/images/fonts/VT323@2x.png",url:"https://static.canva.com/static/webfonts/VT323.css",I:"VT323",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/VT323-Regular.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/VT323-Regular.ttf",l:"VT323-Regular",u:"https://static.canva.com/static/webfonts/VT323-Regular.woff"}}},
{family:"Waterlily",H:"https://static.canva.com/static/images/fonts/Waterlily.png",J:"https://static.canva.com/static/images/fonts/Waterlily@2x.png",url:"https://static.canva.com/static/webfonts/Waterlily.css",I:"Waterlily",displayName:"Waterlily",D:{o:!1,bold:!1,v:!1},i:{j:"https://static.canva.com/static/truetypefonts/Waterlily.ttf"},G:{j:{i:"https://static.canva.com/static/truetypefonts/Waterlily.ttf",l:"Waterlily-Regular",u:"https://static.canva.com/static/webfonts/Waterlily.woff"}}}]}];if(Xa)for(var br in ar)if(ar.hasOwnProperty(br))for(var cr in ar[br].fonts)ar[br].fonts.hasOwnProperty(cr)&&(ar[br].fonts[cr].H=ar[br].fonts[cr].J);function dr(a,b,c,d){this.fonts=a;this.tb=b;this.Jw=c;this.Lt=d;this.jp={};this.zj=[];this.np=[];this.Dh=[];this.mp=[];this.Ql=[];this.jn=Date.now();this.Tq=[];this.vn=[]}f=dr.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.trigger=Backbone.Events.trigger;function er(a){return a.vn.filter(function(a){return 0>this.Tq.indexOf(a)},a)}
function fr(){var a=xa,b=gr(hr((new ir).eg(!0).sf(!1).kh(),!1),[jr]);kr(a.tb,b,function(a,b){var e;200===a&&b&&(e=b.media,e=lr(this,e),e.forEach(function(a){0<=mr(this).indexOf(a)&&(this.vn.unshift(a),this.vn=this.vn.slice(0,10))},this))}.bind(a))}function pm(a,b){var c=b&&b.replace?b.replace(/#/gi,"_"):null;if(c)for(var d=0;d<a.fonts.length;d++)for(var e=a.fonts[d],g=0;g<e.fonts.length;g++){var h=e.fonts[g];if(h.name==c||h.family==c)return h.fe=e.fe,h}return null}
function gm(a){a=pm(xa,a);return!(!a||!0!==a.Kx)}function nr(a,b){if(b)for(var c=0;c<a.fonts.length;c++)for(var d=a.fonts[c],e=0;e<d.fonts.length;e++){var g=d.fonts[e];if(g.media&&g.media.id===b.F()&&g.media.version===b.S())return g.fe=d.fe,g}return null}function tm(a){if((a=pm(xa,a))&&a.media)return new xg(a.media.id,a.media.version)}function or(a,b){var c=pm(a,b);return c&&!0===c.D.bold}function pr(a,b){var c=pm(a,b);return c&&!0===c.D.o}function qr(a,b){var c=pm(a,b);return c&&!0===c.D.v}
function um(a,b,c){var d=xa,e=[],g=[];a&&e.push(a);b&&g.push(b);zo(d,e,g,c)}function rr(a,b){sr(xa,[a],b)}function tr(a,b,c){a.np=a.np.concat(b);a.Ql.push({Fd:b,qb:c||$.noop})}
function ur(a){function b(a){var b=!0;0!==a.Fd.filter(function(a){var d;d=c;var k=pm(d,a);d=k?void 0===k.url||0<=d.Dh.indexOf(a):!1;a=0<=c.mp.indexOf(a);if(!d&&!a)return!0;a&&(b=!1);return!1}).length||a.lt||(a.lt=!0,a.qb(b),c.trigger("update"))}var c=a;setTimeout(function(){c.Ql.forEach(b);c.Ql=c.Ql.filter(function(a){return!a.lt})},0)}function vr(a,b){a.Dh=a.Dh.filter(function(a){return 0>b.indexOf(a)});b.forEach(function(b){-1==a.mp.indexOf(b)&&a.mp.push(b)});ur(a)}
function wr(a,b){b.forEach(function(b){-1==a.Dh.indexOf(b)&&a.Dh.push(b)});ur(a)}
f.Aj=function(a){function b(a,b,c,k){k=k.u?"src: url('"+k.u+"') format('woff'); ":k.i?"src: url('"+k.i+"') format('truetype'); ":k.kb?"src: url('"+k.kb+"') format('opentype'); ":void 0;k&&d.insertRule("@font-face {"+("font-family: '"+a+"'; ")+("font-style: "+b+"; ")+("font-weight: "+c+"; ")+k+"}",0)}var c=this,d=function(){var a=$("#fontStylesheet"+c.jn);0===a.length&&(a=$('\x3cstyle id\x3d"fontStylesheet'+c.jn+'"\x3e\x3c/style\x3e'),$("head").append(a));return a.get(0).sheet}();a.Aj&&(b(a.family,
"normal","400",a.G.j),a.D.bold?b(a.family,"normal","700",a.G.bold):b(a.family,"normal","700",a.G.j),a.D.o?b(a.family,"italic","400",a.G.o):b(a.family,"italic","400",a.G.j),a.D.v?b(a.family,"italic","700",a.G.v):a.D.bold?b(a.family,"italic","700",a.G.bold):a.D.o?b(a.family,"italic","700",a.G.o):b(a.family,"italic","700",a.G.j))};
function zo(a,b,c,d){b&&0<b.length?c&&0<c.length?xr(a,b,function(b){b?sr(a,c,d):window.setTimeout(function(){d&&d(!1)},0)}):xr(a,b,d):c&&0<c.length?sr(a,c,d):window.setTimeout(function(){d&&d(!0)},0)}function yr(a,b,c){var d=[],e=[];b.forEach(function(a){var b=Fk(a);a=Hk(b);(b=b.Na())?d.push(ap(b)):a&&e.push(a)});zo(a,d,e,c)}
function dp(a,b,c){function d(a){if(a){var b=m.Lt.Nb(a.F(),a.S());if(b)l.push(h(zr(m,a,b)));else throw Error("Media "+a.F()+","+a.S()+" missing from media map.");}}function e(a){var b=[],d=new Set;a.forEach(function(a){a.media.forEach(function(a){var c=a.F()+","+a.da().S();n.has(c)&&!d.has(c)&&(b.push(a),d.add(c))})});a=lr(m,b).map(h);l=l.concat(a);c(!0,l)}function g(){c(!1,l)}function h(a){return a.family||a.name}function k(a){return null==m.jp[a.F()+","+a.S()]}var l=[],m=a,n=new Set,p=b.filter(function(a){return!nr(m,
a)}).filter(function(a){return!!a});p.forEach(function(a){n.add(a.F()+","+a.S())});if(a.tb){var r=p.filter(k);if(0!==r.length){b=Ar(new Br,r).kh();var q=Cr(a.tb,b);r.forEach(function(a){m.jp[a.F()+","+a.S()]=q})}a=p.map(function(a){return m.jp[a.F()+","+a.S()]});P.all(a).then(e).catch(g)}else a.Lt&&b.forEach(d),window.setTimeout(function(){c(!0,l)},0)}function xr(a,b,c){dp(a,b,function(b,e){b?sr(a,e,c):setTimeout(function(){c(!1)},0)})}
function sr(a,b,c){function d(a,b,c){h.Jw.load({custom:{families:a,urls:b},active:function(){wr(h,c)},inactive:function(){vr(h,c)},timeout:n})}function e(a,b){var c=/^([^:]+)(:.+)?/,d=[];a.forEach(function(a,e){if(void 0!==a&&null!==a){var g=["n4"],h=a.match(c),k=h[1].replace(/[^a-z0-9]/gi,"").toLowerCase();-1<a.indexOf(":")&&(g=h[2].substring(1).split(","));var l=document.querySelector("html"),m=!1;g.forEach(function(a){a="wf-"+k+"-"+a+"-inactive";m=m||l.classList.contains(a)});m&&d.push({family:a,
url:b[e]})}});return d}function g(a){return pm(h,a)}var h=a,k=[],l=[],m={},n=Fl?15E3:6E4,p=_.uniq(b).filter(function(a){return null!==g(a)}),r=p.filter(function(a){var b=0<=h.Dh.indexOf(a);a=void 0===pm(h,a).url;return!(b||a)}),q=r.filter(function(a){return 0>h.np.indexOf(a)}),q=_.uniq(q.map(g));0===_.uniq(r.map(function(a){return pm(h,a).url.replace(/^.+\=/,"")})).length?window.setTimeout(function(){c&&c(!0)},0):(tr(h,p,c),ur(h),q.forEach(function(a){var b;b=["n4"];a.D&&(a.D.o&&b.push("i4"),a.D.bold&&
b.push("n7"),a.D.v&&b.push("i7"));b.sort();if(b=(b=a.D&&(a.D.o||a.D.bold||a.D.v)?a.family+":"+b.join(","):a.family)&&b.replace?b.replace(/#/gi,"_"):null){k.push(b);a.qw&&(m[b]=a.qw);!0===a.Aj?h.Aj(a):l.push(a.url);b=h;var c=$("#fontOverrideStylesheet"+b.jn);0===c.length&&(c=$('\x3cstyle id\x3d"fontOverrideStylesheet'+b.jn+'"\x3e\x3c/style\x3e'),$("head").append(c));b=c.get(0).sheet;a.D&&(!1===a.D.o&&b.insertRule('font[face\x3d"'+a.family+'"] * {font-style: normal !important; }',0),!1===a.D.bold&&
b.insertRule('font[face\x3d"'+a.family+'"] * {font-weight: normal !important; }',0),!1===a.D.v&&(b.insertRule('font[face\x3d"'+a.family+'"] b i {font-weight: normal !important; font-style: normal !important; }',0),b.insertRule('font[face\x3d"'+a.family+'"] i b {font-weight: normal !important; font-style: normal !important; }',0)))}}),0<q.length&&a.Jw.load({custom:{families:k,urls:l,testStrings:m},active:function(){var a=e(k,l),c;0<a.length?(c=_.pluck(a,"family"),a=_.pluck(a,"url"),d(c,a,b)):wr(h,
b)},inactive:function(){d(k,l,b)},timeout:n}))}function mr(a){return Dr(a).filter(function(a){return!a.disabled}).sort(a.Zs)}
f.Zs=function(a,b){var c=a.displayName||a.name||a.family,d=b.displayName||b.name||b.family,e=c.split(/\s/gi),g=d.split(/\s/gi);if(e[0]===g[0]){if(/hairline/gi.test(e[1]))return-1;if(/hairline/gi.test(g[1]))return 1;if(/light/gi.test(e[1])||/thin/gi.test(e[1])||/heavy/gi.test(g[1])||/light/gi.test(e[2])||/thin/gi.test(e[2])||/bold/gi.test(g[3]))return-1;if(/light/gi.test(g[1])||/thin/gi.test(g[1])||/heavy/gi.test(e[1])||/light/gi.test(g[2])||/thin/gi.test(g[2]))return 1}return c.localeCompare(d)};
function Dr(a){var b=[];a.fonts.forEach(function(a){a.fonts.forEach(function(a){b.push(a)})});return b.sort(a.Zs)}function am(a){var b=Dr(xa).filter(function(b){return(b.name||b.family).toLowerCase()==a.toLowerCase()});return 0<b.length?b[0].name||b[0].family:null}
function lr(a,b){return b.map(function(a){var b,e=new xg(a.F(),a.da().S());if(Er(this,e))return nr(this,e);b=a.da();var g=a.F();a=b.Aa()||a.importFilename.replace(/\..*$/,"")||g;var h=b.Sa()[Oc].ca(),k,l,m;/\.ttf/gi.test(h)?k=h:/\.otf/gi.test(h)?l=h:/\.woff/gi.test(h)&&(m=h);b=Fr({displayName:a,fontFamily:g+"_"+b.S(),H:b.Sa()[Tn].ca(),ha:g,ia:b.S(),uw:k,jv:l,Nw:m});this.zj.push(e);Gr(this,b);return b},a)}
function zr(a,b,c){if(Er(a,b)&&nr(a,b))b=nr(a,b),Gr(a,b);else{a.zj.push(b);var d=b.F(),e=b.S(),g=c[Oc].ca(),h,k,l;/\.ttf/gi.test(g)?h=g:/\.otf/gi.test(g)?k=g:/\.woff/gi.test(g)&&(l=g);b=Fr({displayName:d,fontFamily:d+"_"+e,H:c[Tn].ca(),ha:d,ia:b.S(),uw:h,jv:k,Nw:l})}Gr(a,b);return b}function Gr(a,b){var c;(function(){c=a.fonts.filter(function(a){return"Media"===a.sh})[0];return!!c})()?c.fonts.push(b):a.fonts.push({sh:"Media",fe:"sans-serif",fonts:[b]})}
function Er(a,b){for(var c=0;c!==a.zj.length;c++)if(a.zj[c].F()===b.F()&&a.zj[c].S()===b.S())return!0;return!1}function Fr(a){return{family:a.fontFamily,I:a.fontFamily,displayName:a.displayName,disabled:!1,Aj:!0,H:a.H,fG:a.H,media:{id:a.ha,version:a.ia},G:{j:{kb:a.jv,i:a.uw,u:a.Nw,l:a.fontFamily}},url:"#",D:{o:!1,bold:!1,v:!1}}};function Hr(a){this.url=a;this.pe=$("\x3cimg\x3e");this.success=this.loaded=!1;this.bk=[];var b=this;this.pe.one("load",function(){b.pe.off("error");b.Mg(!0)});this.pe.one("error",function(){b.pe.off("load");b.Mg(!1)});Fa(this.pe,a)}function Ir(a){for(var b=0;b<a.bk.length;b++)a.bk[b](a.url,a.success);a.bk.length=0}Hr.prototype.Mg=function(a){this.url=this.pe.attr("src");this.loaded=!0;this.success=a;Ir(this)};function ol(){this.images=Object.create(null)}
function Un(a,b,c){var d=a.images[b];d||(d=new Hr(b),a.images[b]=d);c&&(a=d,a.bk.push(c),a.loaded&&Ir(a))}
function Jr(a){var b=document.createElement("canvas"),c=b.getContext("2d"),d=document.createElement("canvas"),e=d.getContext("2d");b.width=a.naturalWidth;b.height=a.naturalHeight;c.drawImage(a,0,0);c=Math.min(a.naturalWidth,200);d.width=c;d.height=c*a.naturalHeight/a.naturalWidth;e.drawImage(b,0,0,a.naturalWidth,a.naturalHeight,0,0,d.width,d.height);a=d.toDataURL().toString();for(var b=e.getImageData(0,0,d.width,d.height),c=b.data,g=c.length,h=0;h<g;h+=4)c[h]=c[h+1]=c[h+2]=.2126*c[h]+.7152*c[h+1]+
.0722*c[h+2];e.putImageData(b,0,0);d=d.toDataURL().toString();return{color:a,$t:d}}
(function(){var a=document.createElement("a");Fa=function(b,c){function d(){b.attr(h)===c&&(b.one({error:e}),b.attr(h,c+g))}function e(){b.off({error:d})}var g=0>c.indexOf("?")?"?":"\x26",h;if(b&&b.length){h="image"===b.get(0).tagName?"xlink:href":"src";a.href=c;if("data:"==a.protocol||"blob:"==a.protocol||":"==a.protocol||""==a.hostname?0:a.protocol!=window.location.protocol||a.hostname!=window.location.hostname||a.port!=window.location.port)b.attr("crossorigin","anonymous"),b.one({error:d,load:e});
b.attr(h,c)}}})();function Kr(){this.R=va}function Lr(a,b,c,d,e,g){a.R.post("/import/layout/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+(g?"?designType\x3d"+encodeURIComponent(g):""),d,null,function(a){e&&e(a)})}function Mr(a,b,c,d){return td(a.R,"/media/"+encodeURIComponent(b)+"/"+encodeURIComponent(c.toString())+"?import",d).spread(function(a){return Xd(a.media)})}function Nr(a){this.prices=a}function Or(a){var b={};b.ONE_USE=a;return new Nr(b)}var Pr=Or(0);
function Qr(){this.licenseModel=null;this.autoPublicify=!1;this.publicifyMediaRequests=[]}Qr.prototype.vs=function(a){this.licenseModel=a;return this};function Rr(a){a.autoPublicify=!0}function Sr(){this.licenseModel=this.keywords=this.description=this.title=this.version=this.media=void 0}Sr.prototype.mh=function(a){this.version=a;return this};Sr.prototype.Kw=function(a){this.description=a;return this};Sr.prototype.us=function(a){this.keywords=a;return this};
Sr.prototype.vs=function(a){this.licenseModel=a;return this};function Tr(){};function Ur(a,b){this.location=a;this.El=new Dh(b||{})}function Zh(a){return a.El.isValid()?a.El:null};function Vr(a){this.reset();this.L=a}Vr.prototype.reset=function(){this.previous=null;this.hg=[];this.Yd={top:0,left:0}};Vr.prototype.uk=function(){var a=this;Wr();a.hg.forEach(function(b){b={elementIndex:b.V(),pageIndex:T(t,b.T()),"new":{left:b.N(),top:b.K()},old:{left:b.N()-a.Yd.left,top:b.K()-a.Yd.top}};C.register(new V(Th,b))});Xr()};
Vr.prototype.lm=function(){var a=this;return function(b){0<$(document.activeElement).parents(".toolbarMoreGroup *").length||An();a.hg=t.pa();var c=$(b.target);if("true"==c.attr("contenteditable")||c.is("input:focus")||c.is("textarea:focus"))return a.reset(),!0;if(0<$(".dd-container.on").length||b.metaKey||b.ctrlKey)return!0;if(0<a.hg.length){var d=1;b.shiftKey&&(d=10);switch(b.which){case 37:return a.previous=37,a.Yd.left-=1/L*1*d,a.hg.forEach(function(a){a.left-=1/L*1*d;a.Pa()}),Yr(ub(a.L)),!1;case 38:return a.previous=
38,a.Yd.top-=1/L*1*d,a.hg.forEach(function(a){a.top-=1/L*1*d;a.Pa()}),Yr(ub(a.L)),!1;case 39:return a.previous=39,a.Yd.left+=1/L*1*d,a.hg.forEach(function(a){a.left+=1/L*1*d;a.Pa()}),Yr(ub(a.L)),!1;case 40:return a.previous=40,a.Yd.top+=1/L*1*d,a.hg.forEach(function(a){a.top+=1/L*1*d;a.Pa()}),Yr(ub(a.L)),!1}}null!==a.previous&&a.uk();a.reset();return!0}};Vr.prototype.save=function(){var a=this;return function(b){a.previous===b.which&&(a.uk(),a.reset())}};function wl(a){$(document).keydown(Zr);a=new Vr(a);$(document).keydown(a.lm());$(document).keyup(a.save())}
function Zr(a){var b;switch(a.which){case 16:var c=function(a){window.clearTimeout(b);16===a.which&&($(".selectionBox").removeClass("freeResize"),$(document).off("keyup",c))},d=t.pa()[0];d&&0===Sl(d.C())?b=window.setTimeout(function(){$(".selectionBox").addClass("freeResize")},500):$(".selectionBox").addClass("freeResize");$(document).on("keyup",c);break;case 27:a=$("#canvaDocument .element.selected,#canvaDocument .element.multiSelected").length;if(0<$("*:focus").length)$("*:focus").blur();else if(0<
$(".modalContentMask").length)a=$(".modalContentMask"),(d=a.next().children(".dialog").data("Canva_Views_Dialog"))?d.cancel():a.trigger("click");else{if(0<$(".dd-container.on").length)return!0;0<a?M():$(".infoPanel .close").trigger("touchClick")}return!1}if(document.querySelector(".modalContentMask, .mask.editingDefaults, .mask.on, body.blockDocument"))return!0;var d=document.querySelector(".element.text.selected"),e=document.querySelector(".element.text.focused"),g=e,h=document.activeElement,h=h?
h.nodeName.toLowerCase():"";if("input"===h||"textarea"===h)g=!0;if(g&&9===a.which)return!1;if(t.fa().some(function(a){return a.uc}))return!0;if((h=t.pa()[0])&&h.ge&&g&&a.shiftKey&&a.altKey){if(66===a.which)return $r(h),!1;if(187===a.which||171===a.which)return as(h,1),!1;if(189===a.which||173===a.which)return as(h,-1),!1}if(d&&13===a.which&&(a.ctrlKey||a.metaKey))return e?Sm($(d)):bs($(d)),!1;if(g&&h&&h.mw()){if(a.altKey){switch(a.which){case 37:return cs(h,-1),!1;case 39:return cs(h,1),!1;default:h.fg=
void 0}if(a.shiftKey&&81===a.which)return cs(h,0),!1}if(a.shiftKey&&(a.metaKey||a.ctrlKey)){switch(a.which){case 75:$(".textToolbarUppercase a").trigger("click");break;case 76:$(".textToolbarLeft a").trigger("click");break;case 82:$(".textToolbarRight a").trigger("click");break;case 67:$(".textToolbarCenter a").trigger("click")}return!1}}else if(!g){if(a.metaKey||a.ctrlKey)switch(a.which){case 67:return ds(),!1;case 86:return es(),!1;case 71:return a.shiftKey?fs():gs(),!1;case 90:return a.shiftKey?
hs():is(),!1;case 89:return hs(),!1;case 65:return M(),a.shiftKey||js(),!1}if(!a.metaKey&&!a.ctrlKey&&!a.altKey)switch(a.which){case 84:return $("#objectPanel .textControls a[data-style\x3dbody]").trigger("click"),!1}switch(a.which){case 8:case Za["delete"]:return $(".elementToolbarDelete a").trigger("click"),!1;case 191:return $("#search").focus().get(0).select(),!1}}if(a.ctrlKey&&a.altKey&&70===a.which)return ks(),!1;if(a.metaKey||a.ctrlKey){if(a.altKey){if(221===a.which)return ls(1),!1;if(219===
a.which)return ls(-1),!1}switch(a.which){case 221:case 38:if(vi())return $(".elementToolbarForward a").click(),!1;break;case 219:case 40:if(vi())return $(".elementToolbarBackward a").click(),!1;break;case 187:case 61:return $("#zoomIn").trigger("touchClick"),!1;case 189:case 173:return $("#zoomOut").trigger("touchClick"),!1}if(59===a.which||186===a.which)return Ga().toggle(),!1}return!0};function Bl(a){this.R=a}var Tn="THUMBNAIL",Oc="SCREEN",Sn="PRINT",Kc="VECTOR",Ic="RASTER",jr="FONT",ms={wF:"F",BF:"K",FF:"G",IF:"P",JF:"R"},Xm="DOCUMENT",Nc="FACEBOOK",Wm="LAYOUT";function xg(a,b){this.id=a;this.version=b}xg.prototype.F=function(){return this.id};xg.prototype.S=function(){return this.version};function ap(a){return a?$.extend(new xg(a.id,a.version),a):null}function wo(a){return a?a.map(ap):null}function ns(){this.url="";this.height=this.width=0}ns.prototype.ca=function(){return this.url};
ns.prototype.B=function(){return this.height};ns.prototype.A=function(){return this.width};function gj(a){return a?$.extend(new ns,a):null}function os(a,b){this.locale=a;this.text=b}function ps(a){return new os("en_US",a)}os.prototype.yg=function(){return this.text};function qs(a){return a?$.extend(new os(a.locale,a.text),a):null}
function rs(){this.version=0;this.listed=this.restrictedAccess=!1;this.status="PENDING_SUBMISSION";this.rejectionReason=void 0;this.importState="PENDING_IMPORT";this.designType=this.designVersion=this.importMessage=void 0;this.description=this.title=this.artist="";this.recolorable=this.repeating=this.textholder=this.photoholder=this.isolated=this.cutout=this.background=!1;this.superKeywords=[];this.keywords=[];this.files={};this.quality=void 0;this.ageRating=null;this.priceModel={};this.reviewedDate=
this.reviewedBy=this.submittedDate=this.submittedBy=void 0}f=rs.prototype;f.S=function(){return this.version};f.lb=function(){return this.status};f.Ul=function(){return this.designType};f.Aa=function(){return this.title};f.ib=function(){return this.background};f.qe=function(){return this.cutout};f.Uh=function(){return this.repeating};f.re=function(){return this.recolorable};f.wp=function(){return this.superKeywords};f.Te=function(){return this.keywords};f.Sa=function(){return this.files};
function ss(a){return a.priceModel}function ts(){this.importFilename=this.importBucket=this.importKey=this.id="";this.type="PARENT";this.copyright="";this.bundle=new rs;this.deactivated=!1;this.brand="";this.design=this.user=void 0}f=ts.prototype;f.F=function(){return this.id};f.Yb=function(){return this.type};f.da=function(){return this.bundle};f.ea=function(){return this.brand};f.hb=function(){return this.user};
function Xd(a){if(!a)return null;a=$.extend(new ts,a);if(a.bundle){var b;var c=a.bundle;if(c){c=$.extend(new rs,c);c.superKeywords&&(c.superKeywords=c.superKeywords.map(qs));c.keywords&&(c.keywords=c.keywords.map(qs));if(c.files)for(b in c.files)c.files[b]=gj(c.files[b]);b=c}else b=null;a.bundle=b}return a}function us(a){if(!a)return null;for(var b=[],c=0;c<a.length;c++)b.push(Xd(a[c]));return b}function ir(){this.projections=[]}f=ir.prototype;f.zn=function(a){this.brand=a;return this};
f.En=function(a){this.user=a;return this};f.eg=function(a){this.restricted=a;return this};f.Wi=function(a){this.staging=a;return this};f.Lw=function(a){null!=a&&0<a.length&&(this.filename=a);return this};f.Cn=function(a){null!=a&&0<a.length&&(this.ids=a);return this};f.Wk=function(a,b){this.skip=a;this.limit=b;return this};f.sf=function(a){this.deactivated=a;return this};f.kh=function(){this.projections.push("F");return this};function vs(a){a.projections.push("P");return a}
f.us=function(){this.projections.push("K");return this};f.ts=function(){this.projections=Object.keys(ms).map(function(a){return ms[a]});return this};function hr(a,b){a.includeTotal=b;return a}function gr(a,b){a.types=b;return a}function ws(){}ws.prototype.dg=function(a){this.name=a;return this};ws.prototype.eg=function(a){this.restricted=a;return this};ws.prototype.Mw=function(a){this.listed=a;return this};function xs(a,b){a.fileSize=b;return a}function $n(){}
$n.prototype.mh=function(a){this.version=a;return this};$n.prototype.Wi=function(a){this.staging=a;return this};function ys(a){a.projection="";return a}function Br(){this.projections=[]}function Ar(a,b){a.refs=b;return a}Br.prototype.Cn=function(a){this.ids=a;return this};Br.prototype.Wi=function(a){this.staging=a;return this};Br.prototype.ts=function(){this.projections=Object.keys(ms).map(function(a){return ms[a]});return this};Br.prototype.kh=function(){this.projections.push("F");return this};
function zs(){}function As(a){var b=new zs;b.superKeywords=a;return b}zs.prototype.us=function(a){this.keywords=a;return this};zs.prototype.sf=function(a){this.deactivated=a;return this};zs.prototype.Mw=function(a){this.listed=a;return this};
function kr(a,b,c){b="/media?"+("brand"in b?"\x26brand\x3d"+encodeURIComponent(b.brand):"")+("user"in b?"\x26user\x3d"+encodeURIComponent(b.user):"")+("query"in b?"\x26query\x3d"+encodeURIComponent(b.query):"")+("filename"in b?"\x26filename\x3d"+encodeURIComponent(b.filename):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("deactivated"in b?"\x26deactivated\x3d"+encodeURIComponent(b.deactivated):"")+("staging"in
b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+"\x26projection\x3d"+encodeURIComponent(b.projections.join(""))+("includeTotal"in b?"\x26includeTotal\x3d"+encodeURIComponent(b.includeTotal):"")+("types"in b?"\x26types\x3d"+encodeURIComponent(b.types):"")+("skip"in b?"\x26skip\x3d"+encodeURIComponent(b.skip):"")+("limit"in b?"\x26limit\x3d"+encodeURIComponent(b.limit):"");return a.R.get(b,function(a,b){var g=null;200==a&&(g={media:us(b.media),total:b.total});c&&c(a,g)})}
function Bs(a,b){return td(a.R,"/media?"+("name"in b?"\x26file\x3d"+encodeURIComponent(b.name):"")+("restricted"in b?"\x26restricted\x3d"+encodeURIComponent(b.restricted):"")+("listed"in b?"\x26listed\x3d"+encodeURIComponent(b.listed):"")+("fileSize"in b?"\x26fileSize\x3d"+encodeURIComponent(b.fileSize):""),{}).spread(Xd)}
Bl.prototype.Na=function(a,b,c){var d=Object.keys(b).filter(function(a){return"version"!=a}).map(function(a){if("object"!==typeof b[a])return a+"\x3d"+encodeURIComponent(b[a])});a="/media/"+encodeURIComponent(a)+("version"in b?"/"+encodeURIComponent(b.version):"")+(0<d.length?"?"+d.join("\x26"):"");return this.R.get(a,function(a,b){var d=200==a?Xd(b):null;c&&c(a,d)})};function Cs(a,b,c){return new P(function(a,e){this.Na(b,c,function(b,c){ie(b)?a(c):e(b)})}.bind(a))}
function Ds(a,b,c){function d(a){return a.F()+":"+a.S()}b="/media?batch"+("refs"in b?"\x26refs\x3d"+encodeURIComponent(b.refs.map(d).join(",")):"")+("ids"in b?"\x26ids\x3d"+encodeURIComponent(b.ids.join(",")):"")+("staging"in b?"\x26staging\x3d"+encodeURIComponent(b.staging):"")+"\x26projection\x3d"+encodeURIComponent(b.projections.join(""));a.R.get(b,function(a,b){var d=null;200==a&&(d={media:us(b.media)});c&&c(a,d)})}
function Cr(a,b){return new P(function(a,d){Ds(this,b,function(b,g){ie(b)?a(g):d()})}.bind(a))}function Es(a,b,c,d,e){var g="/media/"+encodeURIComponent(b)+"/"+c;d.id=b;d.version=c;a.R.post(g,d,null,function(a,b){var c=200==a?Xd(b):null;e&&e(a,c)})}function Fs(a,b,c,d){Es(a,b,c,(new zs).sf(!0),d)}function Gs(a,b,c){return new P(function(a,e){Fs(this,b,c,function(b,c){ie(b)?a(c):e(b)})}.bind(a))}
Bl.prototype.Hw=P.method(function(a,b){function c(a){return 404===a}function d(){return Cs(h,a,b).catch(c,function(){return null})}function e(){return d().then(function(a){g++;var b;if(b=a)b=a.da().lb(),b="PENDING_SUBMISSION"!=b&&"PENDING_REVIEW"!=b;return b?"APPROVED"===a.da().lb()?a:Promise.reject(a):P.delay(Math.round(3E3*Math.pow(1.6,g))).then(e).cancellable()})}var g=0,h=this;return e().timeout(36E5)});function Hs(a){this.google=a;this.cq=null}
Hs.prototype.search=function(a,b,c){var d=this;return new P(function(e,g){function h(a){d.cq=a;a=a.$l().map(function(a){var b={height:a.Vt(),width:a.Wt(),url:a.zg()},c={height:a.B(),width:a.A(),url:a.ca()};return{id:a.F(),title:a.Aa(),origin:"GOOGLE",files:{THUMBNAIL:b,SCREEN:c}}});e(Is({results:a}))}function k(){e(Is({results:[]}))}if("google"==a.toLowerCase()){if(0<b&&!d.cq)throw Error("Google searches cannot be initialised when the from param is not zero");(0<b?dq(d.cq):d.google.Ml({mb:c?c:50})).then(h).fail(k)}else g("Not handled")})};function Js(a){this.$F=a}Js.prototype.search=function(a,b,c){return new P(function(d,e){function g(a){var b=[];a.forEach(function(a){var c=a.sb(),d=a.Kf(),c={height:c.B(),width:c.A(),url:c.ca()},d={height:d.B(),width:d.A(),url:d.ca()};b.push({id:a.F(),title:a.getName(),origin:Nc,files:{THUMBNAIL:c,SCREEN:d}})});d(Is({results:b}))}function h(){d(Is({results:[]}))}"facebook"==a.toLowerCase()?yc&&yc.$l(b,c).then(g).catch(h):e(Error("Not handled"))})};function Ks(a,b){this.R=a;this.ND=b||[];this.url="/search"}var Ls=["DESIGN"],Ms=[Ic,Kc];
function Ns(a,b,c,d,e,g,h,k,l,m,n){function p(a){var b="";0<a.length&&(b="\x26sort\x3d"+encodeURIComponent(a.map(function(a){return a.uz+":"+a.direction}).join()));return b}b="/search?q\x3d"+encodeURIComponent(c)+(b?"\x26docId\x3d"+encodeURIComponent(b):"")+function(a,b,c){var d="",e=[],g=[],h=[];if(a){var k=[];a.forEach(function(a){a=a.toString().charAt(0);d+=a;k.push(a)});h.push("+type:("+k.join(" ")+")")}b&&Object.keys(b).forEach(function(a){e.push(""+a+":"+b[a]);h.push("+"+a+":"+b[a])});c&&Object.keys(c).forEach(function(a){g.push(""+
a+":"+c[a]);h.push("-"+a+":"+c[a])});a="";d&&(a+="\x26types\x3d"+d);0<e.length&&(a+="\x26includes\x3d"+encodeURIComponent(e.join(",")));0<g.length&&(a+="\x26excludes\x3d"+encodeURIComponent(g.join(",")));0<h.length&&(a+="\x26fq\x3d"+encodeURIComponent(h.join(" ")));return a}(d,e,g)+(h?"\x26suggest\x3d"+encodeURIComponent(h.toString()):"")+(k?p(k):"")+""+(void 0!==m?"\x26limit\x3d"+encodeURIComponent(""+m):"")+(void 0!==l?"\x26from\x3d"+encodeURIComponent(""+l):"")+(n?"\x26translatable\x3dtrue":"");
return wd(a.R,b).get(0).then(Is)}function Os(a,b,c,d,e,g,h,k,l,m){return P.any(a.ND.map(function(a){return a.search(c,l,m)})).catch(function(){return Ns(this,b,c,d,e,g,h,k,l,m)}.bind(a)).cancellable()}function Ps(a,b){td(a.R,a.url+"/click",b).return()};function Qs(){this.searchId="";this.rank=0;this.id="";this.version=0;this.origin="CANVA";this.description=this.title=this.artist=this.group=this.brand=null;this.recolorable=this.repeating=this.cutout=this.background=!1;this.componentMedia=this.oneTimeUseAggregatePriceCents=this.oneTimeUsePriceCents=this.keywords=this.superKeywords=null;this.files={};this.designType=void 0;this.type=null;this.status="APPROVED";this.user=null;this.hj=void 0}f=Qs.prototype;f.Ut=function(){return this.searchId};
f.Tt=function(){return this.rank};f.F=function(){return this.id};f.S=function(){return this.version};f.Xc=function(){return this.origin};f.ea=function(){return this.brand};f.hb=function(){return this.user};f.Aa=function(){return this.title};f.ib=function(){return this.background};f.qe=function(){return this.cutout};f.Uh=function(){return this.repeating};f.re=function(){return this.recolorable};function Rs(a){return a.oneTimeUsePriceCents}f.pp=function(){return this.componentMedia};f.wp=function(){return this.superKeywords};
f.Te=function(){return this.keywords};f.Sa=function(){return this.files};f.Ul=function(){return this.designType};f.Kf=function(a){var b=this,c=this.files.ORIGINAL;c?b.hj?a&&a(b.hj):$.getJSON(c.ca(),function(c){b.hj=c;a&&a(b.hj)}):a&&a(b.hj)};f.zg=function(){return this.Sa()[Tn].url};function Mc(a){if(!a)return null;a=$.extend(new Qs,a);if(a.files)for(var b in a.files)a.files[b]=gj(a.files[b]);a.componentMedia&&(a.componentMedia=wo(a.componentMedia));return a}
function Ss(a,b){a.id=b.F();a.version=b.da().S();a.origin="CANVA"}function Ts(){this.end=this.start=0;this.replacement=this.original=""}Ts.prototype.Kf=function(){return this.original};function Us(a){return a?$.extend(new Ts,a):null}function Vs(){this.overridden=!1;this.replacementQuery=this.originalQuery="";this.replacementHits=this.originalHits=0;this.tokenReplacements=null}function Ws(a){return a.replacementQuery}function Xs(){this.id="";this.totalHits=0;this.results=[];this.suggestion=null}
Xs.prototype.F=function(){return this.id};Xs.prototype.am=function(){return this.results};function Is(a){if(!a)return null;a=$.extend(new Xs,a);a.results&&(a.results=a.results.map(Mc));if(a.suggestion){var b;(b=a.suggestion)?(b=$.extend(new Vs,b),b.tokenReplacements&&(b.tokenReplacements=b.tokenReplacements.map(Us))):b=null;a.suggestion=b}return a}function Ys(){}Ys.prototype.yd=function(){var a=this;return Object.keys(a).map(function(b){if("object"!==typeof a[b])return b+"\x3d"+encodeURIComponent(a[b])}).filter(function(a){return!!a}).join("\x26")};
Ys.prototype.ss=function(a){this.events=a;return this};function Zs(a){a=Object.freeze(D($s,{mediaId:a.F(),rank:a.Tt(),searchId:a.Ut()}));return(new Ys).ss([a])}function $s(){}$s.prototype.Ut=function(){return this.searchId};$s.prototype.Tt=function(){return this.rank};function at(a,b){this.uz=a;this.direction=b};function bt(a,b){this.cache=$.extend({},a,!0);this.tb=b;var c=this;Object.keys(this.cache).forEach(function(a){Object.keys(c.cache[a]).forEach(function(b){var g=+b;Object.keys(c.cache[a][+b]).forEach(function(b){c.cache[a][g][b]=gj(c.cache[a][g][b])})})})}function Uc(a,b,c,d){a.cache[b]=a.cache[b]||{};a.cache[b][c]=a.cache[b][c]||{};for(var e in d)a.cache[b][c][e]=gj(d[e])}bt.prototype.Nb=function(a,b){return ct(this,a,b)?this.cache[a][b]:null};
function ct(a,b,c){return!!a.cache[b]&&!!a.cache[b][c]}function yi(a,b){return!!b&&ct(a,b.F(),b.S())}function dt(a,b){var c=ma;function d(a){a&&a.media&&a.media.forEach(function(a){Uc(e,a.F(),a.da().S(),a.da().Sa())})}var e=c;if(0===a.length)b();else{var g=Ar((new Br).kh(),a);Cr(c.tb,g).then(d).catch($.noop).finally(b)}};var et={1:"TOP-LEFT",2:"TOP-RIGHT",3:"BOTTOM-RIGHT",4:"BOTTOM-LEFT",5:"LEFT-TOP",6:"RIGHT-TOP",7:"RIGHT-BOTTOM",8:"LEFT-BOTTOM"};function ft(){}ft.prototype.getKey=function(){return this.key};function gt(a){return D(ft,a)};function ht(a,b,c){this.fileName=a;this.wt=b;this.gz=c}ht.prototype.getFileName=function(){return this.fileName};function it(){}it=ll.extend();it.prototype.initialize=function(a){this.Ad=a.Ad;ll.prototype.initialize.call(this,{title:"Upload error",content:$(jt(this))})};
function jt(a){var b=a.Ad.wt;switch(b){case 0:return it.$w();case 3:return it.ex();case 1:return it.ax({fileName:a.Ad.getFileName()});case 2:return it.Rw({fileName:a.Ad.getFileName()});case 4:return it.Qw({fileName:a.Ad.getFileName()});case 5:return it.bx({fileName:a.Ad.getFileName()});case 6:return it.Vw({fileName:a.Ad.getFileName(),rejectionReason:kt(a)})}throw new TypeError("Unhandled UploadErrorDetails.ErrorType: "+b);}
function kt(a){a=a.Ad.gz;if(a instanceof ts)return a.da().rejectionReason}it.di=null;it.show=function(a){if(!it.pF(a))return null;var b=new it({Ad:a});b.on("hide",function(){it.di===b&&(it.di=null)});if(it.di)it.di.on("hide",function(){b.show()});else b.show();return it.di=b};it.pF=function(a){if(it.di)switch(a.wt){case 1:case 2:case 4:case 5:case 6:return!1}return!0};it.$w=_.template("\x3cp\x3eYour browser doesn\x26rsquo;t seem to support file uploads.\x3c/p\x3e",null,{variable:"data"});
it.ex=_.template("\x3cp\x3eWe ran into a problem preparing your files for upload.\x3c/p\x3e\x3cp\x3eThis might happen if you tried uploading too many files at once.\x3c/p\x3e",null,{variable:"data"});it.ax=_.template("\x3cp\x3e\x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e isn\x26rsquo;t in a format Canva understands.\x3c/p\x3e\x3cp\x3ePlease choose \x3cb\x3e.jpg\x3c/b\x3e, \x3cb\x3e.png\x3c/b\x3e or \x3cb\x3e.svg\x3c/b\x3e files to upload.\x3c/p\x3e",null,{variable:"data"});
it.Rw=_.template("\x3cp\x3e\x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e is too big to upload. Each file must be under \x3cb\x3e25\x26nbsp;MB\x3c/b\x3e.\x3c/p\x3e",null,{variable:"data"});it.Qw=_.template("\x3cp\x3eAn error occurred while processing \x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e. It looks like the file data might not be readable.\x3c/p\x3e",null,{variable:"data"});
it.bx=_.template('\x3cp\x3e\x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e uses SVG features that Canva doesn\x26rsquo;t support.\x3c/p\x3e\x3cp\x3eFor details on Canva\x26rsquo;s SVG support, please see \x3ca href\x3d"https://support.canva.com/hc/en-us/articles/212920047" target\x3d"_blank"\x3eour Help Center article\x3c/a\x3e.\x3c/p\x3e',null,{variable:"data"});
it.Vw=_.template('\x3c% if (data.rejectionReason) { %\x3e\x3cp\x3eThe server rejected \x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e and responded with the following (possibly cryptic) error message:\x3c/p\x3e\x3cblockquote class\x3d"serverError"\x3e\x3cp\x3e\x3c%- data.rejectionReason %\x3e\x3c/p\x3e\x3c/blockquote\x3e\x3cp\x3eYou\x26rsquo;ll have to fix the problem with this file before trying again, or else choose a different file to upload.\x3c/p\x3e\x3c% } else { %\x3e\x3cp\x3e\x3cb\x3e\x3c%- data.fileName %\x3e\x3c/b\x3e could not be uploaded. This might be because you have logged out, or if Canva\x26rsquo;s servers are unreachable. Please try again later.\x3c/p\x3e\x3c% } %\x3e',null,
{variable:"data"});function lt(a,b,c){this.ec=!1;this.vl=b;this.media=null;this.xe=0;this.Ji=Date.now();this.Ki=!!c;this.GE=a;this.Ad=null}f=lt.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.Hf=function(){return this.vl};f.Na=function(){return this.media};f.zg=function(){return this.GE};f.start=function(a){this.ec||this.media||(this.media=a,this.trigger("start",this))};f.update=function(a){this.ec||(this.xe=100*Math.max(0,Math.min(a,1)),this.trigger("update",this))};
f.complete=function(){this.ec||(this.ec=!0,this.xe=100,this.trigger("complete",this))};f.fail=function(a){this.ec||(this.ec=!0,this.media=null,this.Ad=a,this.trigger("fail",this))};function Vc(){this.Zn=!1;this.cp=this.ec=0;this.id=void 0;this.qv=[];this.Gr=0}f=Vc.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;f.Bn=function(a){this.id=a;return this};f.F=function(){return this.id};f.Zl=function(){return this.qv};
f.create=function(a,b,c,d){function e(){k.trigger("start",l)}function g(){l.off("start",e);l.off("complete",g);l.off("fail",h);k.ec++;k.Zn&&k.ec+k.Gr===k.cp&&k.complete()}function h(){k.fail(l.Ad);g()}var k=this,l=new lt(a,c,d);l.on("start",e);l.on("complete",g);l.on("fail",h);this.qv.push(l);this.trigger("create");return l};f.init=function(a){a()};f.sync=function(){this.trigger("sync")};f.nu=function(){this.Zn=!0;this.cp++};f.Od=function(){this.Gr++};
f.complete=function(){this.ec=this.Gr=this.cp=0;this.Zn=!1;this.trigger("complete")};f.fail=function(a){this.trigger("fail",a)};function mt(){this.fi={}}_.extend(mt.prototype,Backbone.Events);mt.prototype.off=Backbone.Events.on;mt.prototype.on=Backbone.Events.on;mt.prototype.trigger=Backbone.Events.trigger;mt.prototype.Zl=function(a){return 0<=Object.keys(this.fi).indexOf(a)?this.fi[a].Zl():[]};
function nt(a,b){var c=Object.keys(a.fi).map(a.Zl,a).reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return a.Ji>=b});if(c.every(function(a){return a.ec}))return 100;var d=c.reduce(function(a,b){return a+(b.ec&&!b.media?100:b.xe)},0);return Math.min(100*d/(100*c.length),99)};function ot(a){this.mj=this.Rj=this.cm=this.bm=0;this.Qf=a;this.iv=Db(a);$("#normalUploads .uploadButtonAndMessage .fileUploadButton").hasClass("buttonMarketplace")&&(this.iv=Eb(a))}f=ot.prototype;
f.create=function(a,b,c,d){function e(){var c=v.Na(),e=$("\x3cimg\x3e"),g=$("\x3cimg\x3e"),h=_.after(2,function(){var a=new K(0,0,p,r);id(a,new K(0,0,200,200));e.attr("width",a.A()).attr("height",a.B()).attr("data-screen-width",p).attr("data-screen-height",r).attr("data-media-id",c.F()).attr("data-media-version",c.da().S());d&&e.addClass("svg");pt(n,e);q.insertAfter(e);a=new Qs;a.id=c.F();a.version=c.da().S();var b=e.parent().closest("li"),g=$('\x3cspan class\x3d"info"\x3e\x3cspan class\x3d"moreInfo" title\x3d"Show more info"\x3ei\x3c/span\x3e\x3c/span\x3e');
b.data("result",a);b.find("a").append(g)});e.one("load",h);g.one("load",h);e.attr("src",a);g.attr("src",b);g.appendTo(q)}function g(){var a=q.find("img"),b=v.xe,c=100-b;q.css("width",c+"%").css("left",b+"%");a.css("width",1E4/c+"%").css("left",-100*b/c+"%")}function h(){q.remove();m.cm++;qt(m);l()}function k(){m.cm++;qt(m);l();window.setTimeout(function(){q.parent().parent().remove();Il(n)},1E3)}function l(){v.off("start",e);v.off("update",g);v.off("complete",h);v.off("fail",k)}var m=this,n=$(".inlineFolderGroup .photoGallery",
"#normalUploads"),p=c.width,r=c.height,q=$('\x3cdiv class\x3d"uploadProgress"\x3e\x3c/div\x3e'),v=new lt(a,c,d);v.on("start",e);v.on("update",g);v.on("complete",h);v.on("fail",k);qt(this);return v};
f.init=function(a){function b(a,b){$(a,"#resultsUpload").trigger("mousedown");window.setTimeout(function(){b()},360)}function c(){$("a.marketplace","#resultsUpload").trigger("mousedown");var b=window.setInterval(function(){0<g.find(".inlineFolderGroup.fetched").length&&(window.clearInterval(b),h=g.find(".inlineFolderGroup"),0<h.find(".noResults").length&&e(),a())},200)}function d(){$("a.uploads","#resultsUpload").trigger("mousedown");var b=window.setInterval(function(){0<g.find(".inlineFolderGroup.fetched").length&&
(window.clearInterval(b),h=g.find(".inlineFolderGroup"),0<h.find(".noResults").length&&e(),a())},200)}function e(){k=$('\x3cdiv class\x3d"gallery infoPanelGallery photoGallery laidOut"\x3e\x3c/div\x3e');h.append(k);h.find(".noResults").remove()}var g=$("#normalUploads"),h=g.find(".inlineFolderGroup"),k=h.find(".photoGallery"),l=0<h.length&&0<g.find("li.folderExpanded a.uploads").length,m=0<h.length&&0<g.find("li.folderExpanded a.facebook").length,n=0<h.length&&0<g.find("li.folderExpanded a.marketplace").length;
rt()?n&&0<h.find(".noResults").length?(e(),a()):n?a():m?b("a.facebook",c):l?b("a.uploads",c):c():l&&0<h.find(".noResults").length?(e(),a()):l?a():m?b("a.facebook",d):n?b("a.marketplace",d):d()};f.sync=function(){qt(this)};f.nu=function(){this.bm++};
f.Od=function(){var a=this;this.Rj++;$("#normalUploads .fileUploadButton").addClass("disabled").text("Skipped "+this.Rj+" unsupported file"+(1<this.Rj?"s":""));0!==this.mj&&window.clearTimeout(this.mj);this.mj=window.setTimeout(function(){a.mj=0;qt(a)},500)};f.complete=function(){this.Rj=this.cm=this.bm=0;qt(this)};f.fail=function(a){a&&it.show(a)};
function qt(a){if(0===a.mj){var b=a.cm+a.Rj;b<a.bm?$("#normalUploads .fileUploadButton").addClass("disabled").text("Uploading file "+(b+1)+" of "+a.bm):$("#normalUploads .fileUploadButton").removeClass("disabled").text(a.iv)}};function Wc(a,b,c,d){this.source=a;this.fv=c;this.listener=d||new ot(b)}function st(a,b,c,d,e,g,h,k,l){var m=!1,n=a.listener.create(d,e,g,h);tt(b,c,d,function(a,b){m||(m=!0,n.start(a));n.update(b)},k,l).then(function(){n.complete();a.fv&&a.fv(n.Na())},function(a){n.fail(new ht(b.name||"Unnamed File",6,a))})}
function ut(a,b){var c=new Image;$(c).one("load",function(){for(var d=Jr(c),e={width:c.naturalWidth,height:c.naturalHeight},g=window.atob(b.substr(22)),h=g.length,k=Math.ceil(h/1024),l=Array(k),m=0;m<k;++m){for(var n=1024*m,p=Math.min(n+1024,h),r=Array(p-n),q=0;n<p;++q,++n)r[q]=g[n].charCodeAt(0);l[m]=new Uint8Array(r)}g=new Blob(l,{type:"image/png"});g.name="generated_file_"+Date.now()+".png";g.type="image/png";g.constructor=File;st(a,g,b,d.color,d.$t,e,!1,!0)});$("#limbo").append($(c));c.src=b}
Wc.prototype.upload=function(a,b,c){var d=this;this.listener.init(function(){function e(a,b,c){var d=$("\x3cimg\x3e");d.one("load",function(){var b;b=d.get(0);var e=document.createElement("canvas"),h=b.naturalWidth,k=b.naturalHeight;-1<[et[5],et[6],et[7],et[8]].indexOf(c)?(e.width=k,e.height=h):(e.width=h,e.height=k);var l=e.getContext("2d");switch(c){case et[2]:l.translate(h,0);l.scale(-1,1);break;case et[3]:l.translate(h,k);l.rotate(Math.PI);break;case et[4]:l.translate(0,k);l.scale(1,-1);break;
case et[5]:l.rotate(.5*Math.PI);l.scale(1,-1);break;case et[6]:l.rotate(.5*Math.PI);l.translate(0,-k);break;case et[7]:l.rotate(.5*Math.PI);l.translate(h,-k);l.scale(-1,1);break;case et[8]:l.rotate(-.5*Math.PI),l.translate(-h,0)}l.drawImage(b,0,0,h,k);b=e.toDataURL("image/jpeg",.92);g(a,b)});d.attr("src",b)}function g(a,b){var c=b.slice(b.indexOf(",")+1),d=h(c);d.name=a;d.type="image/jpeg";var e=$("\x3cimg\x3e");e.attr("src",b);e.one("load",function(){l(d,e.get(0),b)})}function h(a){a=window.atob(a);
for(var b=a.length,c=Math.ceil(b/1024),d=Array(c),e=0;e<c;++e){for(var g=1024*e,h=Math.min(g+1024,b),k=Array(h-g),l=0;g<h;++l,++g)k[l]=a[g].charCodeAt(0);d[e]=new Uint8Array(k)}return new Blob(d,{type:"image/jpeg"})}function k(a,b){function c(){window.URL.revokeObjectURL(g);e=null;h.off("load");h.off("error")}var e=n[a],g=window.URL.createObjectURL(e),h=$("\x3cimg\x3e");h.on("load",function(){l(e,h.get(0),b);c()});h.on("error",function(){d.listener.fail(new ht(a,4));d.listener.Od();c();m()});h.attr("src",
g)}function l(a,e,g){var h=Jr(e);st(d,a,g,h.color,h.$t,{width:e.naturalWidth,height:e.naturalHeight},!1,!c,b);window.setTimeout(m,600)}function m(){v++;v<q?r.postMessage({next:!0}):d.listener.sync()}if(window.URL){for(var n={},p=[],r=new Worker("/static/r/zwitser/immovable/js/x9zITKdAvhuJA9i2mpYYlQ.js"),q=0,v=0,w=0;w<a.length;w++){var x=a[w],y=x.name,z=x.type,G=x.size;d.listener.nu();var A;a:{switch(z){case "image/jpeg":case "image/png":case "image/raw":case "image/svg+xml":case "image/x-fuji-raf":A=!0;break a}A=!1}if(A)if(26214400<
G)d.listener.fail(new ht(y,2)),d.listener.Od();else{if("image/jpeg"===z||"image/png"===z)n[y]=x;p.push(x);q++}else d.listener.fail(new ht(y,1)),d.listener.Od()}d.listener.sync();if(0===q)d.listener.complete();else{r.onmessage=function(a){var h=JSON.parse(a.data);if("error"===h.status)d.listener.fail(new ht(h.fileName,4)),d.listener.Od(),m();else if("exifRotated"===h.specialFile)e(h.fileName,h.imageData,h.orientation);else if("raw"===h.specialFile)g(h.fileName,h.imageData);else if(h.svgText)if(a=h.fileName,
h=h.svgText,no(h)){a=(new vt(h)).Lw(a);a.source=wt(a.source);a.source=xt(a.source);a.source=yt(a.source);a.viewBox=zt(a.source);h=new Blob([a.source],{type:"image/svg+xml"});h.name=a.filename;h.type="image/svg+xml";h.constructor=File;var l="data:image/svg+xml;base64,"+window.btoa(a.source);st(d,h,l,l,l,{width:a.viewBox[2],height:a.viewBox[3]},!0,!c,b);window.setTimeout(m,600)}else d.listener.fail(new ht(a,5)),d.listener.Od(),m();else k(h.fileName,h.imageData)};try{r.postMessage(p)}catch(B){d.listener.fail(new ht(null,
3));d.listener.complete();return}F&&(F.track("image_upload",{source:d.source,quantity:q}),F.increment("uploads_"+d.source,q))}}else d.listener.fail(new ht(null,0)),d.listener.complete()})};function At(a,b,c,d,e){this.R=a;this.Fw=e;this.media=b;this.Rb=c;this.te=d;this.Li={};this.Pi=[]}At.prototype.Nb=function(a,b){return this.te.Nb(a,b)||this.Li[a]||null};function Bt(a,b){var c={};return b.filter(function(a){if(!a)return!1;var b=a.F();a=a.S();if(this.Nb(b,a))return!1;b=b+":"+a;return c[b]?!1:c[b]=!0},a)}function Sc(a,b){var c=b.F();if(!a.Li[c]){var d=b.Sa();a.Li[c]={SCREEN:gj(d[Oc]),THUMBNAIL:gj(d[Tn])}}}
function Gc(a,b,c){var d=b.Xc();if(d!==Nc&&"GOOGLE"!==d)throw Error('Cannot upload media with origin "'+d+'"');var e,g=b.F(),h=Ct(b),d=(new ws).dg(h.filename).eg(!0);a.Pi.push(g);Bs(a.media,d).then(function(b){var c=b.da();a.Li[b.F()]=c&&c.Sa();e=b;a:switch(h.origin){case Nc:case "GOOGLE":b=new Dt(h.id,Ha,b,h.ED);break a;default:throw Error(h.origin+" is unsupported");}return a.Fw.upload(b)}).then(function(){var b=(new $n).mh(e.da().S()).Wi(!0);return a.media.Hw(e.F(),b)}).then(function(c){var d=
b.S();Ss(b,c);Uc(a.te,c.F(),c.da().S(),c.da().Sa());Et({mediaId:g,mediaVersion:d},{mediaId:c.F(),mediaVersion:c.da().S()});wi(t).forEach(function(a){var b=a.Gc();b&&b.F()===g&&a.Bi(c.F(),c.da().S())});Ft();return c}).catch(function(b){c.wn(a.te);Ft();return Promise.reject(b)}).finally(a.jw.bind(a,g))}
function tt(a,b,c,d,e,g){var h=ua,k=a.name.replace(/\$/g,"_"),l=_.uniqueId("file_");e=xs((new ws).dg(k).eg(e).Mw(!1),a.size);h.Pi.push(l);return Bs(h.media,e).then(function(e){function k(){return l(r,c,Tn)}function l(a,b,c){return new P(function(d,e){var g,h;a[c]=h=gj({url:b});g=document.createElement("img");g.onerror=function(){e(Error("Cannot get dimensions of image"))};g.onload=function(){h.width=g.naturalWidth;h.height=g.naturalHeight;d()};g.src=b})}var r={};return k().then(function(){return l(r,
b,Oc)}).then(k).then(function(){var b=r[Oc];if(0===b.A()||0===b.B())return P.reject();h.Li[e.F()]=r;b=new Gt({file:a,Ol:g,id:_.uniqueId("file_"),media:e,Rb:h.Rb});!0===$("#fileUpload").data("marketplacePaidMedia")&&(b.Eq=!0);b.Uq.push(d);return h.Fw.upload(b)})}).then(function(a){var b=(new $n).mh(a.da().S()).Wi(!0);return h.media.Hw(a.F(),b)}).then(function(a){Uc(h.te,a.F(),a.da().S(),a.da().Sa());Ft();return P.resolve(a)}).catch(function(a){return Promise.reject(a)}).finally(h.jw.bind(h,l))}
At.prototype.jw=function(a){a=this.Pi.indexOf(a);-1!=a&&this.Pi.splice(a,1)};function Ft(){t.trigger("change")}function Ht(a){function b(a){var g=a.mediaId,h=a.mediaVersion;void 0!==g&&void 0!==h&&null!==g&&null!==h&&(ct(d.te,g,h)?0:g in d.Li)&&(delete a.mediaId,delete a.mediaVersion);Object.keys(a).forEach(function(d){d=a[d];d instanceof Array?d.filter(c).forEach(function(a){b(a)}):d instanceof Object&&b(d)})}function c(a){return a instanceof Object}var d=ua;b(a)};function It(a,b,c,d){this.id=a;this.origin=b;this.ED=c;this.filename=d}function Ct(a){var b=a.Xc();switch(b){case Nc:var b=a.Sa()[Oc].url,c=b.match(/.*(\.\w+)/)[1];return new It(a.F(),a.Xc(),b,a.F()+c);case "GOOGLE":return new It(a.F(),a.Xc(),a.Sa()[Oc].url,a.Aa());default:throw Error('Cannot create temporary media for origin "'+b+'"');}};function Jt(){this.queue=[];this.Bk={};this.gs={};this.yo=null}Jt.prototype.upload=function(a){function b(){var b=new P(function(b,d){var e={request:a,resolve:b,reject:d};c.queue.push(e);var l=a.F(),m=c.Bk[l];m||(m=[]);m.push(e);c.Bk[l]=m});Kt(c);return b}var c=this,d=this.gs[a.F()];return d?P.resolve(d):P.resolve().then(b)};function Kt(a){if(!a.yo&&0<a.queue.length){var b=a.queue.shift();a.yo=b;Lt(a,b)}}
function Lt(a,b){var c=b.request.F();Mt(b.request).then(function(b){a.gs[c]=b}).then(function(){var b=a.Bk[c],e=a.gs[c];if(!e)throw Error("Could not find media reference for uploaded item");b&&b.forEach(function(a){a.resolve(e)})}).catch(function(){var b=a.Bk[c];b&&b.forEach(function(a){a.reject()})}).finally(function(){delete a.Bk[c]}).finally(a.tA.bind(a))}
function Mt(a){return new P(function(b,c){function d(h){7>e&&h===Nt?(e++,g+=200,Promise.delay(g).then(a.send.bind(a)).then(b).catch(d)):c(h)}var e=0,g=500;a.send().then(b).catch(d)})}Jt.prototype.tA=function(){this.yo=null;Kt(this)};function Ot(a,b){this.id=a;this.media=b;this.Uq=[]}var Nt=Error("Canva is too busy to process your upload at this time. Please try again later.");Ot.prototype.F=function(){return this.id};Ot.prototype.send=function(){return P.reject("Not implemented")};Ot.prototype.EC=function(a){if(a.lengthComputable){a=a.loaded/a.total;for(var b=0;b<this.Uq.length;b++)this.Uq[b](this.media,a)}};function Gt(a){Ot.call(this,a.id,a.media);this.file=a.file;this.Ol=a.Ol;this.Rb=a.Rb;this.Eq=void 0}Gt.prototype=Object.create(Ot.prototype);Gt.prototype.constructor=Gt;
Gt.prototype.send=P.method(function(){var a=this,b=a.file.type||(/\.ttf$/.test(a.file.name)?"application/x-font-truetype":/\.otf$/.test(a.file.name)?"application/x-font-otf":/\.woff$/.test(a.file.name)?"application/font-woff":a.file.type);return wd(this.Rb.R,"/media/"+encodeURIComponent(this.media.id)+"/"+encodeURIComponent(this.media.da().S().toString())+"?form\x26mimeType\x3d"+encodeURIComponent(b)).spread(gt).then(function(c){return Pt({ix:c.awsAccessKeyId,file:a.file,iA:b,key:c.getKey(),XC:c.policy,
progress:a.EC.bind(a),oE:c.signature,url:c.postUrl})}).then(function(c){var d=new Tr;d.importVersion=c;d.mimeType=b;d.isPaid=!0===a.Eq;a.Ol&&(d.folderKey=a.Ol);return Mr(a.Rb,a.media.id,a.media.da().S(),d)}).catch(this.rD.bind(this))});
Gt.prototype.rD=function(){throw Error("Unfortunately your upload failed :(\n\nPlease ensure that:\n   - the size of the image is under 25MB;\n   - the image is a .png, .jpg or .svg file;\n   - the image uses an RGB color model (i.e. not CMYK); and,\n   - you have a stable internet connection.\n\nIf you feel that you have met the above criteria and the image is still failing to upload, please let the team know by emailing support@canva.com");};function Dt(a,b,c,d){Ot.call(this,a,c);this.Rb=b;this.url=d}Dt.prototype=Object.create(Ot.prototype);Dt.prototype.constructor=Dt;Dt.prototype.send=P.method(function(){var a=this;return td(this.Rb.R,"/media/"+encodeURIComponent(this.media.F())+"/"+encodeURIComponent(this.media.da().S().toString())+"?upload",{url:this.url}).then(function(){return a.media}).catch(function(a){throw 429===a[1]?Nt:Error();})});function tl(a){function b(a,b,c){c||b.forEach(function(a){a.F&&a.S&&a.Sa&&("CANVA"==a.Xc()?Uc(ma,a.F(),a.S(),a.Sa()):Sc(ua,a))})}var c=$("#objectPanel"),d=new nd(window.viewConfig),e=Yk(),g=e.user,h=al(e).ea(),k=a.L;yr(xa,function(){var a=zk(bl(al(e))||wk({}));return a&&a[0]?Ck(a[0])||[]:[]}(),function(){var a=new Qt({model:t,Ka:bl(al(e)),L:k});$("#resultsText \x3e .layer \x3e .inner").prepend(a.el)});new Rt({Ja:h.Gd(),Kb:h.F(),ng:function(a){return new St(a)},el:"#resultsLayout",Fg:"Safari"===(new UAParser).getResult().browser.name,
fA:pd(d),model:t,Cr:!!wa.Ma.get(fc),Ik:wa.ul(),Ea:g.F(),L:k});(new Tt({el:"#resultsSearch",L:k})).on("results:didFetch",b);(new Ut({el:"#resultsElements",L:k})).on("results:didFetch",b);var l;if(wa.Ma.get(hc)){h=new sd(va);d=new mt;l=new Ac({Fa:t,te:ma,tb:sa,Hb:h,qn:ua,wb:d,Qf:ob(k)});var m;a:{try{m=ch(bl(al(e)).Gd());break a}catch(n){}m=void 0}g=new Vt({Ja:m,wa:l,tj:!!wa.Ma.get(rc),Vy:new Wt($(window)),nd:yc,xa:wa,Hb:h,tb:sa,L:k,ad:ta,Ea:g.F(),wb:d});g.render().oc().replaceAll("#normalUploads");
g.show();(new Xt({root:$("#objectPanel menu .uploads"),wb:d})).start()}else g=new Yt({el:"#resultsUpload",L:k}),g.on("results:didFetch",b);Zt(bl(al(e)),sb(k));$t(k);Il();c.children("menu").find("a").on("touchClick",function(){au.call(this,k)});(new S("#objectPanel")).on("mousedown+touchstart",".templateGallery a",bu);c.on("touchClick",".backgroundGallery a",cu);(new S("#objectPanel")).on("mousedown+touchstart",".backgroundGallery *:not(.static) a",du);c.on("click",".backgroundGallery a",!1);c.on("touchClick",
".infoPanelGallery .info .moreInfo",function(){eu.call(this,k)});c.on("touchClick",".infoPanelGallery .info .superKeyword",fu);if(wa.Ma.get(dc))c.on("touchClick",".searchSuggestion a",function(){var a=$(this).data("query");$("#search").val(a);Z=null;gu(k,!1)});wa.Ma.get(bc)&&c.addClass("showMarketplacePublishing");(new S("#objectPanel")).on("mousedown+touchstart",".photoGallery:not(.gridGallery):not(.albumGallery) a",hu);c.on("click",".photoGallery:not(.gridGallery):not(.albumGallery) a",!1);(new S("#objectPanel")).on("mousedown+touchstart",
".gridGallery a",iu);$("#fileUpload").on("change",ju);yc&&yc.init(function(a){Xp(a).catch(function(){})});$(".results.infinite:not(#resultsSearch):not(#resultsUpload):not(#resultsLayout) \x3e .layer").on("scroll",ku);$("#search").on("focus",lu);$("#someoneElseEditing").find("a").on("touchClick",mu);$("#inReview").find("a").on("touchClick",nu);c.find(".scrollPane").each(function(){new gh($(this))});ou(c,a.El,k)}
function ou(a,b,c){function d(b){var d=b.param;"folder"===b.action?e(d):"search"===b.action?g(d):"tab"===b.action&&((b=a.find("menu ."+d+" a").get(0))?au.call(b,c):h())}function e(b){var d=$("#resultsSearch").find('a[data-query\x3d"'+b+'"]');b=a.find("menu .search a").get(0);0<d.length?(au.call(b,c),window.setTimeout(function(){d.trigger("mousedown")},500)):h()}function g(b){window.setTimeout(function(){a.find("#search").val(b);gu(c)},500)}function h(){var a=$("#objectPanel").find("menu .on a").get(0);
au.call(a,c)}b?d(b):h()}
function Zt(a,b){function c(){var a=l;a.view&&(a.stopListening(a.view),a.view.remove());a.view=a.ql();a.view.render().$el.appendTo(h)}function d(a){0===$(a.target).closest(".colorPicker, .colorPaletteSwatch").length&&e()}function e(){l.Uf();Xg(l);$(document).off("mousedown",d)}var g=$("#resultsBackground"),h=$(".colorControls",g),k=pu(),l=new Rg({$c:t,Ka:a,Ny:!0,Fe:b});l.on("showPicker",function(){$(document).on("mousedown",d)});l.on("updateColor",k.select);l.on("confirmColor",k.confirm);c();l.listenTo(t,
"change",c);l.listenTo(E,"elementLoaded:svg",c);l.listenTo(t,"page:change:selected",e);l.listenTo(C,"beforeOperationStackPop",e);g.find(".layer").on("scroll",e)}function lu(){var a=this;"resultsSearch"!==qu().attr("id")&&$("#objectPanel").find("menu .search a").trigger("click");window.setTimeout(function(){a.select()},20)}
function au(a){function b(a){var b=$(a);a=0===b.find(".gallery li:not(.static)").length;b=0<b.find(".searchLoader").length;return a&&!b}function c(a,b,c){a=$(a);var d=a.find("\x3e .layer \x3e .inner \x3e .searchGroup").first(),e=d.parent(".layer");ru();e.find(".searchError").remove();su(d);d.height(a.height());Z=new tu(b,Ms,null,null,!1,null,uu(a,a.height()),function(){vu(c)});d.data("search",Z);vu(c);Ja=!0}var d=$(this).parents("menu"),e=$("li",d),g=$(this).parents("li"),h=e.index(d.find("li.on"))+
1,k=g.index()+1,l=$("#objectPanel"),d="#"+l.find(".content \x3e .results").get(k-1).id,m=l.get(0).className,m=m.replace(/(^| )stage[^ ]+/g,"");l.get(0).className=m;l.addClass("stage"+k);e.removeClass("on");g.addClass("on");e=qu();g.hasClass("search")&&$("#search").focus();h==k&&e.children(".layer").first().animate({scrollTop:0},600);g=$("#results"+h+" \x3e .layer");wu(g);"#resultsLayout"==d&&b(d)&&(h=$("#resultsLayout"),g=h.data("view"),h=uu(h,h.height()),g.Cc(h));"#resultsText"==d&&b(d)&&c(d,"text",
a);"#resultsBackground"==d&&b(d)&&c(d,"backgrounds",a);(a=e.children(".layer").last().find(".searchGroup").last().data("search"))&&Z&&"facebook"!=Z.query.toLowerCase().trim()&&(Z=a);return!1}
function bu(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.touches[0].clientY;var c=4<Math.abs(a-l),c=4<Math.abs(b-k)||c;null==h&&c&&(h=e.lj(),$("#content").append(h),d.css("opacity",0),$("#search").blur(),Au(h,Bu(m)));null!=h&&(a=g.top+a-l,h.css("left",g.left+b-k).css("top",a));return!1}function c(){function a(){$(this).remove();d.css("opacity","")}$("#hotspots").remove();m.off("mousemove|touchmove",b).off("mouseup|touchend",c);d.removeClass("pickedUp");
null==h||h.hasClass("disappeared")||h.hasClass("placing")?(h&&h.remove(),d.animate({opacity:1},300)):(g=d.offset(),h.addClass("returning"),h.one("transitionend",a).css("left",g.left).css("top",g.top))}if($(a.target).hasClass("moreInfo")||$(a.target).hasClass("superKeyword")||3==a.which||a.ctrlKey)return!0;var d=$(this);d.addClass("pickedUp");var e=d.parents("li").data("view"),g=d.offset(),h=null,k=void 0!==a.clientX?a.clientX:a.touches[0].clientX,l=void 0!==a.clientY?a.clientY:a.touches[0].clientY,
m=new S($(document));m.on("mousemove|touchmove",b).on("mouseup|touchend",c);return!1}
function pu(){var a=!1,b,c,d;return{select:function(e){M();var g=I(t);b=b||qi(g)[0];d={index:0,color:e.X()};a||(Wr(),a=!0);b&&!Wn(b)&&(Cu(b),b.remove(),b=null);b?(g=b.Vc()[0],c={index:0,color:g?g.X():"#ffffff"},b.yi(0,e)):(e={type:"image",isBackground:!0,isRecolorable:!0,backgroundColor:d.color},_.extend(e,g.ba().serialize()),b=Cc(e),b.appendTo(g),c=d,Fc(b))},confirm:function(){if(b&&b.T()){var e={elementIndex:b.V(),pageIndex:b.T().V(),"new":d,old:c};C.register(new V(Du,e))}a&&(Xr(),a=!1);b=null}}}
function cu(a){if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;M();a=$(a.currentTarget).parents("li")[0];a=$(a);Eu(a);a=a.data("result");Ps(La,Zs(a));return!1}
function du(a){function b(a){var b=void 0!==a.clientX?a.clientX:a.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.touches[0].clientY;if(null==m&&(4<=Math.abs(b-n)||4<Math.abs(a-p))){m=$('\x3cdiv class\x3d"clone bg"\x3e\x3c/div\x3e');g.Uh()&&m.addClass("patterned");var c=$("img",d).clone(!0).off(""),x=parseInt(c.attr("width"),10),y=parseInt(c.attr("height"),10);x<y?c.css("width",k).css("height",c.height()):c.css("width",c.width()).css("height",k);m.data("li",e).append(c).css("left",h.left).css("top",
h.top).css("width",k).css("height",l).css("background-color",e.data("color"));$("#content").append(m);d.css("opacity",0);$("#search").blur();Au(m,Bu(r))}null!=m&&(a=h.top+a-p,m.css("left",h.left+b-n).css("top",a));return!1}function c(){function a(){$(this).remove();d.css("opacity","")}$("#hotspots").remove();r.off("mousemove|touchmove",b).off("mouseup|touchend",c);d.removeClass("pickedUp");null==m||m.hasClass("disappeared")?(m&&m.remove(),d.animate({opacity:1},300)):(h=d.offset(),m.addClass("returning"),
m.one("transitionend",a).css("left",h.left).css("top",h.top))}if(3==a.which||a.ctrlKey)return!0;if($(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;var d=$(this);d.addClass("pickedUp");var e=d.parents("li"),g=e.data("result"),h=d.offset(),k=d.width(),l=d.height(),m=null,n=void 0!==a.clientX?a.clientX:a.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.touches[0].clientY,r=new S($(document));r.on("mousemove|touchmove",b).on("mouseup|touchend",c);return!1}
function Eu(a){var b=I(t),c=qi(b);0<c.length&&c[c.length-1].C().clone().removeClass("appearing").appendTo(b.C().children(".elements")).delay(480,function(){$(this).remove()});Wr();c.forEach(function(a){var c={elementIndex:a.V(),pageIndex:T(t,b)};Zn(a);C.register(new V(Fu,c));Cu(a);a.remove()});a=$("img",a);a=Cc(Gu(a));var c=b.ba(),d=a.ba();hg(d,c);a.ob(d);b.addElement(a,!1,!0);Fc(a);c=a.V();ri(a);a={elementIndex:a.V(),oldElementIndex:c,pageIndex:T(t,b)};C.register(new V(Hu,a));Xr()}
function Il(a,b,c){function d(a){var b=0,c=0,d=a.width(),e=parseFloat(a.find("a").css("margin-right")),b=a.data("layoutItem"),c=a.data("designItem"),n=a.data("searchResult");if(b)c=b.Re(),b=c.width,c=c.height;else if(c)c=c.je().content.pages,b=c[0].width,c=c[0].height;else{c=n.Sa().ORIGINAL;if(!c)return d;b=c.A();c=c.B()}return 80>(d-e)*c/b?Number(a.parent().width()):d}void 0===b&&(b=!0);void 0===a&&(a=$("#objectPanel .photoGallery, #objectPanel .infoPanelGallery"));var e=a.filter(".gridGallery");
a=a.not(e);Iu(e);a.each(function(){var a=$(this),e=a.children("li"),k=a.hasClass("backgroundGallery");if(!(0>=e.length||(a.removeClass("laidOut"),0>=a.width()))){b||e.filter(":not(.newSearch)").addClass("doNotTransition");$("img",a).css("height","");e.css("width","").css("left","").css("top","");var l;l=a.hasClass("templateGallery")?d(e.first()):e.first().width();for(var m=parseInt($("a",this).css("margin-right"),10),n=parseInt($("a",this).css("margin-bottom"),10),p=Math.round(a.width()/l),r=a.data("columnData"),
q={ol:l,marginRight:m,marginBottom:n,U:[]},v=!c&&r&&r.U.length==p&&r.ol==l,w=0;w<p;w++)q.U[w]={height:0,items:[],Qb:0},v&&(q.U[w].Qb=r.U[w].Qb);var x=null;a.children("li").find("a.infoOpen").parents("li").first().each(function(){var a=$("img",this),b=a.attr("width")||a.get(0).naturalWidth,a=a.attr("height")||a.get(0).naturalHeight;x=$(this).data("originalTop")+(l-m)/b*a+n});null!=x&&v||e.removeData("modifiedTop");e.each(function(){for(var b=$(this),c=b.data("result"),d=0,e=q.U[d].height,h=0;h<q.U.length;h++)if(0==
q.U[h].height){d=h;e=0;break}else q.U[h].height<e&&(d=h,e=q.U[h].height);var h=b.find("a"),p=b.find("img"),r,w;0<p.length?(r=parseInt(p.attr("width"),10)||p.get(0).naturalWidth,w=parseInt(p.attr("height"),10)||p.get(0).naturalHeight):w=r=l;var y=r>w,z=l-m,J=z/r*w;p.css("height",J);b.hasClass("grid")&&(J=b.data("layoutItem").Re(),J=(l-m)*J.height/J.width,b.find("a").css("height",J));b.data("originalTop",e).css("width",l).css("left",d*l);k&&(y&&(z=r/w*(l-n),p.css("width",z).css("height","")),"backgroundColorAlbum"===
b.attr("id")?b.add(h).add(p).css("width","").css("height",""):(b.height(l),h.height(l-n),c&&!c.Uh()&&(J=y?0:(l-n-J)/2,p.css("margin-left",(l-m-z)/2).css("margin-top",J))),c&&(c.re()&&(J="#"+(cb[c.F()]||"888888"),b.data("color",J),h.css("background-color",J)),c.Uh()&&b.addClass("patterned")),J=l-n);c=d;b.hasClass("newSearch")?(d=0,null!=x&&e+J+n>x&&(d=q.U[c].Qb,0==d&&(d=Ju(a.parents(".searchGroup")),d+=x-q.U[c].height,q.U[c].Qb=d),b.data("modifiedTop",e+d)),b.css("top",e+d)):b.data("modifiedTop")?
(c=b.data("columnIndex"),e=b.data("modifiedTop"),b.css("left",c*l).css("top",e).data("originalTop",e-q.U[c].Qb)):v?(c=b.data("columnIndex"),b.css("left",c*l).css("top",q.U[c].height).data("originalTop",q.U[c].height)):b.css("top",e);q.U[c].height+=J+n;q.U[c].items.push(b);b.data("columnIndex",c)});a.data("columnData",q);a.parents(".searchGroup").height();a.addClass("laidOut");b||window.setTimeout(function(){e.filter(":not(.newSearch)").removeClass("doNotTransition")},300);var y=a.parent(".searchGroup"),
p=a.parents(".layer").find("\x3e .inner \x3e .searchGroup").last().get(0)==y.get(0);Jl(y,!p);var z=y.height(),G=a.hasClass("templateGallery")?4:1;setTimeout(function(){var b=Ku(a.parents(".results")),c=0<a.parents("#resultsSearch").length,d=c?Lu(y):0,e=-1;a.children("li.newSearch").each(function(){var a=$(this),g=!1;(g=c?d+a.data("originalTop")<b:parseInt(a.css("top"),10)<z)?window.setTimeout(function(){a.removeClass("newSearch")},20*++e*G):a.addClass("doNotTransition").removeClass("newSearch").removeClass("doNotTransition")})},
20)}})}
function pt(a,b){var c=!0;void 0===c&&(c=!1);b=$(b);var d=a.data("columnData"),e=0<a.parents("#resultsUpload").length,g=b.get(0).complete&&""!==b.get(0).src,h=$('\x3cli class\x3d"newSearch"\x3e\x3ca href\x3d"#"\x3e\x3c/a\x3e\x3c/li\x3e');e||h.find("a").append('\x3cspan class\x3d"info"\x3eFree\x3c/span\x3e');g||h.addClass("loading");h.find("a").prepend(b);c?a.prepend(h):a.append(h);if(!d||c)Il(a,!1,!0);else{c=0;e=d.U[c].height;for(g=0;g<d.U.length;g++)if(0==d.U[g].height){c=g;e=0;break}else d.U[g].height<e&&
(c=g,e=d.U[g].height);var g=b.attr("width")||b.get(0).naturalWidth,k=b.attr("height")||b.get(0).naturalHeight,g=(d.ol-d.marginRight)/g*k;b.css("height",g);h.data("originalTop",e).data("columnIndex",c).css("width",d.ol).css("left",c*d.ol).css("top",e+d.U[c].Qb).delay(20,function(){$(this).removeClass("newSearch")});d.U[c].height+=g+d.marginBottom;d.U[c].items.push(h);a.data("columnData")}}
function Iu(a){void 0===a&&(a=$("#objectPanel").find(".gridGallery"));var b=$("a",a).width();$("li, a",a).css("height",b);a.addClass("laidOut");a.each(function(){var a=$(this),b=a.children("li"),a=a.parents(".searchGroup"),e=a.parents(".layer"),g=e.offset(),h=e.height();b.each(function(){var a=$(this),b=a.position().top+(a.hasClass("newSearch")?50:0);a.data("originalTop",b)});Jl(a,!1);setTimeout(function(){b.each(function(a){var b=$(this);b.offset().top<g.top+h?setTimeout(function(){b.removeClass("newSearch")},
20*a):b.removeClass("newSearch")})},20)})}
function Gu(a){var b=a.parents("li"),c=b.data("result");c||(b=a.parent().data("li"),c=b.data("result"));var d=0<b.parents("#resultsBackground").length,e=a.hasClass("svg"),g=parseInt(a.data("screen-width")||a.attr("width"),10),h=parseInt(a.data("screen-height")||a.attr("height"),10);e&&(g*=Da.ee,h*=Da.ee);return{type:e?"svg":"image",origin:c.Xc(),mediaId:c.F(),mediaVersion:c.S(),mediaApproved:void 0!==a.data("mediaApproved")?a.data("mediaApproved"):!0,width:g,height:h,isDark:!!a.hasClass("dark"),isBackground:c.ib()&&
d,isCutout:c.qe(),isRepeating:c.Uh(),isRecolorable:c.re(),backgroundColor:c.re()?b.data("color"):void 0}}function Mu(a){var b=t.ja,c=$("img",a);a=c.parents("li").data("result");var d=_.contains(a.Te(),"text"),c=Cc(Gu(c)),e=c.A(),g=c.B(),h=Math.min(e,.95*b.A()),k=h/e*g;k>.95*b.B()&&(k=.95*b.B(),h=k/g*e);c.Z(h);c.W(k);d&&(b=Nu(),c.qr({Sf:b.Sf,Vf:b.Vf,ratio:null}));I(t).addElement(c,!0);c.Dg()&&"CANVA"!==a.Xc()&&Gc(ua,a,c);Fc(c)}
function Nu(){var a=I(t),b=al(Yk()).ea().Gd();(b=b?Q("#"+b):null)?a={Sf:b,Vf:150>Hg(b)?Dg(new Bg,255,255,255):Dg(new Bg,0,0,0)}:(b=qi(a),a=(0<b.length?b[b.length-1].re():1)&&!a.hm()?{Sf:Dg(new Bg,0,0,0),Vf:Dg(new Bg,255,255,255)}:{Sf:Dg(new Bg,255,255,255),Vf:Dg(new Bg,0,0,0)});return a}
function Ou(a){var b=a.parents(".photoGallery").first();a.find(".info").remove();a.find("a").addClass("removed");a.find("img").addClass("removed");a.addClass("removed");window.setTimeout(function(){a.remove();Il(b)},500)}function Hl(){$(".infoPanel .close").trigger("touchClick")}
function eu(a){function b(a){a=a.F();var b=c();return b.hasOwnProperty(a)?b[a]:null}function c(){return pd(new nd(window.viewConfig)).reduce(function(a,b){a[b.template]=Pu(b);return a},{})}function d(){m.removeClass("transitioning")}var e=$(this).parents("a"),g=$("img",e),h=e.parents("li"),k=e.parents(".gallery"),l=e.parents(".layer"),m=e.parents(".searchGroup"),n=$(this).parents(".results"),p=Qu(m),r=parseInt(m.css("margin-top"),10),q=1==$(this).parents("#resultsUpload").length,v=0;m.prevAll(".searchGroup").each(function(){v=
Math.max(v,Ru($(this)))});l.find(".infoPanel .close").trigger("touchClick");e.addClass("infoOpen");var w=h.data("result"),x=h.data("designItem"),y=h.data("originalTop"),z=h.height(),G=y+z,p=p+G+Lu(m),r=p-v+r;if(null!=w||null!=x){a=(new Su({Ja:al(Yk()).ea().Gd(),Np:!!x,Xp:!!w,Yp:!1===g.data("mediaApproved"),Zp:q,td:x&&b(x),model:w||x,xq:Ou.bind(null,h),L:a})).render().$el;a.data("item",e);a.css("top",r).appendTo(m);e.data("infoPanel",a);var A=$('\x3cdiv class\x3d"infoPanelPointer"\x3e\x3c/div\x3e');
A.css("left",parseInt(h.css("left"),10)+parseInt(a.css("left"),10)+h.width()/2).css("top",r).appendTo(m);a.data("infoPanelPointer",A);var B=a.height(),H=a.outerHeight(!0);a.one("transitionend",d).css("height",0).delay(20,function(){$(this).addClass("on").css("height",B);A.addClass("on")});var U=Tu(k,G),U=U.filter(function(a){return a!=h.get(0)}),oa=k.data("columnData");oa.U.forEach(function(a){var b=null;a.items.filter(function(a){return-1<U.indexOf(a.get(0))}).forEach(function(c){var d=c.data("originalTop");
null===b&&(b=G+H-d,a.Qb=b);c.css("top",d+b).data("modifiedTop",d+b).data("columnIndex",oa.U.indexOf(a))})});e=l.find("\x3e .inner \x3e .searchGroup").last().get(0)==m.get(0);m.addClass("transitioning");Jl(m,!e);e=p+H;n=Ku(n);k=e-r<l.height();e>n&&k?l.animate({scrollTop:l.scrollTop()+(e-n)},600):r<l.scrollTop()&&l.animate({scrollTop:l.scrollTop()-(l.scrollTop()-r)},600);m.hasClass("inlineFolderGroup")&&E.trigger("infoPanelToggle",m,Ru(m))}}
function fu(){var a=$(this),b=a.parents("a").parents("li"),c=!0===b.data("superKeywordAdd"),d=b.data("query"),e=b.data("result");if(d&&e){var g=(e.wp()||[]).slice();c?g.push(d):g=g.filter(function(a){return a!==d});g=g.map(function(a){return ps(a.trim())});Es(sa,e.F(),e.S(),As(g),function(e){200==e&&(c?(a.removeClass("superMiss"),a.addClass("superHit"),a.attr("title","Remove superKeyword '"+d+"'"),b.data("superKeywordAdd",!1)):(a.removeClass("superHit"),a.addClass("superMiss"),a.attr("title","Add superKeyword '"+
d+"'"),b.data("superKeywordAdd",!0)))})}}
function Uu(){var a=$(this).parents(".infoPanel"),b=a.data("xhr"),c=a.data("item");c.removeClass("infoOpen");c.parents("li").siblings().each(function(){var a=$(this).data("originalTop");$(this).css("top",a).removeData("modifiedTop")});var d=a.parents(".searchGroup").first();d.addClass("transitioning").height(d.data("contentHeight"));$(".gallery",d).data("columnData").U.forEach(function(a){a.Qb=0});a.one("transitionend",function(){e&&(e.remove(),a.remove(),d.removeClass("transitioning"))}).removeClass("on").css("height",
0);var e=a.data("infoPanelPointer");e.removeClass("on");b&&b.cancel();b=null;a.removeData("xhr");d.hasClass("inlineFolderGroup")&&E.trigger("infoPanelToggle",d,0);return!1}
function hu(a){function b(a){function b(){A=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e');var a=Gu(n);B=Cc(a);B.Z(x);B.W(y);var c=$('\x3cdiv class\x3d"cloneInner"\x3e').append(B.C());n.is(".svg")&&(A.addClass("svg"),c.addClass("svg"),a=ua.Nb(a.mediaId,a.mediaVersion),Ro(B,a[Tn].ca()));A.append(c).css("left",k.left).css("top",k.top).css("transform-origin","top left").css("transform","scale("+l/z+", "+m/G+")").toggleClass("cutout",B.qe()).data("li",h.parents("li")).data("canvaElement",B);$("#content").append(A);
h.css("visibility","hidden");(B.jl()||B.qe())&&jd(A,null,Bu(ca));$("#search").blur()}if(!w)return!1;var c=void 0!==a.clientX?a.clientX:a.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.touches[0].clientY;var d=0;if(null==A)if(Bu(ca)){var e=Pg(R,N,c,a);if(300<e||60>e)b();else return!0}else(4<Math.abs(c-R)||4<Math.abs(a-N))&&b();d>(l+l)/4&&$("#trashcan").removeClass("active");if(null!=A){var e=Math.min(1,Math.sqrt(Math.pow(c-R,2)+Math.pow(a-N,2))/J),d=Math.min(1,l/(z*(1-e))),g=Math.min(1,m/(G*(1-
e)));Ka=!1;c>R?(A.css("transform","scale("+d+", "+g+")"),q&&(B.qr({Sf:fa.Sf,Vf:fa.Vf,ratio:e}),B.cr()),e=Math.round(k.top+a-N-(g*G-m)*hb),A.css("left",Math.round(k.left+c-R-(d*z-l)*Ia)).css("top",e)):(e=1,d=Qg(c,a,Pc,Qc),d<(l+m)/4?($("#trashcan").addClass("active"),Ka=!0,e=.5):$("#trashcan").removeClass("active"),A.css("transform-origin","top left").css("transform","scale("+l/z+", "+m/G+")"),A.css("left",k.left+c-R).css("top",k.top+a-N).css("opacity",e));(c<U.left||c>U.left+H.outerWidth()||a<U.top||
a>U.top+H.outerHeight())&&A&&!A.hasClass("disappeared")&&!A.hasClass("placing")&&dd(oa,A)?(null==X&&(X=new ed(A,aa)),gd(X,Zb,za)):$("#overlays .align").removeClass("on")}return!1}function c(a){function e(){$(this).remove();h.css("visibility","visible")}function g(){h.css("opacity",0);window.setTimeout(function(){h.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},20)}$("#trashcan").hasClass("active")?window.setTimeout(function(){$("#trashcan").hasClass("active")&&
$("#trashcan").removeClass("allow").removeClass("active")},500):$("#trashcan").removeClass("allow").removeClass("active");ca.off("mousemove|touchmove",b).off("mouseup|touchend",c);if(!w)return 0<Og.length?Og.find(".close").trigger("click"):h.find(".moreInfo").trigger("click"),Vu;if(d&&Ka){var p=$(oj).parents("li"),q=p.data("result");Es(sa,q.F(),q.S(),(new zs).sf(!0),function(){var a=p.parents(".photoGallery").first();p.remove();Il(a)});0<$(".infoPanel").length&&Uu.call($(".infoPanel").find(".close").get(0));
A.addClass("trashing");var r=Wu(A),v=Wu($("#trashcan")),x=Oh({kc:v[0]-r[0],lc:v[1]-r[1],ye:.1,lf:.1});window.setTimeout(function(){A.find(".cloneInner").css("transform",x);A.find(".cloneInner").css("opacity",0);window.setTimeout(function(){A.remove()},300)},10)}if(!0!==Xu){$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");M();r=void 0!==a.clientX?a.clientX:a.changedTouches[0].clientX;a=void 0!==a.clientY?a.clientY:a.changedTouches[0].clientY;v=4<Math.abs(a-N);v=4<Math.abs(r-
R)||v;$("#hotspots").remove();h.delay(2E3,function(){$(this).removeClass("pickedUp")});if(null==A&&!v)return $("#search").blur(),p=h.parents("li"),Mu(p),d||Ka||(q=p.data("result"),Ps(La,Zs(q))),!1;null==A||null==B||d&&Ka||((r<U.left||r>U.left+H.outerWidth()||a<U.top||a>U.top+H.outerHeight())&&A&&!A.hasClass("disappeared")&&dd(oa,A)?(B.setPosition(X.N(),X.K()),B.Z(X.A()),B.W(X.B()),(r=I(t))&&B.appendTo(r),B.Dg()&&(q=n.parents("li").data("result"),"CANVA"!==q.Xc()&&Gc(ua,q,B)),Fc(B),Ec(B),g(),d||Ps(La,
Zs(q)),A.remove()):null==A||A.hasClass("disappeared")?null!=A&&A.hasClass("disappeared")&&(g(),Yu(A.data("placedInElement"))):(k=h.offset(),A.addClass("returning"),A.one("transitionend",e).css("left",k.left).css("top",k.top).css("transform","scale("+l/z+", "+m/G+")")))}}var d=!1;if(3==a.which||a.ctrlKey)return!0;if($(a.target).is(".removed")||$(a.target).is(".moreInfo")||$(a.target).is(".superKeyword"))return!1;var e=$("#trashcan");e.removeClass("active");0<$(a.target).parents("#normalUploads").length&&
(e.addClass("allow"),d=!0);var g=t.ja,h=$(this);h.addClass("pickedUp");var k=h.offset(),l=h.width(),m=h.height(),n=$("img",h).first(),p=Gu(n),r=n.parents("li").data("result"),q=!!r&&_.contains(r.Te(),"text"),r=p.width,v=p.height,w=p.mediaApproved,x=Math.min(r,.95*g.A()),y=x/r*v;y>.95*g.B()&&(y=.95*g.B(),x=y/v*r);var z=x*L,G=y*L,A=null,B=null,H=$("#objectPanel"),U=H.offset(),oa=Zu(),aa=oa.offset(),R=void 0!==a.clientX?a.clientX:a.touches[0].clientX,N=void 0!==a.clientY?a.clientY:a.touches[0].clientY,
Ia=(R-k.left)/l,hb=(N-k.top)/m,J=Math.abs(R-(U.left+H.outerWidth())),ca=new S($(document));ca.on("mousemove|touchmove",b).on("mouseup|touchend",c);var X=null,za=fd(),Zb={},Pc=e.get(0).getBoundingClientRect().left+e.width()/2,Qc=e.get(0).getBoundingClientRect().top+e.height()/2,Ka=!1,fa=Nu(),Og=h.parents(".gallery").next(".infoPanel").filter(function(){var a=$(this).data("item").find("img");return a.data("mediaId")===n.data("mediaId")&&a.data("mediaVersion")===n.data("mediaVersion")}),oj=this;return Vu}
function iu(a){function b(a){function b(){h=e.clone(!1);h.appendTo("#content").css("top",q).css("left",r).addClass("clone draggableGridItem dragging");e.css("visibility","hidden")}var c=void 0!==a.clientX?a.clientX:a.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.touches[0].clientY;if(null==h)if(Bu(aa)){var d=Pg(B,H,c,a);if(300<d||60>d)U=!0,b();else return!0}else 4<c-B&&(U=!0,b());null!=h&&(a=Math.min(1,Math.sqrt(Math.pow(c-B,2)+Math.pow(a-H,2))/oa),a=c<=B?0:a,c=2+(m-2)*a,d=w+(A-w)*a,h.css("width",
v+(G-v)*a).css("height",d),d=q+(z-q)*a,h.css("left",r+(y-r)*a).css("top",d),h.find("\x3e .rows, \x3e .columns, .item \x3e .content").css("left",c/2).css("right",c/2).css("top",c/2).css("bottom",c/2));return!1}function c(){p.fa().forEach(function(a){if(a instanceof hn){for(var b=a.ke(),c,d=!0,e=0>=a.K()&&0>=a.N()&&0===a.Ga()&&a.A()>=p.A()&&a.B()>=p.B(),g=0;g!==b;g++)if(c=a.Lf(g).mediaId){d=!1;break}d&&e&&a.remove()}})}function d(a){function g(a){function b(a){this==a.target&&$(this).off("animationend",
b).remove()}this==a.target&&($(this).off("transitionend",g).on("animationend",b).addClass("disappearing"),e.css("visibility",""))}function k(){e.css("opacity",0);setTimeout(function(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","")},20)}a=void 0!==a.clientX?a.clientX:a.touches[0].clientX;U?a>=y?(n.ob(x),c(),n.appendTo(p),Ec(n),Fc(n),k(),h.remove()):(h.addClass("returning").on("transitionend",g),parseInt(h.css("left"),
10)==Math.floor(r)&&parseInt(h.css("top"),10)==Math.floor(q)?h.trigger("transitionend"):h.css("left",r).css("top",q).css("width",v).css("height",w)):(n.ob(x),c(),p.addElement(n,!0),Fc(n));aa.off("mousemove|touchmove",b).off("mouseup|touchend",d)}if(3==a.which||a.ctrlKey)return!0;$("#search").blur();M();var e=$(a.currentTarget),g=e.offset(),h=null,k=e.parents("li").data("grid-name"),l=$.extend(!0,[],lg[k].items),m=(lg[k].spacing||10)*L,n=new hn({items:l}),p=I(t),k=$(p.C()).offset(),r=g.left,q=g.top,
v=e.width(),w=e.height(),x=lp(p.A(),p.B(),n.spacing,0<qi(p).length),g=x.clone().scale(L).translate(k.left,k.top).round(),y=g.N(),z=g.K(),G=g.A(),A=g.B(),B=void 0!==a.clientX?a.clientX:a.touches[0].clientX,H=void 0!==a.clientY?a.clientY:a.touches[0].clientY,U=!1,oa=y-B,aa=new S($(document));aa.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}
function $u(){$("#fileUpload").removeData("upload-destination");$("#fileUpload").removeData("upload-placeholder-index");$("#fileUpload").trigger("click")}function rt(){return"marketplace"==$("#fileUpload").data("marketplace")}
function ju(a){function b(){}function c(){var a=ob(ya);(new Wc(g,a,b)).upload(e,void 0,rt())}function d(a){var b=h.Ve(k),c=new FileReader;c.onload=function(){var d=new Image;d.onload=function(){var c=new K(0,0,d.width,d.height);hg(c,b).translate(-b.N(),-b.K());c={type:"image",index:k,mediaId:a.F(),mediaVersion:a.da().S(),imageBox:c.serialize(),mediaApproved:!0};"APPROVED"!==a.da().lb()&&(c.staging=!0);h.qf(k,c)};d.src=c.result};c.readAsDataURL(l);$("#fileUpload").removeData("upload-destination");
$("#fileUpload").removeData("upload-placeholder-index");$("#fileUpload").removeData("marketplace")}var e=a.target.files||a.dataTransfer.files||a.originalEvent.dataTransfer.files,g=null==a.target.files?"drop":"button",h=$("#fileUpload").data("upload-destination"),k=$("#fileUpload").data("upload-placeholder-index")||0;if(50<e.length)return a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault(),window.setTimeout(function(){alert("Unfortunately Canva doesn't work too well when you upload more than 50 files at a time, so try uploading them 50 at a time. Thanks!")},
100),!1;var l=e[0];h&&(b=d);qu().get(0)==$("#resultsUpload").get(0)?c():av(c)}function av(a){var b=$("#objectPanel");b.addClass("slow");window.setTimeout(function(){b.children("menu").find(".uploads a").trigger("touchClick").delay(600,function(){b.removeClass("slow");a()})},20)}
function Ru(a){var b=0,c=$(".gallery",a).data("columnData");if(c)b=Array.max(c.U.map(function(a){return a.Qb}));else return b;b=Array.max(c.U.map(function(a){return a.height}));c=Array.max(c.U.map(function(a){return 0==a.height?0:a.height+a.Qb}));return b=b!=c?c-b:Ju(a)}function Ju(a){var b=0,c=$(".infoPanel",a).clone();0<c.length&&(c.appendTo(a).addClass("doNotTransition").css("height","").css("display","none"),b=c.outerHeight(!0),c.remove());return b}
function Jl(a,b){if(0!=a.parents(".results.infinite").length){var c=a.hasClass("inlineFolderGroup"),d=a.parents(".results").first(),e=c?a.find("p button")?a.find("p").height():0:Qu(a),g=0;$(".gallery li",a).each(function(a,b){var c=$(b);g=Math.max(g,c.data("originalTop")+c.height())});g+=e;a.data("contentHeight",g);e=Ru(a);b||c?a.height(g+e):a.height(Math.max(g+e,d.height()))}}
function ku(a){var b=$(this).parent(".results");clearTimeout(b.data("scrollTimer"));var c=setTimeout(function(){bv(b,a)},100);b.data("scrollTimer",c)}
function Tu(a,b){var c=[],d=a.data("columnData");if(void 0===d)return c;for(var d=d.U,e=0;e<d.length;e++){for(var g=d[e].items,h=0,k=!1,l=0;l<g.length;l++){var m=g[l],n=m.data("originalTop")||0,n=(m.data("modifiedTop")||n)-n;0==n||k||(h+=n,k=!0);h+=m.height();if(h>b)break}c=c.concat(g.slice(l))}return c.map(function(a){return a.get(0)}).filter(function(a){return null!=a.parentNode})}
function uu(a,b){var c;c=a.find("\x3e .layer \x3e .inner \x3e .searchGroup").find(".gallery li").first();var d=a.hasClass("twoCol")?120:70;c=c.width()||d;d=Math.floor(Math.abs(a.children(".layer").width())/c)||1;return Math.max(18,d*Math.max(Math.ceil(b/c),3))}
function bv(a,b){if(null!=Z&&!a.is(".modifying")){var c=a.children(".layer").last(),d=c.find("\x3e .inner \x3e .searchGroup").last();0<$(".searchLoaderHolder \x3e .searchLoader",a).length||0<$(".searchLoader",d).length||bd().read(function(e){var g=d.outerHeight()+d.offset().top-(a.offset().top+a.outerHeight());cv()&&g<=.33*a.outerHeight()&&e.write(function(){var d=c.find("\x3e .inner \x3e .searchGroup .gallery li").length;500<d&&dv(c,d-500);d=a.find(".searchLoaderHolder");su(d);d.addClass("on");Z.from+=
Z.mb;Z.Tv();Ja=!0;ev(b)})}).done()}}
function dv(a,b){for(var c=a.parents(".results"),d=$(),e=$(),g=b,h=a.find("\x3e .inner \x3e .searchGroup").toArray(),k=0;k<h.length&&!(0>=g);k++){var l=$(h[k]),m=$(".gallery li",l);if(m.length<g)d=d.add(l),g-=m.length;else for(var l=g,n=0;n<l;n++)e=e.add(m[n]),g--}g=e.parents(".searchGroup").add(d);h=$(".infoPanel",g);0<h.length&&(g.addClass("doNotTransition"),h.addClass("doNotTransition"),$(".close",h).trigger("touchClick"),h.data("infoPanelPointer").remove(),h.remove(),g.removeClass("doNotTransition"));
c.addClass("modifying");a.find("\x3e .inner \x3e .searchGroup").addClass("doNotTransition");var g=a.scrollTop(),h=e.parents(".searchGroup"),p=0;0<h.length&&(k=h.outerHeight(!0),m=$(".gallery",h),m.removeData("columnData"),e.remove(),Il(m),p+=k-h.outerHeight(!0));d.each(function(){p+=$(this).outerHeight(!0)});d.remove();h=a.find("\x3e .inner \x3e .searchGroup .infoPanel");0<h.length&&h.addClass("doNotTransition").css("top",parseInt(h.css("top"),10)-p).removeClass("doNotTransition");a.scrollTop(Math.max(0,
g-p));a.find("\x3e .inner \x3e .searchGroup").removeClass("doNotTransition");c.removeClass("modifying")}function Qu(a){return 0==a.length?0:$(".gallery, .noResults",a).offset().top-a.offset().top}function fv(a){a=a.find("\x3e .inner \x3e .searchGroup").last();return Lu(a)+a.outerHeight(!0)}function Lu(a){return 0==a.length?0:a.parents(".layer").scrollTop()+a.position().top}
function gv(a,b){if(null!=a&&0!=b.length){var c=b.toArray();a.U.forEach(function(a){c.forEach(function(b){var c=a.items.map(function(a){return a.get(0)}).indexOf(b);-1>=c||(a.items.splice(c,1),a.height-=$(b).height(),void 0!==$(b).data("modifiedTop")&&1<=c&&void 0===a.items[c-1].data("modifiedTop")&&(a.Qb=0))})})}}function Ku(a){var b=a.children(".layer").last().scrollTop();a=a.height();return b+a}
function qu(){var a=$("#objectPanel \x3e menu \x3e li.on").index();return $("#objectPanel \x3e .content \x3e .results").eq(a)}function hv(a,b){$(".warningPanel"+b).one("animationend",function(){$(this).removeClass("on off")}).addClass("off");$("body").removeClass("blockDocument");return!1}function mu(){return hv.call(this,0,"#someoneElseEditing")}function nu(){return hv.call(this,0,"#inReview")}
function iv(){$("#inReview").addClass("on");$("body").addClass("blockDocument");M();$("#search").blur()}function jv(){$("#outOfSync").addClass("on");$("#outOfSync button").on("touchClick",function(){window.location.reload();return!1})}function kv(){$("#savingError").addClass("on");$("#savingError button").on("touchClick",function(){window.location.reload();return!1})}
function lv(){$("#savingError").hasClass("on")&&$("#savingError").one("animationend",function(){$(this).removeClass("on off")}).addClass("off")};function mv(){this.ac=[];this.ti=[];this.Mf=[];this.$q=this.Zr=!1}f=mv.prototype;f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;_.extend(mv.prototype,Backbone.Events);
mv.prototype.register=function(a){if(a.data["new"]&&a.data.old&&JSON.stringify(a.data["new"])==JSON.stringify(a.data.old)||this.Zr||this.$q)return!1;var b=a instanceof nv;0<this.Mf.length?this.Mf[this.Mf.length-1].push(a):(this.ac.push(a),this.ti=[],!b&&t.trigger("change"));return!0};function Wr(){var a=C,b=new nv;a.register(b);a.Mf.push(b)}
function Xr(){var a=C;if(0==a.Mf.length)throw Error("mismatched number of .endGrouping calls");var b=a.Mf.pop();0==b.Jf()&&a.ac.splice(a.ac.indexOf(b),1);0==a.Mf.length&&t.trigger("change")}function is(){var a=C;if(0!=a.ac.length){a.trigger("beforeOperationStackPop");a.Zr=!0;if(0<a.Mf.length)throw Error("cannot undo while a grouped operation is being collected");var b=a.ac.pop(),c=b.invert();c.ef();a.ti.push(b);ov(c);a.Zr=!1;t.trigger("change")}}
function hs(){var a=C;if(0!=a.ti.length){a.trigger("beforeOperationStackPop");a.$q=!0;var b=a.ti.pop();b.ef();a.ac.push(b);ov(b);a.$q=!1;t.trigger("change")}}
function Et(a,b){var c=C;function d(a){var b=[];a instanceof V?b.push(a):a instanceof nv&&a.ac.forEach(function(a){b=b.concat(d(a))});return b}function e(a,b,c){a.mediaId===b.mediaId&&a.mediaVersion===b.mediaVersion&&(a.mediaId=c.mediaId,a.mediaVersion=c.mediaVersion)}c=c.ac.map(d).concat(c.ti.map(d));[].concat.apply([],c).forEach(function(c){switch(c.Ca){case pv:e(c.data["new"],a,b);e(c.data.old,a,b);break;case qv:case rv:e(c.data,a,b)}})}function ov(a){M();sv(a).forEach(function(a){Ec(a)})}
function sv(a){var b=[];if(a instanceof V||a instanceof tv){var c=a.data.elementIndex;t.O[a.data.pageIndex].fa().forEach(function(a){a.V()==c&&b.push(a)})}else a instanceof nv&&(a=a.ac,a.forEach(function(a){a=sv(a);b=b.concat(a)}),2===b.length&&2==a.length&&a[0]instanceof V&&a[1]instanceof V&&a[0].Ca==qv&&a[1].Ca==pv&&(b=sv(a[0])));return b}function uv(){this.Ca=null;this.data={}}uv.prototype.ef=function(){throw Error("classes that inherit from Canva.Operation must implement .perform");};
uv.prototype.invert=function(){throw Error("classes that inherit from Canva.Operation must implement .invert");};function vv(a){return $.extend(!0,{},a)}function nv(){this.ac=[]}nv.prototype=new uv;nv.prototype.ef=function(){this.ac.forEach(function(a){a.ef()})};nv.prototype.invert=function(){var a=new nv;this.ac.reverse();this.ac.forEach(function(b){a.push(b.invert())});this.ac.reverse();return a};nv.prototype.push=function(a){this.ac.push(a)};nv.prototype.Jf=function(){return this.ac.length};
var Th=1,rv=2,qv=3,pv=5,Hu=7,Fu=8,Du=9;function V(a,b){this.Ca=a;this.data=b}V.prototype=new uv;
V.prototype.ef=function(){$("#overlays .element.text").each(function(){Sm($(this))});var a=t.O[this.data.pageIndex],b=null;this.Ca==qv?(b=$.extend(!0,{},this.data),b=Cc(b)):b=a.elements[this.data.elementIndex];switch(this.Ca){case Th:a=this.data["new"];null!=a.left&&b.Ba(a.left);null!=a.top&&b.Da(a.top);null!=a.rotation&&Ph(b,a.rotation);null!=a.flipOrientation&&b.Zg(a.flipOrientation);null!=a.transparency&&b.Hk(a.transparency);null!=a.borderWidth&&hp(b,a.borderWidth);null!=a.padding&&ip(b,a.padding);
b.setSize(null==a.width?b.A():a.width,null==a.height?b.B():a.height);null!=a.transformDependentData&&b.aw(a.transformDependentData);break;case 11:a=this.data["new"];b=b.If(this.data.placeholderIndex);a.filter?zq(Yn(b),a.filter)||Iq(b,a.filter):Jq(b);break;case 10:a=this.data["new"];null!=a.link&&mn(b,a.link);break;case rv:b.remove();break;case 4:var c=this.data.oldElementIndex,b=a.elements[c];case qv:var d=this.data.elementIndex;4==this.Ca&&c<d&&d++;c=a.fa().length;d=Math.max(Math.min(c,d),0);d==
c?b.appendTo(a):b.insertBefore(a.elements[d]);break;case pv:b.qf(this.data.placeholderIndex,this.data["new"]);break;case 6:a=b.Fj(this.data.placeholderIndex);b.Yg(a);var a=this.data["new"],c=Zf(a.imageBox),e=Zf(a.placeholderBox);b instanceof gn?a.cropped?(Ae(b,e),b.Ae(c),b.og(),b.Ba(a.left),b.Da(a.top)):(b.Ba(a.left),b.Da(a.top),b.Z(c.A()),b.W(c.B()),Ae(b,e),b.Ae(c),b.sn=!1,b.Wd=!1,b.C().find("img").css("transform","").css("width","").css("height","")):(b.Ae(c),b.og());break;case Hu:b=a.elements[this.data.oldElementIndex];
ri(b);break;case Fu:Zn(b);vn(a,b,this.data.oldElementIndex);break;case Du:c=this.data["new"];a=c.index;c.placementData?b.qf(a,c.placementData):(c=Q(c.color),b.yi(a,c));break;case 12:b.na[this.data.placeholderIndex].Zg(this.data["new"].flipOrientation);break;case 13:c=this.data.childRange;e=this.data.elements;b=$.extend(!0,{},this.data);b.elements=[];d=this.data.elementIndex;b=new kn(b);vn(a,b,d);if(2===c.length)for(var d=c[0],g=0;d<=c[1];d++,g++){var h=a.elements[d];h.setPosition(e[g].left,e[g].top);
h.setSize(e[g].width,e[g].height);h.Hk(e[g].transparency);Ph(h,e[g].rotation);b.addElement(h);b.C().find(".elements").append(h.C())}break;case 14:wv(b);break;default:throw Error("cannot perform unknown operation type "+this.Ca.toString());}};
V.prototype.invert=function(){var a=vv(this.data),b=void 0;switch(this.Ca){case Th:case 11:case 6:case pv:case Du:case 10:case 12:return a["new"]=this.data.old,a.old=this.data["new"],new V(this.Ca,a);case qv:case rv:return new V(this.Ca==qv?rv:qv,a);case 4:return b=a.elementIndex,a.elementIndex=a.oldElementIndex,a.oldElementIndex=b,new V(this.Ca,a);case Hu:return new V(Fu,a);case Fu:return b=a.elementIndex,a.elementIndex=a.oldElementIndex,a.oldElementIndex=b,new V(Hu,a);case 13:return new V(14,a);
case 14:return new V(13,a);default:throw Error("cannot invert unknown operation type "+this.Ca.toString());}};function xv(a,b){this.Ca=a;this.data=b}xv.prototype=new uv;
xv.prototype.ef=function(){$("#overlays .element.text").each(function(){Sm($(this))});var a=null;1==this.Ca?(a=$.extend(!0,{},this.data),a=new ii(t,a)):a=t.O[this.data.pageIndex];switch(this.Ca){case 5:a=t.O[this.data.oldPageIndex];case 1:si(t,a,this.data.pageIndex);break;case 2:ui(t,a);break;case 4:yv(a,this.data["new"]);break;default:throw Error("cannot perform unknown operation type "+this.Ca.toString());}};
xv.prototype.invert=function(){var a=vv(this.data);switch(this.Ca){case 1:case 2:return new xv(1==this.Ca?2:1,a);case 4:return a["new"]=this.data.old,a.old=this.data["new"],new xv(this.Ca,a);case 5:var b=a.pageIndex;a.pageIndex=a.oldPageIndex;a.oldPageIndex=b;return new xv(this.Ca,a);default:throw Error("cannot invert unknown operation type "+this.Ca.toString());}};function tv(a,b){this.Ca=a;this.data=b}tv.prototype=new uv;
tv.prototype.ef=function(){var a=t.O[this.data.pageIndex].elements[this.data.elementIndex];switch(this.Ca){case 1:var b=this.data["new"];a.$g(this.data.textIndex,b);void 0!==b.height&&a instanceof Ci&&a.W(b.height);break;default:throw Error("cannot perform unknown operation type "+this.Ca.toString());}};
tv.prototype.invert=function(){var a=vv(this.data);switch(this.Ca){case 1:return a["new"]=this.data.old,a.old=this.data["new"],new tv(this.Ca,a);default:throw Error("cannot invert unknown operation type "+this.Ca.toString());}};function zv(a,b){this.Ca=a;this.data=b}zv.prototype=new uv;
zv.prototype.ef=function(){var a,b=this.data["new"];switch(this.Ca){case 1:Ai(t,this.data.style,b);break;case 2:a=pg(b.designType);a.W(b.height);a.Z(b.width);t.resize(a);break;case 3:t.Yr(b);break;default:throw Error("cannot perform unknown document operation type "+this.Ca.toString());}};
zv.prototype.invert=function(){var a=vv(this.data);a["new"]=this.data.old;a.old=this.data["new"];switch(this.Ca){case 1:return new zv(1,a);case 2:return new zv(3,a);case 3:return new zv(2,a);default:throw Error("cannot invert unknown operation type "+this.Ca.toString());}};(function(a){a.path={};var b={rotate:function(a,b){var e=b*Math.PI/180,g=Math.cos(e),e=Math.sin(e);return[g*a[0]-e*a[1],e*a[0]+g*a[1]]},scale:function(a,b){return[b*a[0],b*a[1]]},add:function(a,b){return[a[0]+b[0],a[1]+b[1]]},Ou:function(a,b){return[a[0]-b[0],a[1]-b[1]]}};a.path.Ax=function(c){c.start=a.extend({angle:0,length:.3333},c.start);c.end=a.extend({angle:0,length:.3333},c.end);this.Bm=[c.start.x,c.start.y];this.Cm=[c.end.x,c.end.y];var d=b.Ou(this.Cm,this.Bm),e=b.scale(d,c.start.length),
d=b.scale(d,-1),d=b.scale(d,c.end.length),e=b.rotate(e,c.start.angle);this.lv=b.add(this.Bm,e);d=b.rotate(d,c.end.angle);this.mv=b.add(this.Cm,d);this.oz=function(a){return a*a*a};this.pz=function(a){return 3*a*a*(1-a)};this.qz=function(a){return 3*a*(1-a)*(1-a)};this.rz=function(a){return(1-a)*(1-a)*(1-a)};this.css=function(a){var b=this.oz(a),c=this.pz(a),d=this.qz(a);a=this.rz(a);var e={};e.x=this.x=this.Bm[0]*b+this.lv[0]*c+this.mv[0]*d+this.Cm[0]*a+.5|0;e.y=this.y=this.Bm[1]*b+this.lv[1]*c+this.mv[1]*
d+this.Cm[1]*a+.5|0;e.left=e.x+"px";e.top=e.y+"px";return e}};a.fx.step.path=function(b){var d=b.end.css(1-b.pos);null!=d.cD&&a.cssHooks.transform.set(b.elem,"rotate("+Math.atan2(d.pG-d.y,d.cD-d.x)+")");b.elem.style.top=d.top;b.elem.style.left=d.left}})(jQuery);function ai(a,b,c){this.ad=a;this.Mq=0;this.Rr=23;this.L=c;this.Bf=b}function Av(a){a.preventDefault();a.stopPropagation();return!1}var Bv=[];
[[642,800,"https://static.canva.com/static/images/onboarding/lion-0.png"],[200,106,"https://static.canva.com/static/images/onboarding/lion-1.png"],[192,200,"https://static.canva.com/static/images/onboarding/lion-2.png"],[200,77,"https://static.canva.com/static/images/onboarding/lion-3.png"],[165,200,"https://static.canva.com/static/images/onboarding/lion-4.png"],[141,200,"https://static.canva.com/static/images/onboarding/lion-5.png"],[200,124,"https://static.canva.com/static/images/onboarding/lion-6.png"],[149,200,"https://static.canva.com/static/images/onboarding/lion-7.png"],[191,200,"https://static.canva.com/static/images/onboarding/lion-8.png"],[150,200,"https://static.canva.com/static/images/onboarding/lion-9.png"],[200,129,"https://static.canva.com/static/images/onboarding/lion-10.png"],
[129,200,"https://static.canva.com/static/images/onboarding/lion-11.png"],[200,154,"https://static.canva.com/static/images/onboarding/lion-12.png"],[200,174,"https://static.canva.com/static/images/onboarding/lion-13.png"],[200,70,"https://static.canva.com/static/images/onboarding/lion-14.png"],[124,200,"https://static.canva.com/static/images/onboarding/lion-15.png"],[200,176,"https://static.canva.com/static/images/onboarding/lion-16.png"],[200,132,"https://static.canva.com/static/images/onboarding/lion-17.png"],[200,149,"https://static.canva.com/static/images/onboarding/lion-18.png"]].forEach(function(a,b){var c="Monboarding"+b;0===b&&(c="M-YUM-LION");Bv.push({Aa:function(){return""},
id:c,F:function(){return c},version:0,S:function(){return 0},Xc:function(){return"CANVA"},qe:function(){return!1},ib:function(){return!1},Uh:function(){return!1},re:function(){return!1},files:{In:{width:a[0],height:a[1],url:a[2]},Jn:{width:a[0],height:a[1],url:a[2]}}})});function Cv(){return{SCREEN:{ca:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}},THUMBNAIL:{ca:function(){return"https://static.canva.com/static/images/onboarding/lion-0.png"}}}}
function Dv(a,b,c){c(200,{da:function(){return{S:function(){return 0},Sa:function(){return Cv()}}}});return new ee}f=ai.prototype;f.go=function(){Ev(this)};function Fv(a,b,c){function d(){g+=e.shift();a(g);0<e.length?window.setTimeout(d,250+Math.floor(100*Math.random())):window.setTimeout(c,250);return!1}var e=b.split(""),g="";a("");d()}
function Gv(){for(var a=[],b=0;5!==b;b++)a[b]=new Image,a[b].crossOrigin="anonymous";a[0].src="https://static.canva.com/static/images/onboarding/lion-0.png";a[1].src="https://static.canva.com/static/images/onboarding/lion-1.png";a[2].src="https://static.canva.com/static/images/onboarding/lion-2.png";a[3].src="https://static.canva.com/static/images/onboarding/lion-3.png";a[4].src="https://static.canva.com/static/images/onboarding/lion-4.png"}f.Iu=function(){var a=this;Gv();WebFont.load({google:{families:["Abril+Fatface","Carter+One"]},active:function(){a.next()},inactive:function(){a.next()}})};
function Kv(a){a.bt=!1;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").addClass("on fullscreenMessageMask");$("body \x3e .mask").on("touchClick",function(){a.Gb.addClass("disappearing").delay(500,function(){$(this).remove();a.bt||(Lv(a),Mv())});$("body").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").addClass("off").delay(500,function(){$(this).removeClass("on off white fullscreenMessageMask")});$("body \x3e .mask").off("touchClick");
$("video.for-onboarding").remove()})}
f.cw=function(){Kv(this);var a="Search";bi()&&!this.Xz&&Nv()&&(a="Choose");this.Gb=$('\x3cdiv id\x3d"onboarding-23second-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-time"\x3e'+this.Rr+'\x3c/span\x3e\x3cspan class\x3d"onboarding-description"\x3esecond guide to beautiful design in Canva\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-icons"\x3e\x3cspan class\x3d"onboarding-search"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_search.png"/\x3e\x3c/span\x3e'+a+
'\x3c/span\x3e\x3cspan class\x3d"onboarding-drag"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand.png"/\x3e\x3c/span\x3eDrag\x3c/span\x3e\x3cspan class\x3d"onboarding-publish"\x3e\x3cspan class\x3d"icon"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_publish.png" /\x3e\x3c/span\x3ePublish\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"onboarding-dialog-actions"\x3e\x3cspan class\x3d"onboarding-show-me-how"\x3e\x3cbutton class\x3d"button onboarding-show-me-how-button"\x3eShow me how it\x26#8217;s done\x3c/button\x3e\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_clicking.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding_hand_grabbing.png" width\x3d"0" height\x3d"0" style\x3d"display:none"/\x3e');
this.Gb.appendTo("body");this.next()};
f.Iw=function(){var a=this,b=$(".onboarding-dialog");$(".onboarding-show-me-how-button").click(function(){if(F){var c=F;c.Qk("onboarding",{status:"viewed"});c.ug&&c.ug(6016629780938)}a.bt=!0;var d=$(".onboarding-drag .icon"),c=d.clone(),e=$(".onboarding-show-me-how-button"),g=e.clone(),e=e.offset(),d=d.find("img").offset();c.attr("id","onboarding-active-hand").addClass("for-onboarding").appendTo("body").offset(d);g.attr("id","onboarding-active-button").addClass("for-onboarding").appendTo("body").offset(e);c=
a.Rr-1;$("#onboarding-23second-dialog .onboarding-time").text(c.toString());b.fadeOut(2E3);a.next()})};f.Kv=function(){$("body").append(this.bo);this.bo.on("click",Av);var a=this.Rr-2;window.setTimeout(function(){$("#onboarding-23second-dialog .onboarding-time").text(a.toString())},1E3);this.next(1500)};f.vt=function(){var a=t.O.length;M();1===a&&t.O[0].isEmpty()?(this.bw=!1,this.page=t.O[0]):(this.bw=!0,a=new ii(t,t.$e()),si(t,a,0),this.page=a);this.next()};
f.Qu=function(){function a(){c++;2===c&&b.next(300)}var b=this,c=0,d=$("#onboarding-active-hand"),e=$("#onboarding-active-button");$(".onboarding-drag .icon").remove();$("body \x3e .mask").trigger("touchClick");e.css({width:e.width()});e.text("");e.delay(330).animate({width:"110px",height:"46px","border-radius":"25px",padding:"0 15px 0 35px"},{duration:600,queue:!1,complete:a});d.delay(330).animate({left:1*e.offset().left-15,top:1*e.offset().top-4},{duration:600,queue:!1,complete:a})};
f.zu=function(){var a=$("#onboarding-active-hand"),b=$("#onboarding-active-button"),c=$('\x3cdiv class\x3d"for-onboarding" id\x3d"onboarding-active-hand-morphed"\x3e\x3c/div\x3e'),d=a.offset();c.offset(d);c.appendTo(a.parent());a.appendTo(c);a.css({top:0,left:0});b.appendTo(c);b.css({top:"4px",left:"15px"});this.next()};f.XD=function(){$("#onboarding-active-button").text("Search");this.next()};f.UD=function(){Ov("Drag",{width:"90px"});this.next()};
f.VD=function(){this.Kk||Ov("Edit",{width:"90px"});this.next()};f.WD=function(){$("#onboarding-active-button").text("Choose");this.next()};function Pv(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand_grabbing.png")}function Qv(){$("#onboarding-active-hand img").attr("src","https://static.canva.com/static/images/onboarding_hand.png")}
function Rv(){var a=$("#onboarding-active-hand img");a.attr("src","https://static.canva.com/static/images/onboarding_hand_clicking.png");window.setTimeout(function(){a.attr("src","https://static.canva.com/static/images/onboarding_hand.png")},300)}f.NEXT="next";function Sv(a,b){return 500+Math.floor(.8*Math.sqrt(Math.pow(a.left-b.left,2)+Math.pow(a.top-b.top,2)))}function Ov(a,b){var c=$("#onboarding-active-button");c.text(a);c.animate(b,{duration:500,queue:!1})}
function Tv(a,b,c){var d=2/3,e=c.Pn||{x:0,y:0},g=c.qb||function(){},h=$("#onboarding-active-hand-morphed"),k=h.offset(),l={top:1*$(b).offset().top+1*$(b).height()/3+e.y,left:1*$(b).offset().left+1*$(b).width()/3+e.x};c&&c.tt&&"BR"===c.tt&&(l={top:1*$(b).offset().top+1*$(b).height()+e.y,left:1*$(b).offset().left+1*$(b).width()+e.x});b=Sv(k,l);l=new $.path.Ax({start:{x:1*h.offset().left,y:1*h.offset().top,angle:10,length:.1},end:{x:l.left,y:l.top,angle:-30,length:.1}});c.qb===a.NEXT&&(g=function(){a.next(300)});
c.Hp&&window.setTimeout(function(){c.Hp()},d*b);h.animate({path:l},b,g)}f.qA=function(){Tv(this,"#search",{qb:this.NEXT})};f.my=function(){Rv();$("#search").focus();this.next(700)};
f.KD=function(){function a(){if(Ja){Ja=!1;var a=$("#resultsSearch"),a=$("\x3e .layer \x3e .inner \x3e .searchGroup",a).last(),c=$(".photoGallery",a),g=0,h=!1;Bv.forEach(function(a){var d=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg data-screen-url\x3d"'+a.files.In.url+'"data-screen-width\x3d"'+a.files.In.width+'"data-screen-height\x3d"'+a.files.In.height+'"src\x3d"'+a.files.Jn.url+'"width\x3d"'+a.files.Jn.width+'"height\x3d"'+a.files.Jn.height+'"/\x3e\x3c/a\x3e\x3c/li\x3e');
d.appendTo(c);$("img",d).on("load",function(){g++;!h&&5<=g&&(b.next(),h=!0);d.removeClass("loading")});d.data("result",a)});c.addClass("photoGallery");Il(c)}}var b=this,c=$("#search");Fv(function(a){c.val(a)},"lions",function(){wu($("#resultsSearch \x3e .layer \x3e .inner \x3e .searchGroup"));gu(b.L,!0,void 0,a)})};f.pA=function(){Ov("Drag",{width:"90px"});Tv(this,"#resultsSearch .searchGroup .photoGallery li:first-child",{qb:this.NEXT})};f.Eb=function(){this.next(700)};
f.Uy=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),c={top:c.offset().top-40,left:c.offset().left-42},d=Sv(b.offset(),c),e=Math.floor(.8*I(t).B())*L,g=Math.floor(.8025*e);Pv();a.tg=$("#resultsSearch .searchGroup .photoGallery li:first-child img").clone();a.tg.removeAttr("width");a.tg.removeAttr("height");a.tg.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",height:"95px"});b.append(a.tg);a.tg.animate({height:e+"px",width:g+"px",left:(-180*
L-42)/2+"px",top:(-180*L-40)/2+"px"},{duration:d,queue:!1});b.animate(c,{duration:d,queue:!1,complete:function(){a.next(300)}})};f.Xy=function(){var a=this,b=$("#resultsSearch .photoGallery li:first-child img"),b=Cc(Gu(b)),c=Math.floor(.8*I(t).B());b.setSize(Math.floor(.8025*c),c);b.setPosition(-180,-180);b.appendTo(I(t));Fc(b);Qv();a.tg.fadeOut(200,function(){a.tg.remove()});a.next(300)};f.PD=function(){var a;a=I(t).fa().filter(function(a){return a instanceof gn})[0];Ec(a);this.next(200)};
f.uD=function(){function a(){Qv();g.removeClass("on");b.next(300)}var b=this,c=$("#onboarding-active-hand-morphed"),d=I(t),e=800/642,g=$(".handle.br"),h=d.pa()[0],k=d.C().offset(),d=.78*d.A(),l={left:Math.floor(k.left+d*L*.78),top:Math.floor(k.top+d*e*L*.78)},m=h.A();h.B();Tv(this,".selectionBox .handle.br",{Pn:{x:-20,y:-12},qb:function(){var b=c.offset();Uh();Pv();g.addClass("on");c.delay(300).animate(l,{duration:1E3,queue:!1,complete:a,progress:function(){var a=(c.offset().left-b.left)/L+m,d=a*
e;$(".selectionBox").css({height:d*L+"px",width:a*L+"px"});h.setSize(a,d)}})}})};f.sA=function(){var a=this;Ov("Add text",{width:"134px"});Tv(this,"#objectPanel \x3e menu li.text a",{qb:function(){$("#objectPanel \x3e menu li.text a").css("color","#00f7ff");a.next(300)}})};f.qy=function(){Rv();$("#objectPanel \x3e menu li.text a").trigger("touchClick").css("color","");this.next(200)};f.nA=function(){var a=this;Tv(this,"#objectPanel .textControls [data-style\x3dtitle]",{Pn:{x:0,y:16},qb:function(){a.next(300)}})};
f.Rx=function(){function a(){var a=h.Ya();h.Ce(a,"Carter One")}function b(){E.off("elementLoaded:text",b);c()}function c(){M();Rv();a();h.appendTo(e);Fc(h);Ec(h);window.setTimeout(function(){a()},100);window.setTimeout(function(){},200);d.next(200)}var d=this,e=I(t),g={width:e.A()/2,html:"\x26nbsp;",fontFamily:"Carter One",fontSize:120,color:"#222",left:e.A()-400,top:Math.floor(.5*e.B()-112.5)};E.on("elementLoaded:text",b);var h=new Ci(g)};
f.UE=function(){var a=this,b=I(t).pa()[0];b.C().trigger("click");Fv(function(a){Zm(b).html(a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},"Yum.",function(){Zm(b).css({border:"none"});$(".onboarding-fake-caret").remove();a.next()})};f.Uu=function(){$("#designToolsText a").css({color:"#fff"});Ov("Publish",{width:"120px",left:"-85px",padding:"0 39px 0 17px"});Tv(this,".editorActionExport",{qb:this.NEXT,Hp:function(){$(".editorActionExport").addClass("fakeHoverState")}})};
f.Xs=function(){Rv();$(".editorActionExport").trigger("click");this.next(700)};f.Tu=function(){var a=this;Ov("Publish",{width:"108px",left:"22px",padding:"0 20px 0 31px"});Tv(this,".exportDialog .downloadPng",{qb:function(){a.next(600)},Hp:function(){$(".editorActionExport").removeClass("fakeHoverState");$(".exportDialog .downloadPng").addClass("fakeHoverState")}})};
f.Ws=function(){Rv();var a=this;$(".exportDialog .downloadPng").addClass("fakeActiveState");window.setTimeout(function(){$(".exportDialog").parent().prev(".modalContentMask").click();a.next(200)},300);$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")};
f.fw=function(){var a=Zu().clone();a.find(".fixed").remove();a.css({top:0,left:0});a.removeClass("selected");$("body \x3e .mask").addClass("on fullscreenMessageMask");$("#exportDialog").remove();this.Gb=$('\x3cdiv id\x3d"onboarding-outro-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3c/div\x3e');this.Gb.css({width:a.width()-4+"px",height:a.height()-4+"px"});this.Gb.append(a);this.Gb.appendTo("body");this.next()};
f.Dt=function(){var a=this;$("#onboarding-active-hand-morphed").fadeOut(1600,function(){a.next()})};
f.ew=function(){var a=this,b=$(window).height()-a.Gb.offset().top,c=!1;$('\x3cdiv id\x3d"onboarding-go-dialog" class\x3d"for-onboarding onboarding-dialog"\x3e\x3cdiv class\x3d"onboarding-dialog-text"\x3e\x3cspan class\x3d"onboarding-go"\x3eNOW\x3c/span\x3e\x3cspan class\x3d"onboarding-go-description"\x3eIT\x26#8217;S YOUR TURN\x3c/span\x3e\x3c/div\x3e').appendTo("body");var d=$('\x3cdiv id\x3d"onboarding-exit-hand" class\x3d"for-onboarding"\x3e\x3cdiv class\x3d"exit-hand open"\x3e\x3cdiv class\x3d"exit-hand-fingers"\x3e\x3c/div\x3e\x3cdiv class\x3d"exit-hand-thumb"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');d.css({bottom:"-280px"});
d.appendTo("body");d.animate({bottom:"0"},900,function(){var e=1*a.Gb.css("margin-top").replace(/px/,"")-b;d.animate({bottom:e+"px"},{duration:1800,de:"easeOutQuint",queue:!1});a.Gb.animate({"margin-top":b+"px"},{duration:1800,de:"easeOutQuint",queue:!1,complete:function(){c||(a.next(1E3),c=!0)}})})};
function Uv(){Z=null;$("#search").val("");$("#resultsSearch .searchGroup").removeData("search").css("height","").find("ul").empty();$("#resultsSearch .searchGroup").find("h2").remove();$("#objectPanel .results").addClass("doNotTransition");window.setTimeout(function(){$("#search").blur();$("#objectPanel .results").removeClass("doNotTransition")},20)}f.Jv=function(){function a(){b.next()}var b=this;M();!0===this.bw?(ui(t,this.page),a()):Vv(this.page,a)};f.gr=function(){Uv();this.next()};
f.Ts=function(){this.bo.remove();$("body \x3e .mask").removeClass("on white fullscreenMessageMask").addClass("off");$(".for-onboarding").remove();$("body").removeClass("onboarding-in-progress").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");M();this.next()};
f.zv=function(){this.zx=Ma;this.lz=ra.hc;this.kz=ra.pl;this.jz=ra.th;this.Bx=qa.Sl;this.bo=$("\x3cdiv id\x3d'block-everything'\x3e\x3c/div\x3e");this.bi=u.bi;ra.pl=function(){return new ee};ra.hc=function(){return new ee};ra.th=function(){return new Rj($.noop)};qa.Sl=function(){return new ee};Ma=function(){};u.close();u.bi=function(){};t.off("change");this.next()};f.Oz=function(){this.Pw=sa.Na;sa.Na=Dv;Uc(ma,"M-YUM-LION",0,Cv());this.next()};f.wD=function(){sa.Na=this.Pw;this.next()};
function Lv(a){Ma=a.zx;ra.hc=a.lz;ra.pl=a.kz;ra.th=a.jz;qa.Sl=a.Bx;u.bi=a.bi;Wv(window.csession,window.cdoc);t.on("change",Xv)}f.Qv=function(){Lv(this);this.next()};f.xv=function(){Mv();this.next()};function Mv(){$("#resultsLayout").data("view").Pv()}f.Xu=function(){E.trigger("onboarding:complete")};
function Yv(a){a.hv=[a.Iu,a.zv,a.cw,a.Iw,a.gr,a.vt,a.Kv,a.Qu,a.zu,a.XD,a.Eb,a.qA,a.Oz,a.my,a.KD,a.Eb,a.pA,a.Uy,a.Xy,a.PD,a.uD,a.Eb,a.sA,a.qy,a.Eb,a.nA,a.Rx,a.Eb,a.UE,a.Eb,a.Uu,a.Xs,a.Eb,a.Tu,a.Ws,a.Eb,a.fw,a.Dt,a.Eb,a.ew,a.Eb,a.Jv,a.Ts,a.wD,a.gr,a.Qv,a.dE,a.xv,a.Xu]}
f.Mx=function(){var a=$(".templateGallery li:not(.grid)").length,b=0,b=10>a?Math.floor(Math.random()*a):Math.floor(10*Math.random()),a=$($(".templateGallery li:not(.grid)").get(b)),b="canva-onboarding-layout-item-"+Math.floor(1E5*Math.random());a.addClass(b);this.km="."+b;this.next()};f.vx=function(){var a=new fi({},this.L),a=new ii(a,{}),b=$(this.km).data("layoutItem");b&&yv(a,ng(b.content));this.next()};
f.oA=function(){this.Bq=$(this.km+" img");this.Ll=$(this.km+" img").clone();Tv(this,this.km,{qb:this.NEXT})};
f.Ty=function(){var a=this,b=$("#onboarding-active-hand-morphed"),c=$("section .page.selected"),d=c.height()/2-Math.floor(Math.random()*c.height()/6),e=c.height()/2+Math.floor(Math.random()*c.height()/6),c={top:c.offset().top+d,left:c.offset().left+e},d=Sv(b.offset(),c),e=d/4;Pv();window.setTimeout(function(){a.Ll.css("opacity","0.5");$(".page.selected").addClass("hotspotHover")},e);a.Bq.parent().addClass("pickedUp");a.Ll.css({position:"absolute",top:"-34px",left:"-27px","z-index":"9000",width:$(".templateGallery li img").width()+
"px",height:$(".templateGallery li img").height()+"px"});b.append(a.Ll);b.animate(c,{duration:d,queue:!1,complete:function(){$(".page.selected").removeClass("hotspotHover");a.Bq.parent().removeClass("pickedUp");a.next(300)}})};f.Wy=function(){function a(){E.off("pageLayoutLoaded",a);b.next()}var b=this;Qv();this.Ll.remove();E.on("pageLayoutLoaded",a);$(".page.selected").addClass("invisible-text");this.Bq.click()};function Zv(){return"substantial-text-element"}
f.ny=function(){if(!this.Kk){var a=$("."+Zv()),b=$("."+Zv());a.hasClass("element")||(b=a.parents(".element"));b=b.data("canvaElement");Rv();Ec(b);a.hasClass("element")||($v(a,ub(this.L)),bs(a,!0),b.ua())}this.next()};
f.pE=function(){var a,b;if(!this.Kk){var c=$("."+Zv());a=c.text();var d=a.split(/\s/gi);if(2>d.length)a="",b=d[0];else{Math.floor(a.length/2)<=(a.match(/\s/gi)||[]).length&&(d=a.split(/\s\s/gi));b=d[d.length-1];3>b.split("").length&&(b=d[d.length-2]+b);a=a.replace(new RegExp(b+"\\s*$"),"");for(var d=c.children(".inner").html(),e=/<br/gi,g,h=[];null!=(g=e.exec(d));)h.push(g.index);0<h.length&&(a=c.children(".inner").html(),b="!")}this.Gu=b;this.Kt=a;c.children(".inner").html(this.Kt);$(".page.selected").removeClass("invisible-text")}this.next()};
f.TE=function(){function a(a){Fv(function(a){$(".onboarding-fake-caret").remove();c.children(".inner").html(b.Kt+a+'\x3cspan class\x3d"onboarding-fake-caret"\x3e\x3c/span\x3e')},b.Gu,function(){$("#overlays .element.text.selected").css({border:"none"});$(".onboarding-fake-caret").remove();a()})}if(this.Kk)this.next();else{var b=this,c=$("."+Zv());c.trigger("click");a(function(){M();b.next()})}};
f.VC=function(){if(1>$(".page.selected .element.text,.page.selected .element.svg .text").length)this.Kk=!0;else{var a=$(".page.selected .element.text,.page.selected .element.svg .text").first(),b=0;$(".page.selected .element.text,.page.selected .element.svg .text").each(function(){var c=$(this).data("canvaElement");c.Xb()>b&&0<c.C().text().split("").length&&(b=c.Xb(),a=$(this))});a.addClass(Zv())}this.next()};
f.rA=function(){if(this.Kk)this.next();else{var a=parseFloat($("."+Zv()).css("font-size").replace("px",""))*L,b=Math.floor(a/2),a=Math.floor(a*this.Gu.split("").length/2);Tv(this,"."+Zv(),{tt:"BR",Pn:{x:-a,y:-b},qb:this.NEXT})}};f.hE=function(){$("#objectPanel li.layout a").click();this.next()};f.dE=function(){$("#objectPanel li.elements a").click();this.next()};function bi(){return/layouts/gi.test(window.location.href)}function Nv(){return 2<=$(".templateGallery li:not(.grid)").length}
function aw(a,b,c){var d=c||1;10<d&&(a.Xz=!0,b(!1));bi()?1<=$(".templateGallery li").length?b(Nv()):window.setTimeout(function(){aw(a,b,d+1)},200*d):b(!1)}f.next=function(a){function b(){d.call(c)}var c=this,d=this.hv[this.Mq];d&&d.call?(this.Mq++,a&&!isNaN(parseInt(a,10))?window.setTimeout(b,a):b()):c.next=function(){}};
function Ev(a){a.Mq=0;bi()?aw(a,function(b){b?a.hv=[a.Iu,a.zv,a.cw,a.Mx,a.vx,a.Iw,a.vt,a.Kv,a.Qu,a.zu,a.WD,a.Eb,a.oA,a.UD,a.Eb,a.Ty,a.Wy,a.Eb,a.VC,a.pE,a.rA,a.Eb,a.VD,a.ny,a.Eb,a.TE,a.Eb,a.Uu,a.Xs,a.Eb,a.Tu,a.Ws,a.Eb,a.fw,a.Dt,a.Eb,a.ew,a.Eb,a.Jv,a.Ts,a.gr,a.Qv,a.hE,a.xv,a.Xu]:Yv(a);a.next()}):(Yv(a),a.next())};function $h(a,b){this.document=a;this.yb=b;this.Ft="//www.facebook.com/plugins/like.php?href\x3dhttps%3A%2F%2Fwww.facebook.com%2Fcanva\x26amp;width\x3d450\x26amp;height\x3d65\x26amp;colorscheme\x3dlight\x26amp;layout\x3dbox_count\x26amp;action\x3dlike\x26amp;show_faces\x3dfalse\x26amp;send\x3dfalse\x26amp;appId\x3d"+encodeURIComponent(window.facebookConfig.appId)}$h.prototype.listenTo=Backbone.Events.listenTo;
function bw(){WebFont.load({google:{families:["Yellowtail"]},active:function(){},inactive:function(){}})}
function cw(a){var b=a.yb.Id();switch(b){case "FREE_NEW_USER":return a={title:t.Aa().yg(),twitterText:"I just completed "+dw(t.Aa())+" on http://www.canva.com",fbUrl:a.Ft},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3eCongratulations!\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3eYou have completed \x26ldquo;\x3c%- title %\x3e\x26rdquo;.\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-dialog-done"\x3eStart your own design\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),$(b(a));
case "DESIGN_TUTORIAL":return a={title:t.Aa().yg(),twitterText:"I just completed "+dw(t.Aa())+" on http://www.canva.com",fbUrl:a.Ft},b=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3eCongratulations!\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3eYou have completed \x26ldquo;\x3c%- title %\x3e\x26rdquo;.\x3c/div\x3e\x3cbutton class\x3d"button" id\x3d"magic-button-start-design"\x3eStart your own design\x3c/button\x3e\x3cdiv id\x3d"magic-button-dialog-share"\x3e\x3ciframe src\x3d"\x3c%\x3d fbUrl %\x3e" scrolling\x3d"no" frameborder\x3d"0" style\x3d"border:none; overflow:hidden; width:50px; height:61px;" allowTransparency\x3d"true"\x3e\x3c/iframe\x3e\x3ciframe allowtransparency\x3d"true" frameborder\x3d"0" scrolling\x3d"no" src\x3d"https://platform.twitter.com/widgets/tweet_button.html?url\x3d%20\x26text\x3d\x3c%\x3d encodeURIComponent(twitterText) %\x3e\x26counturl\x3dhttps://www.canva.com\x26count\x3dvertical" style\x3d"width:56px; height:62px;"\x3e\x3c/iframe\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
$(b(a));case "C4W_INVITED_NEW_USER":return a=_.template('\x3cdiv id\x3d"magic-button-dialog"\x3e\x3cdiv id\x3d"magic-button-dialog-congratulations"\x3eCongratulations!\x3c/div\x3e\x3cdiv id\x3d"magic-button-dialog-now-ready"\x3eYou\x26rsquo;re really getting the hang of designing, but Canva for Work \x3cem\x3etruly\x3c/em\x3e shines when you\x26rsquo;re designing with your team.\x3c/div\x3e\x3ca class\x3d"button" id\x3d"magic-button-dialog-done" href\x3d"/brand"\x3eVisit your team space\x3c/a\x3e\x3c/div\x3e'),
$(a());default:throw Error("onboarding mode "+b+" not handled");}}function ew(a){function b(){P.all([Ll(1E3),Ah(c)]).finally(function(){window.location="/"})}var c=new zh;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").removeClass("off").addClass("on fullscreenMessageMask");cw(a).on("animationend",function(){$("body").on("click",b);$("body \x3e .mask").on("click",b)}).appendTo("body")}
function fw(a){return 0<a.document.fa().filter(function(a){return"magic-button"==a.C().attr("id")}).length}
$h.prototype.Is=function(){function a(a){a.stopPropagation();a.preventDefault();ew(b);return!1}var b=this,c=b.document;b.Is=function(){};if(!fw(b)){b.page=new ii(c,c.$e());b.page.Ku();si(c,this.page,c.Yl(),!1);$("#canvaDocument").addClass("deletePageDisabled");this.yb.Id()&&$("#canvaDocument").addClass("pageControlsDisabled");b.page.C().css("background-color","#20c4cb");var c=new Ci({html:"\x3cstrong id\x3d'magic-button-text'\x3eTutorial complete! \x26nbsp;\x3cspan id\x3d'magic-button-text-triangle'\x3e\x26#9656;\x3c/span\x3e\x3c/strong\x3e",width:460,
justification:"center"}),d=c.C();d.attr("id","magic-button");d.on("mousedown",a);d.on("touchstart",a);b.page.addElement(c,!1,!1);var d=(b.page.A()-c.A())/2,e=(b.page.B()-c.B())/2;c.setPosition(d,e)}};$h.prototype.go=function(){bw();this.Is()};function ii(a,b){this.Fa=a;this.No=null;this.elements=[];this.height=0;this.Y=b.layout&&new mg(b.layout);this.left=0;this.Tg=this.jf=this.Rq=null;this.selected=!1;this.top=0;this.zd=!1;this.width=0;this.Oc(b,!0);Xn(this)}_.extend(ii.prototype,Backbone.Events);f=ii.prototype;f.trigger=Backbone.Events.trigger;f.Ku=function(){this.zd=!0};function gw(a,b){a.Rq=b;a.trigger("change:preview")}function hw(a){a.Rq=null;a.trigger("change:preview")}
function yv(a,b,c,d){function e(a){a.forEach(function(a){Uc(ma,a.F(),a.S(),a.sp())})}function g(){-1!==h.V()&&h.Y===b&&(hw(h),h.Oc(b.$e(),!1),Xn(h))}var h=a,k=Bt(ua,wg(b));a.clear();a.Y=b;a.Y.Z(a.A());a.Y.W(a.B());0===k.length?(a.Oc(b.$e(),!1),Xn(a)):(c&&gw(a,c),d&&d.Yb()===Xm?Pi(d.F()).then(e).catch($.noop).finally(g):dt(k,g))}
f.Oc=function(a,b){var c;b||this.trigger("willchange");void 0!==a.dpi&&(this.No=a.dpi);void 0!==a.width&&this.Z(a.width);void 0!==a.height&&this.W(a.height);c=function(a){return a.map(Cc).filter(Boolean)}(a.elements||[]);iw(this,c.length,!!b);c.forEach(function(a){a.appendTo(this)},this);a.resizeContentBox?(this.jf=Zf(a.resizeContentBox),this.Tg=jw(this,this.jf)):this.Tg=this.jf=null;window.setTimeout(function(){kw(c,a)}.bind(this),0)};
function lw(a){if(a.jf&&a.Tg){var b=jw(a,a.jf);if(ag(b,a.Tg))return a.jf;a.jf=null;a.Tg=null}return null}function jw(a,b){var c=a.ba(),d=b.clone();a.fa().forEach(function(a){if(!a.zd&&!a.ib()){var b=a.ba();if(!(a instanceof hn&&ig(b,c))){a=Math.min(d.N(),b.N());var h=Math.min(d.K(),b.K()),k=Math.max(d.Ta(),b.Ta())-a,b=Math.max(d.sa(),b.sa())-h;d.left=a;d.top=h;d.width=k;d.height=b}}});return d}
f.resize=function(a){var b=mw({vo:lw(this),Qa:a,page:this});this.Oc(a.$e(),!0);Xn(this);this.trigger("resize");this.Tg=(this.jf=b)&&jw(this,b)};f.Yr=function(a){this.clear();this.Oc(a,!0);Xn(this);this.trigger("resize")};
function kw(a,b){a.forEach(function(c,d){var e,g,h,k;if(c.Pp()){var l=b.elements[d].childRange;if(l&&1<l.length&&l[0]<=l[1]){for(var m=l[0];m<=l[1];m++)if(b.elements[m].groupIndex!==d){c.remove();return}for(m=l[0];m<=l[1];m++){k=pn(c);var n=pn(a[m]);e=Math.max(0,n.bc-k.bc);var p=Ag(zg([n.left+n.width/2-(k.left+k.width/2),n.top+n.height/2-(k.top+k.height/2)]).rotate(k.rotation));e=e||0;g=Ym(n.rotation,k.rotation)||0;h=p[1]-n.height/2+k.height/2;k=p[0]-n.width/2+k.width/2;c.addElement(a[m]);a[m].Hk(e);
a[m].setPosition(k,h);Ph(a[m],g);c.C().find(".elements").append(a[m].C())}}else c.remove()}})}function iw(a,b,c){function d(){h++;h>=b&&e()}function e(){window.clearTimeout(k);c||g.Fa&&g.Fa.trigger("change");E.off("elementLoaded",d);E.trigger("pageLayoutLoaded",g)}var g=a,h=0;c||a.trigger("change");if(0<b)E.on("elementLoaded",d);else e();var k=window.setTimeout(e,5E3)}f.C=function(){return this.aa};
f.Ue=function(){var a=new Hh;this.elements.forEach(function(b){b.Ue().Qe().forEach(function(b){a.fd(b)})});return a};f.clone=function(){return new ii(null,this.serialize())};function nw(a){var b=[];a.elements.forEach(function(a){b.push(a.elementIndex)});return[Math.min.apply(null,b),Math.max.apply(null,b)]}f.serialize=function(a){return a?ow(this):pw(this)};
function pw(a){var b=0,c=[];a=ow(a);a=$.extend(!0,{},a);a.elements.forEach(function(a){"group"===a.type?b++:(a.elementIndex-=b,delete a.groupIndex,c.push(a))});a.elements=c;return a}
function ow(a){var b;b=a.elements.filter(function(a){return!a.zd}).map(function(a){return a.serialize()});b.forEach(function(a,b){a.elementIndex=b});b.filter(function(a){return-1<Object.keys(a).indexOf("elements")}).forEach(function(a){a.childRange=nw(a);delete a.elements});b.forEach(function(a){if(!(0>Object.keys(a).indexOf("childRange"))){var c={bc:a.transparency,rotation:a.rotation,top:a.top,left:a.left,width:a.width,height:a.height},d=a.childRange,k=d[0],l=d[0];2===d.length&&(l=d[1]);for(var m=
k;m<=l;m++)b.forEach(function(b){if(b.elementIndex===m){var d=rp(c,{bc:b.transparency,rotation:b.rotation,top:b.top,left:b.left,width:b.width,height:b.height});b.transparency=d.bc;b.rotation=d.rotation;b.top=d.top;b.left=d.left;b.width=d.width;b.height=d.height;b.groupIndex=a.elementIndex}})}});var c={elements:b,width:a.width,height:a.height};a.No&&(c.dpi=a.No);var d=a.Y&&a.Y.serialize();d&&(c.layout=d);(a=lw(a))&&(c.resizeContentBox=a.serialize());return c}
f.clear=function(){for(hw(this);this.fa().length;)this.vi(this.elements[0]);this.Tg=this.jf=null};f.fa=function(){return this.elements};f.pa=function(){return this.fa().filter(function(a){return a.selected})};function qi(a){return a.fa().filter(function(a){return a.ib()})}
function qw(a,b){function c(a){return!a.ib()}function d(a){return!(a instanceof jn)}var e=b instanceof Array?b:[b],e=e.filter(c).filter(d);return 0===e.length?e:a.fa().filter(c).filter(d).filter(function(a){return-1===e.indexOf(a)}).filter(function(a){return e.some(function(b){return ad(b.ba(),a.ba())})})}
f.vi=function(a,b,c){var d=this.elements.indexOf(a);-1<d&&(this.elements.splice(d,1),a.remove(),c&&0===this.elements.length&&(this.Y=void 0),this.trigger("element:remove",this,a,d,!!b),a.ib()&&this.trigger("change:background",this))};
f.addElement=function(a,b,c){var d=this;this.elements.push(a);a.page=this;$m(a)&&a.fa().forEach(function(b){d.elements.push(b);b.Cb=a.Cb;b.page=d;d.trigger("element:add",d,b,!1,!1);a.C().find(".elements").append(b.C())});this.trigger("element:add",this,a,b,c);a.ib()&&this.trigger("change:background",this,a)};
function vn(a,b,c){0>c&&(c=a.elements.length);var d=a.elements.indexOf(b);-1==d?(c=Math.min(c,a.elements.length),a.elements.splice(c,0,b),b.page=a,a.trigger("element:add",a,b,!1,!1),b.ib()&&a.trigger("change:background",a,b)):(c=Math.min(c,a.elements.length-1),a.elements.splice(c,0,a.elements.splice(d,1)[0]),a.trigger("element:move",a,b))}f.Za=function(){return this.left};f.rr=function(a){this.left=a};f.fb=function(){return this.top};f.Be=function(a){this.top=a};f.N=function(){return 0};f.gb=ii.prototype.N;
f.K=function(){return 0};f.Oa=ii.prototype.K;f.A=function(){return this.width};f.Hc=ii.prototype.A;f.B=function(){return this.height};f.Fc=ii.prototype.B;f.Ta=function(){return this.N()+this.A()};f.Ob=ii.prototype.Ta;f.sa=function(){return this.K()+this.B()};f.Bb=ii.prototype.sa;f.ba=function(){return new K(this.N(),this.K(),this.A(),this.B())};f.Kh=function(){return this.N()+this.A()/2};f.Ga=function(){return 0};f.setSize=function(){};f.Z=function(a){this.Y&&this.Y.Z(a);this.width=a};
f.W=function(a){this.Y&&this.Y.W(a);this.height=a};f.Ba=function(){};f.Da=function(){};f.setPosition=function(){};function ti(a,b){a.Fa=b;Xn(a)}f.hm=function(){var a=qi(this);if(0<a.length){var a=a[a.length-1],b;if(b=a.re())a:{if(a.re()&&(b=Q(a.backgroundColor||"#ffffff"))){b=150>Hg(b);break a}b=a.ft}return b}return!1};
f.Xf=function(a){var b;this.Fa&&this.selected!==a&&!this.zd&&(a||(this.selected=!1),b=I(this.Fa),a=a||this===b,b!==this&&(b.selected=!a,b.trigger("change:selected",b,!a)),this.selected=a,this.trigger("change:selected",this,a))};f.remove=function(){this.elements.forEach(function(a){rw(a)});this.Fa&&ui(this.Fa,this)};
function Vv(a,b){a.C().find(".element").fadeOut();window.setTimeout(function(){for(;0<a.elements.length;)rw(a.elements[0]),a.elements[0].C().remove(),a.vi(a.elements[0],!1,!1);a.elements=[];b&&b()},400)}f.V=function(){return this.Fa?T(this.Fa,this):-1};f.bj=function(){return ng(this.serialize())};function Xn(a){(function(){a.fa().slice(0).forEach(function(b){b instanceof jn&&a.vi(b)})})();(function(){var b;try{b=rg(a.Fa.ja)}catch(c){b=[]}b.map(Cc).forEach(function(b){vn(a,b,0)})})()}
f.isEmpty=function(){return 1>this.fa().filter(function(a){return!a.zd}).length};function gh(a){function b(){h.ds.read(h.zw)}function c(a){h.nb.scrollLeft(m+Math.round((a.screenX-k)*h.scrollWidth/h.Ph))}function d(a){c(a);h.me.removeClass("active");$(document).off("mousemove",c).off("mouseup",d)}function e(a){h.nb.scrollTop(n+Math.round((a.screenY-l)*h.scrollHeight/h.Ui))}function g(a){e(a);h.Ee.removeClass("active");$(document).off("mousemove",e).off("mouseup",g)}this.Ui=this.Ph=this.jr=this.kr=this.scrollHeight=this.scrollWidth=this.scrollTop=this.scrollLeft=0;this.ds=bd(this);
this.es=bd(this);this.nb=a;this.nb.addClass("scrollBarElement");this.me=$("\x3cdiv\x3e").addClass("scrollThumb");this.Ee=$("\x3cdiv\x3e").addClass("scrollThumb");$("\x3cdiv\x3e").addClass("scrollTrack hScrollTrack").append(this.me).insertAfter(this.nb);$("\x3cdiv\x3e").addClass("scrollTrack vScrollTrack").append(this.Ee).insertAfter(this.nb);sw(this);var h=this,k=0,l=0,m=0,n=0;a=new tw({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});this.nb.on("scroll",
function(){h.es.read(h.Cw)});this.nb.on("transitionend",b);this.nb.on("mouseenter",function(){h.me.addClass("ready");h.Ee.addClass("ready")});this.nb.on("mouseleave",function(){h.me.removeClass("ready");h.Ee.removeClass("ready")});this.me.on("mousedown",function(a){0==a.button&&(k=a.screenX,m=h.scrollLeft,h.me.addClass("active"),$(document).on("mousemove",c).on("mouseup",d),a.preventDefault(),a.stopPropagation())});this.Ee.on("mousedown",function(a){0==a.button&&(l=a.screenY,n=h.scrollTop,h.Ee.addClass("active"),
$(document).on("mousemove",e).on("mouseup",g),a.preventDefault(),a.stopPropagation())});a.on("attrModified",b);a.on("subtreeModified",b);a.observe(this.nb);$(window).on("resize",b);$("\x3cspan\x3e").appendTo(this.nb).remove()}
function sw(a){bd(a).read(function(a){var c=this.nb.prop("clientWidth"),d=this.nb.prop("offsetWidth"),e=this.nb.prop("clientHeight"),g=this.nb.prop("offsetHeight");a.write(function(){d>c&&this.nb.css("margin-right",c-d);g>e&&this.nb.css("margin-bottom",e-g);this.ra()})}).done()}f=gh.prototype;f.ra=function(){this.ds.read(this.zw)};
f.zw=function(){var a=this.scrollWidth,b=this.scrollHeight,c=this.Ph,d=this.Ui;this.scrollWidth=this.nb.prop("scrollWidth");this.scrollHeight=this.nb.prop("scrollHeight");this.kr=this.nb.prop("clientWidth");this.jr=this.nb.prop("clientHeight");this.Ph=this.me.parent().outerWidth();this.Ui=this.Ee.parent().outerHeight();if(a!=this.scrollWidth||b!=this.scrollHeight||c!=this.Ph||d!=this.Ui)this.scrollTop=this.scrollLeft=-1,this.ds.write(this.pD),this.es.read(this.Cw)};
f.pD=function(){var a=Math.round(this.Ui*this.jr/this.scrollHeight);this.me.css("width",Math.round(this.Ph*this.kr/this.scrollWidth)+"px");this.Ee.css("height",a+"px");this.me.toggleClass("disabled",this.kr>=this.scrollWidth);this.Ee.toggleClass("disabled",this.jr>=this.scrollHeight)};f.Cw=function(){var a=this.scrollLeft,b=this.scrollTop;this.scrollLeft=this.nb.scrollLeft();this.scrollTop=this.nb.scrollTop();a==this.scrollLeft&&b==this.scrollTop||this.es.write(this.qD)};
f.qD=function(){var a=Math.round(this.Ui*this.scrollTop/this.scrollHeight);this.me.css("transform","translateX("+Math.round(this.Ph*this.scrollLeft/this.scrollWidth)+"px)");this.Ee.css("transform","translateY("+a+"px)")};var uw=null,Z=null;
function $t(a){Ja=!0;Na=!1;La=new Ks(va,[new Js(yc),new Hs(zc)]);$("#search").on("keypress",function(b){b.stopPropagation();if(13==b.which){b=$("#search");if(!b.val().match(/^\s*$/)){var c=$("#objectPanel").find("menu");switch(b.val().toLowerCase()){case "grid":case "grids":$("#resultsSearch li:not(.folderExpanded) \x3e a[data-query\x3dgrids]").mousedown();$("#resultsSearch \x3e .layer").animate({scrollTop:$("#resultsSearch a[data-query\x3dgrids]").parent().position().top},600);break;case "layout":case "layouts":c.find(".layout a").trigger("touchClick");
b.select();break;case "text":case "font":case "fonts":c.find(".text a").trigger("touchClick");b.select();break;case "bkground":case "background":case "backgrounds":c.find(".backgrounds a").trigger("touchClick");b.select();break;case "upload":case "uploads":c.find(".uploads a").trigger("touchClick");b.select();break;default:gu(a)}}b=!1}else b=void 0;return b});$("#search").on("keydown",vw);$("#search").on("keyup",vw)}function ru(){uw&&uw.cancel();uw=null}
function gu(a,b,c,d){function e(){l.animate({scrollTop:q-50},600,function(){c();r.remove();Ja=!0;d()})}function g(){var a=$(".infoPanel",n);0<a.length&&(n.addClass("doNotTransition"),a.addClass("doNotTransition"),$(".close",a).trigger("touchClick"),a.data("infoPanelPointer").remove(),a.remove(),n.removeClass("doNotTransition"));var b=Ku(k),c=-1;$("\x3e .gallery \x3e li",n).each(function(){var a=$(this);p+a.data("originalTop")<b&&(a.addClass("oldSearch"),setTimeout(function(){a.addClass("doNotTransition newSearch");
setTimeout(function(){a.removeClass("doNotTransition newSearch oldSearch")},20)},20*++c+300))});setTimeout(function(){Na=!1},20*c+300)}ru();var h=$("#search"),k=$("#resultsSearch"),l=k.children(".layer").first(),m=$("\x3e .inner \x3e .searchGroup",l);b=!!wa.Ma.get(dc)&&!1!==b;l.data("userPreparedSearch",!0);if(Z&&h.val().trim()==Z.query){var n=m.last();wu(n);if(!Na){Na=!0;var p=Lu(n),h=p-50;1<Math.abs(h-l.scrollTop())?l.animate({scrollTop:h},600,g):g()}}else{c=c||function(){vu(a)};d=d||function(b){ev(a,
b)};Z=new tu(h.val(),Ms,null,null,b,null,uu(k,k.height()),c);Ja=!1;Vu?h.blur():h.select();n=$('\x3cdiv class\x3d"searchGroup hasContent"\x3e\x3ch2\x3e\x3c/h2\x3e\x3cdiv class\x3d"searchSuggestion"\x3e\x3c/div\x3e\x3cul class\x3d"gallery photoGallery infoPanelGallery"\x3e\x3c/ul\x3e\x3c/div\x3e');""!=h.val()?$("h2",n).text("“"+h.val()+"”"):$("h2",n).text("");n.height(k.height());var r=$();0<$(".searchLoaderHolder.on",k).length&&(r=$('\x3cdiv class\x3d"placeholder"\x3e\x3cdiv/\x3e'),r.height($(".searchLoaderHolder",
k).height()),l.addClass("doNotTransition"),r.insertAfter(m.last()),l.removeClass("doNotTransition"));wu(m.last());var q=fv(l),v=Ku(k),h=q>v+50;b=$();var w=$();if(h){var x=v+50,y=$();m.each(function(){var a=$(this);0==y.length&&Lu(a)+a.outerHeight()>x&&(y=a)});0==y.length&&(y=m.last());var v=$(".gallery",y),w=x-Lu(y),z=0;0<v.length&&(z=w-(v.offset().top-y.offset().top));z=Tu(v,z);b=b.add(z);w=y.nextAll(".searchGroup");0>=$("li",v).length-z.length&&(b=$(),w=w.add(y));w=w.filter(function(){return!$(this).hasClass("inlineFolderGroup")});
if(0==b.length&&0==w.length)h=!1;else{k.addClass("modifying");z=w;0<b.find("a.infoOpen").length&&(z=z.add(y));var G=$(".infoPanel",z);0<G.length&&(z.addClass("doNotTransition"),G.addClass("doNotTransition"),$(".close",G).trigger("touchClick"),G.data("infoPanelPointer").remove(),G.remove(),z.removeClass("doNotTransition"));v=v.data("columnData")||null;gv(v,b);b.detach();Jl(y,!0);y.hasClass("inlineFolderGroup")&&ww(l.data("view"),!1);k.removeClass("modifying")}}m=$("\x3e .inner \x3e .searchGroup",l);
b=w.map(function(){return $(this).outerHeight(!0)}).toArray().reduce(function(a,b){return a+b},0);b=fv(l)+n.height()-b;h&&b<Ku(k)&&n.height(n.height()+(Ku(k)-b));n.insertAfter(m.last());w.detach();var A=w.toArray(),m=m.filter(function(){return-1==A.indexOf(this)});h||0!=$(".gallery li",m.last()).length||(m.last().remove(),m=m.filter(function(a){return a!=m.length-1}));n.data("search",Z);var q=0,B=parseInt(n.css("padding-top"),10)+parseInt(n.css("padding-bottom"),10);m.last().addClass("doNotTransition");
m.each(function(){var a=$(this);if(void 0!==a.data("contentHeight")){var b=a.data("contentHeight"),b=b+Ru(a);a.height(b);q+=b+B}});m.last().removeClass("doNotTransition");h=$("#objectPanel").find("menu .search");h.hasClass("on")||h.find("a").trigger("touchClick");e()}}
function vu(a){ru();uw=Ns(La,u?u.ya():null,Z.query,Z.jq,Z.Ip,Z.$o,Z.lw,Z.sort,Z.Jh(),Z.rd(),!0).catch(function(a){return!(a instanceof P.CancellationError)},function(){}).then(function(b){ev(a,b)}).catch(P.CancellationError,function(){})}
function ev(a,b){if(Ja){var c=qu(),d=$("\x3e .layer \x3e .inner \x3e .searchGroup",c).last();if(d.data("search")!==Z)wu(d);else if(b){Ja=!1;var e=b.am(),g=$(".photoGallery, .backgroundGallery",d);Z.dk=e.length;wu(c.children(".layer"));if(0==e.length&&cv())Ja=!0,Z.Tv();else{var h=b.suggestion,k=Z,l=Z.query;if(wa.Ma.get(dc)&&h){var m=$("h2",d),n=$(".searchSuggestion",d);n.empty().addClass("hasSuggestion");window.setTimeout(function(){n.addClass("showSuggestion")},300);h.overridden?(Z=new tu(Ws(h),k.jq,
k.Ip,k.$o,!1,k.sort,k.rd(),function(){vu(a)}),Z.dk=e.length,d.data("search",Z),m.text("“"+Ws(h)+"”"),0<h.originalHits?n.append("Search instead for ").append($("\x3ca/\x3e").data("query",h.originalQuery).append(h.originalQuery)):n.addClass("originalSearch").append("You typed ").append($("\x3cstrong/\x3e").append(h.originalQuery))):n.append("Did you mean: ").append($("\x3ca/\x3e").data("query",Ws(h)).append(xw(h)))}else 0===k.Jh()&&$(".searchSuggestion",d).empty().removeClass("showSuggestion").removeClass("hasSuggestion");
0<e.length?(e=e.slice(0,k.rd()),e.forEach(function(a){Uc(ma,a.F(),a.S(),a.Sa())}),e.forEach(function(a){(new yw({model:a,query:l})).$el.appendTo(g)}),Il(g),setTimeout(function(){bv(c,a)},20*e.length+300)):0==k.Jh()&&(g.remove(),$(".noResults",d).remove(),e=$('\x3cp class\x3d"noResults"\x3e').text(Cb(ob(a))),d.append(e))}}else 0===d.children(".gallery").find("li").length?su(d):$(".searchLoader",d).css("display","none")}}
function su(a){if(0>=$(".searchLoader",a).length){var b=$('\x3cdiv class\x3d"searchLoader tileListBusyIndicator"\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e');a.append(b);b.addClass("tileListBusyIndicatorOn")}}
function xw(a){var b=$("\x3cspan/\x3e");if(!a.tokenReplacements||0==a.tokenReplacements.length)return b.text(Ws(a)),b;var c=a.originalQuery;a=a.tokenReplacements;for(var d=0,e=0,g=0;d<c.length&&g<a.length;)d==a[g].start?(e<d&&b.append(c.substring(e,d)),b.append($("\x3cspan\x3e").addClass("replacedToken").text(a[g].replacement)),d=e=a[g].end,g++):d++;e<c.length&&b.append(c.substring(e,c.length));return b}
function wu(a){$(".searchLoader",a).each(function(){$(this).remove();$(".searchLoaderHolder",a).removeClass("on")})};function zw(){this.nf=[]}zw.prototype.trigger=Backbone.Events.trigger;zw.prototype.listenTo=Backbone.Events.listenTo;zw.prototype.stopListening=Backbone.Events.stopListening;_.extend(zw.prototype,Backbone.Events);zw.prototype.gd=function(a){Aw(this,a,this.nf.length)};function Aw(a,b,c){-1===a.nf.indexOf(b)&&(c=Math.max(0,Math.min(c,a.nf.length)),a.nf.splice(c,0,b),a.listenTo(b,"all",function(){a.trigger.apply(this,arguments)}),a.trigger("searchGroup:add",a,b,c))}
zw.prototype.yk=function(a){var b=this.nf.indexOf(a);-1<b&&(a.remove(),this.nf.splice(b,1),this.stopListening(a),this.trigger("searchGroup:remove",this,a,b))};function Bw(a){return a.nf[a.nf.length-1]}zw.prototype.Jf=function(){return this.nf.length};function Cw(a,b){this.lr=a;this.title=b||"";this.ze=[];this.ci=!0}Cw.prototype.trigger=Backbone.Events.trigger;_.extend(Cw.prototype,Backbone.Events);Cw.prototype.Aa=function(){return this.title};Cw.prototype.remove=function(){this.lr.cancel()};
Cw.prototype.clear=function(){this.ze=[];this.ci=!0;this.lr.reset();this.trigger("results:clear",this)};Cw.prototype.Cc=function(a){var b=this;this.trigger("results:willFetch",b);this.lr.Mh(a,function(c,d){b.ci=c.length>=a;0<c.length&&(b.ze=b.ze.concat(c));b.trigger("results:didFetch",b,c,d)})};
function Dw(a){var b=va,c=sa;if(-1<["grid","grids"].indexOf(a.toLowerCase()))return new Ew(a);if("uploads"===a)return new Fw(c,!0);if("marketplace"===a)return new Fw(c,!1);b=new Ks(b,[new Js(yc),new Hs(zc)]);a=new tu(a,Ms,null,null,!1,[],0,function(){});return new Gw(b,a)}function Hw(){}_.extend(Hw.prototype,Backbone.Events);Hw.prototype.Mh=function(a,b){b&&b([],!0)};Hw.prototype.cancel=function(){};Hw.prototype.reset=function(){};
function Gw(a,b){this.search=a;this.bd=b;this.La=!1;this.Sm=this.ab=null}_.extend(Gw.prototype,Backbone.Events);f=Gw.prototype;f.Mh=function(a,b){function c(a){return!(a instanceof P.CancellationError)}this.ab?b&&b([],!0):this.Nu(a,b,this.La)||(this.bd.mb=a,this.Sm=b,this.ab=Os(this.search,u?u.ya():null,this.bd.query,this.bd.jq,this.bd.Ip,this.bd.$o,this.bd.lw,this.bd.sort,this.bd.Jh(),this.bd.rd()).catch(c,function(){}).then(this.JD.bind(this)).catch(P.CancellationError,function(){}))};f.Nu=function(){return!1};
f.cancel=function(){this.La=!0;this.ab&&this.ab.cancel();this.ab=null};f.reset=function(){this.cancel();this.La=!1;this.bd.reset()};f.JD=function(a){var b=[];!this.La&&a&&a.am()&&(b=a.am());this.Mu(b,this.bd.rd());this.Sm&&this.Sm(b,this.La);this.ab=this.Sm=null;this.La||(this.bd.dk=b.length,a=this.bd,a.from+=a.mb)};f.Mu=function(){};function Ew(a){this.Ii=0;this.Jb=[];this.query=a;this.La=!1;if("grid"===a||"grids"===a)this.query="grid",this.Jb=_.keys(lg)}Ew.prototype.cancel=function(){this.La=!0};
Ew.prototype.Mh=function(a,b){if(this.Ii>=this.Jb.length||this.La)b&&b([],this.La);else{var c=this.Jb.slice(this.Ii,this.Ii+a);this.Ii+=a;b&&b(c,!1)}};Ew.prototype.reset=function(){this.La=!1;this.Ii=0;this.Jb=[]};function Fw(a,b){this.tb=a;this.Rv=b;this.Od=0;this.La=!1;this.ab=null}
Fw.prototype.Mh=function(a,b){function c(a,c){function e(a){var b=a.da(),c=b.Sa(),d;ss(a.da())&&(d=100*ss(a.da()).ONE_USE||0);c&&0!=Object.keys(c).length&&(a=Mc({id:a.F(),version:b.S(),files:c,oneTimeUsePriceCents:d,status:b.lb(),type:a.Yb()}),m.push(a))}var m=[];200===a&&c.media&&0!==c.media.length?(d(c.media).forEach(e),b&&b(m,g.La),g.Od+=m.length,g.ab=null):b&&b([],g.La)}function d(a){return a.sort(function(a,b){var c=a.F(),d=b.F();return-(c<d?-1:c>d?1:0)})}var e,g=this;e=[Ic,Kc];this.ab?b&&b([],
!0):(e=gr(hr((new ir).eg(this.Rv).sf(!1).kh(),!1),e).Wk(this.Od,a),this.Rv||(e=vs(e).Wi(!0)),this.ab=kr(sa,e,c))};Fw.prototype.cancel=function(){this.La=!0;this.ab&&(this.ab.cancel(),this.ab=null)};Fw.prototype.reset=function(){this.cancel();this.La=!1;this.Od=0};function Iw(a,b){void 0!==a&&void 0!==b&&Gw.call(this,a,new tu("*",Ls,{designType:b.getName()},null,!1,[new at("lastModified","DESC"),new at("id","ASC")],0,function(){}));this.ak=b.getName();this.Hl=!1;this.Ij=0}_.extend(Iw.prototype,Gw.prototype);
Iw.prototype.reset=function(){Gw.prototype.reset.call(this);this.Hl=!1;this.Ij=0};Iw.prototype.Nu=function(a,b,c){var d=[];return this.Hl?(Jw(this,d,this.Ij,a),b&&b(d,c),!0):!1};Iw.prototype.Mu=function(a,b){(this.Hl=0===a.length||a.length<b)&&md[this.ak]&&Jw(this,a,this.Ij,b-a.length)};function Jw(a,b,c,d){c=_.rest(_.keys(lg),c);d=_.first(c,d);a.Ij+=d.length;d.forEach(function(a){b.push(Kw(a))})}
function Kw(a){var b=lg[a];a=new pq;var c=t.ja,b={width:c.A(),height:c.B(),elements:[{type:"grid",left:0,top:0,width:c.A(),height:c.B(),items:b.items}]};a.name="Photo Grid";a.content=b;return a}function Lw(a){this.La=!1;this.Ac=a.Ac;this.Ea=a.Ea;this.Kb=a.Kb;this.bp=!1;this.bb=this.ab=null}_.extend(Lw.prototype,Gw.prototype);
Lw.prototype.Mh=function(a,b){function c(a){b&&b([],e.La);throw a;}function d(a){e.bb=a.continuation;e.bp=!e.bb;a=a.documents;a=a.filter(function(a){a=(a=a.draft)&&a.content;return!(!a||!a.pages)});b&&b(a,e.La);e.ab=null}var e=this,g=Yi(Xi().Wk(this.bb,a),this.Ea,this.Kb);this.ab?b&&b([],!0):this.bp?b&&b([],this.La):this.ab=Mi(this.Ac,g).then(d).catch(c)};Lw.prototype.cancel=function(){this.La=!0;this.ab&&(this.ab.cancel(),this.ab=null)};
Lw.prototype.reset=function(){this.cancel();this.La=!1;this.bb=null;this.bp=!1};function Mw(a){this.Kb=a.Kb;this.La=!1;this.Qa=a.Qa;this.Ac=a.Ac;this.xt=!1;this.bb=this.ab=null;this.ps=a.ps}_.extend(Mw.prototype,Gw.prototype);
Mw.prototype.Mh=function(a,b){function c(a){var b=a.qd().map(h);l.xt=null==a.gc();l.bb=a.gc();return 0!==b.length?(a=(new Wi).Cn(b),Mi(l.Ac,a)):P.resolve({documents:[]})}function d(a){b(a.documents,l.La)}function e(){b([],l.La)}function g(){l.ab=null}function h(a){return a.F()}var k,l=this;this.ab?b&&b([],!0):this.xt?b&&b([],this.La):(k={Kb:l.Kb,filter:l.Qa,oa:"/designs/layouts",format:jq,mb:a,bb:l.bb},this.ab=this.ps.dA(k).then(c).then(d).catch(e).finally(g))};
Mw.prototype.cancel=function(){this.La=!0;this.ab=null};Mw.prototype.reset=function(){this.cancel();this.La=!1;this.bb=null};function tu(a,b,c,d,e,g,h,k){this.query="";this.jq=b;this.Ip=c;this.$o=d;this.lw=e;this.sort=g;"string"===typeof a?this.query=a.trim():a instanceof Qs&&(this.query="group:"+a.ea());this.from=0;this.mb=h;this.dk=0;this.Tv=k}tu.prototype.Jh=function(){return this.from};tu.prototype.rd=function(){return this.mb};function cv(){var a=Z;return a.dk>=a.mb}tu.prototype.reset=function(){this.dk=this.from=0};function Nw(a){if(void 0!==a&&!Ow(a))throw Error("StateMachine constructed with invalid options: "+JSON.stringify(a));this.Ie=a?a.su||"none":"none";this.ed=a?a.ed.slice(0):[]}Nw.prototype.trigger=Backbone.Events.trigger;_.extend(Nw.prototype,Backbone.Events);Nw.prototype.sd=function(){return this.Ie};function Pw(a){return a.ed.map(function(a){return _.extend({},a)})}
function Qw(a,b){var c=a.ed.concat(b);if(!Ow({su:a.Ie,ed:c}))throw Error("Invalid transitions being added: "+JSON.stringify(c));a.ed=a.ed.concat(b)}Nw.prototype.transition=function(a){var b=this.Ie,c=Rw(this,a);if(null!==c)this.Ie=c,this.trigger("state:enter",this,c,b);else throw Error("Invalid transition "+a+" from "+this.Ie);};
function Sw(a,b){var c=a.Ie;if(-1===a.ed.filter(function(a){return a.from===c&&a.to===b}).map(function(a){return a.to}).indexOf(b))throw Error('Cannot transition from "'+c+'" to "'+b+'"');a.Ie=b;a.trigger("state:enter",a,b,c)}Nw.prototype.start=function(){this.transition("start")};Nw.prototype.fail=function(){this.transition("fail")};
function Rw(a,b){var c=a.ed.filter(function(c){return c.name===b&&c.from===a.Ie});if(1<c.length)throw Error('More than 1 transition "'+b+'" exists from state "'+a.Ie+'"');return 1===c.length?c[0].to:null}function Ow(a){var b=a.su||"none",c;c=-1===Tw(a.ed).indexOf(b)?!1:!0;var d=Uw(a.ed);a=Vw(a.ed);b=0===a.length||1===a.length&&a[0]===b;return c&&b&&0===d.length}function Tw(a){a=a.map(function(a){return[a.from,a.to]});return _.uniq(_.flatten(a))}
function Vw(a){return Tw(a).filter(function(b){return 0===a.filter(function(a){return a.to===b}).length})}function Uw(a){return Tw(a).filter(function(b){var c=a.filter(function(a){return a.from===b}).map(function(a){return a.name});return c.length>_.uniq(c).length})};function Ww(a){this.bq=a.justification;this.list=a.list;this.o=a.italic;this.bold=a.bold;this.fontSize=a.fontSize;this.fontFamily=a.fontFamily;this.color=a.color}_.extend(Ww.prototype,Backbone.Events);f=Ww.prototype;f.trigger=Backbone.Events.trigger;f.Mk=function(){return["left","center","right","bold","italic"]};f.wd=function(a){this.bq=a;this.trigger("change:justification",this);this.trigger("change",this);return this};
f.Fk=function(a){this.list=a;this.trigger("change:list",this);this.trigger("change",this);return this};f.Se=function(){return this.o};f.pf=function(a){this.o=a;this.trigger("change:italic",this);this.trigger("change",this);return this};f.Pe=function(){return this.bold};f.of=function(a){this.bold=a;this.trigger("change:bold",this);this.trigger("change",this);return this};f.Xb=function(){return this.fontSize};
f.jc=function(a){this.fontSize=a;this.trigger("change:fontSize",this);this.trigger("change",this);return this};f.Ce=function(a){this.fontFamily=a;this.trigger("change:fontFamily",this);this.trigger("change",this);return this};f.Tl=function(){return this.color};f.setColor=function(a){this.color=a;this.trigger("change:color",this);this.trigger("change",this);return this};
f.serialize=function(){return{justification:this.bq,list:this.list,italic:this.o,bold:this.bold,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color}};function vt(a){this.source=a;this.filename="";this.viewBox=[]}vt.prototype.Lw=function(a){this.filename=a;return this};var Xw="circle clippath defs desc ellipse feblend fecolormatrix fecomponenttransfer fecomposite feconvolvematrix fediffuselighting fedisplacementmap fedistantlight feflood fefunca fefuncb fefuncg fefuncr fegaussianblur feimage femerge femergenode femorphology feoffset fepointlight fespecularlighting fespotlight fetile feturbulence filter g hkern image line lineargradient marker mask path pattern polygon polyline radialgradient rect stop svg symbol text textpath title tref tspan use view vkern".split(" "),
Yw="amplitude azimuth basefrequency baseline-shift bias class clip clip-path clip-rule clippathunits color color-interpolation color-interpolation-filters color-profile color-rendering cursor cx cy d diffuseconstant direction display divisor dominant-baseline dx dy edgemode elevation enable-background exponent fill fill-opacity fill-rule filter filterres filterunits flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight fx fy g1 g2 glyph-orientation-horizontal glyph-orientation-vertical gradienttransform gradientunits height id image-rendering in in2 intercept k k1 k2 k3 k4 kernelmatrix kernelunitlength kerning lengthadjust letter-spacing lighting-color limitingconeangle marker-end marker-mid marker-start markerheight markerunits markerwidth mask maskcontentunits maskunits method mode numoctaves offset opacity operator order orient overflow pathlength patterncontentunits patterntransform patternunits pointer-events points pointsatx pointsaty pointsatz preservealpha preserveaspectratio primitiveunits r radius refx refy result rotate rx ry scale seed shape-rendering slope spacing specularconstant specularexponent spreadmethod startoffset stddeviation stitchtiles stop-color stop-opacity stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style surfacescale tablevalues targetx targety text-anchor text-decoration text-rendering textlength transform type u1 u2 unicode-bidi values version viewbox viewtarget visibility width word-spacing writing-mode x x1 x2 xchannelselector xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space xmlns xmlns:svg xmlns:xlink y y1 y2 ychannelselector z zoomandpan".split(" "),
Zw=/^data:image\/[^,;]+;base64,/;function no(a,b){var c;a:{try{c=$.parseXML(a)}catch(d){c=null;break a}c=$(c.documentElement)}return!c||!b&&$w(c)||ax(c)?!1:!0}function $w(a){return a.find("*").andSelf().toArray().some(function(a){return-1===Xw.indexOf(a.localName.toLowerCase())})}
function ax(a){return a.find("*").andSelf().toArray().some(function(a){a=a.attributes;for(var c=0;c<a.length;c++){var d=a[c].name.toLowerCase(),e;if(e="xlink:href"===d)e=a[c].value,e=!("#"===e.charAt(0)||Zw.test(e));if(e||-1===Yw.indexOf(d))return!0}return!1})};function xt(a){var b=a.indexOf("\x3csvg",0),c=a.slice(0,b);-1===c.toUpperCase().indexOf("\x3c!DOCTYPE")&&(a=c+'\x3c!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"\x3e\n'+a.slice(b));return a}function zt(a){function b(a){return 0!==a.filter(function(a){return isNaN(a)}).length}var c=($($.parseXML(a)).find("svg").attr("viewBox")||"").split(/\s/);a=c.map(function(a,b){return parseFloat(c[b])});return 4!==a.length||b(a)?[]:a}
function yt(a){function b(a){a=g.attr(a);return"undefined"==typeof a||""===a?NaN:parseFloat(a.replace(/[^0-9\.]/g,""))}var c=$("#limbo"),d=!1;0>=c.length&&(c=$('\x3cdiv id\x3d"limbo"\x3e\x3c/div\x3e'),$("body").append(c),d=!0);var e=$($.parseXML(a)),g,h,k,l,m;if(4!==zt(a).length){g=e.find("svg");if(!g)throw Error("SVG with no \x3csvg\x3e!");h=b("x");k=b("y");l=b("width");m=b("height");var n=e.find("svg");c.append(n);n=n.get(0).getBBox();isNaN(h)&&(h=n.x);isNaN(k)&&(k=n.y);isNaN(l)&&(l=n.width);isNaN(m)&&
(m=n.height);e.remove();d&&c.remove();c=' viewBox\x3d"'+[h,k,l,m].join(" ")+'" ';d=a.indexOf("\x3csvg",0)+4;return a.substring(0,d)+c+a.substring(d)}return a}
function wt(a){if(!no(a))throw Error("Aborting attempt to generate color changes on unacceptable SVG");var b=$(a).filter("svg"),c='\x3c?xml version\x3d"1.0" standalone\x3d"no"?\x3e',d=a.match(/<\?xml([^?]*)\?>/gi);d&&0<=d.length&&(c=d[0]);d=b.find("[fill]").not('[fill\x3d"none"]');if(0<b.find("g").filter(function(){return/^change/gi.test(this.id)}).length)return a;var e=[],g={},h=0;d.each(function(){h++;var a=Q($(this).attr("fill"));if(a){var b=a.X();g.hasOwnProperty(b)||(e.push(a.X()),g[b]=1);a=
e.indexOf(b)+1;$(this).wrap('\x3cg id\x3d"change'+a+"_"+g[b]+'"\x3e\x3c/g\x3e');g[b]+=1}});a=$("\x3cdiv\x3e\x3c/div\x3e").append(b).html();return c+a};function po(a,b){var c=a.trim(),c=c.replace(/SVGID_/g,b+"SVGID_"),c=c.replace(/font-size\s*:\s*\d+\.?\d*(?=[\s;"])/g,"$\x26px"),c=xt(c);return c=yt(c)}function qo(a){var b=a.get(0);b.removeAttribute("width");b.removeAttribute("height");b.removeAttribute("id");$("g",a).each(function(a,b){b.id=b.id.toLowerCase()});$("style",a).remove();bx(a);cx(a);dx(a);ex(a);gx(a)}
function bx(a){var b=0,c=0,d=/^[neswc]_repeat/i,e=/^([ns][ew]?|e|w|c)(_\d+)(_|$)/i;$("g",a).each(function(a,g){if(d.test(g.id))g.id=g.id.substr(0,1),g.classList.add("repeat");else{var h=g.id.match(e);h&&h[1]&&(g.id=h[1])}-1<["w","e"].indexOf(g.id)&&b++;-1<["n","s"].indexOf(g.id)&&c++});var g=0<b&&0===c,h=0<c&&0===b,k=a.get(0);g?(k.classList.add("horizontalOnly"),$("g#w, g#c, g#e",a).each(function(a,b){b.id="n"+b.id;"nc"==b.id&&(b.id="n")})):h&&(k.classList.add("verticalOnly"),$("g#n, g#c, g#s",a).each(function(a,
b){b.id+="w";"cw"==b.id&&(b.id="w")}))}
function cx(a){var b=/^change(\d+|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var e=parseFloat(b.id.substr(6));isNaN(e)&&(e=1);b.removeAttribute("id");var g=/(\b|^)fill\s*:\s*([^;]+);\s*/i,h=null;$("[style*\x3dfill], [fill]",b).each(function(){var a=this.getAttribute("style"),b=a&&a.match(g);h=b?a.match(g)[2]:this.getAttribute("fill");b&&(a=a.replace(g,""),this.setAttribute("style",a),this.setAttribute("fill",h));this.classList.add("color");this.classList.add("color-"+
e);this.setAttribute("data-color",h);"#ffffff"===h.toLowerCase()?this.classList.add("primaryColor"):"#3f4652"===h.toLowerCase()&&this.classList.add("secondaryColor")})})}
function dx(a){var b=/^stack(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var e=b.id;b.removeAttribute("id");b.classList.add("canva");b.classList.add("stack");e=e.match(/_(vcenter|vtop|vbottom)(_|$)/i);b.setAttribute("data-valign",e?e[1].substr(1).toUpperCase():"CENTER");b.setAttribute("data-stack-id",a)})}
function ex(a){var b=ro(a),c=b.N(),d=b.K(),e=/^[op](_|$)/i,g=0;a.find("g").filter(function(){return e.test(this.id)}).each(function(a,b){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("class","canva");b.parentNode.insertBefore(e,b);b.parentNode.removeChild(b);var m=hx(b,["circle","ellipse","path","polygon","rect"]);if(null!==m){var n=document.createElementNS("http://www.w3.org/2000/svg","clipPath");e.appendChild(n);n.id=oo();n.setAttribute("transform","translate("+
-c+", "+-d+")");m.setAttribute("class","photoPlaceholder");n.appendChild(m);var p=document.createElementNS("http://www.w3.org/2000/svg","image");p.setAttribute("class","placeholder");p.setAttribute("clip-path","url(#"+n.id+")");p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","https://static.canva.com/static/images/placeholder.jpg");p.setAttribute("transform","translate("+c+", "+d+")");p.setAttribute("data-placeholder-index",g.toString());g++;e.appendChild(p);m=ix(m,"cx cy r rx ry d pathLength points x y width height transform".split(" "));
m.setAttribute("class","outline");m.setAttribute("fill","none");e.appendChild(m)}})}
function gx(a){var b=/^t(_|$)/i;a.find("g").filter(function(){return b.test(this.id)}).each(function(a,b){var e=document.createElementNS("http://www.w3.org/2000/svg","g");e.setAttribute("class","canva");b.parentNode.insertBefore(e,b);b.parentNode.removeChild(b);var g=hx(b,["rect"]);if(null!==g){g=ix(g,"rx ry x y width height".split(" "));g.setAttribute("class","textPlaceholder");g.setAttribute("fill","none");e.appendChild(g);var e=hx(b,["text"]),e=jx(e),h=b.id,k=/_(dfont)(_|$)/.test(h),l=/_(dwidth)(_|$)/.test(h),
m=/_(dheight)(_|$)/.test(h),n=h.match(/_(left|center|right)(_|$)/),h=h.match(/_ls([0-9]+)(_|$)/),e=$.extend({},e,{justification:n?n[1]:void 0,"line-spacing":h?parseFloat(h[1].substring(0,1)+"."+h[1].substring(1)):void 0,"dynamic-font-size":k,"dynamic-width":l&&!m,"dynamic-height":m}),p;for(p in e)g.setAttribute("data-"+p,e[p]);if(b){p=[];e=b.getElementsByTagNameNS("http://www.w3.org/2000/svg","text");for(k=0;k<e.length;k++)l=e[k],l.textContent&&0<l.textContent.trim().length&&p.push(l.textContent.trim());
p=p.join(" ")}else p="";""!=p&&g.setAttribute("data-placeholder-text",p)}})}function ix(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a.nodeName);b.forEach(function(b){a.hasAttribute(b)&&c.setAttribute(b,a.getAttribute(b))});return c}function hx(a,b){var c=[];b.forEach(function(b){b=a.getElementsByTagNameNS("http://www.w3.org/2000/svg",b);for(var e=0;e<b.length;e++)c.push(b[e])});return 0===c.length?null:c[0]}
function jx(a){function b(a){for(var b=a.replace(/^['"]|['"]$/g,""),d=Dr(xa),e,g,p=0;p<d.length;p++)for(g in e=d[p],e.G)if(e.G[g].l.toLowerCase()===b.toLowerCase())return a=-1<[e.G.bold,e.G.v].indexOf(e.G[g]),g=-1<[e.G.o,e.G.v].indexOf(e.G[g]),{"font-name":e.name||e.family,"font-family":e.family,bold:a,italic:g};return c(a)}function c(a){var b=["bold","italic","bolditalic","black"],c={},d=Dr(xa),e=a.replace(/^['"]|['"]$/g,"").toLowerCase();if(a=_.find(d,function(a){return(a.I||"").toLowerCase()===
e}))return c["font-name"]=a.name||a.family,c["font-family"]=a.family,c;var d=d.filter(function(a){a=(a.I||"").toLowerCase().replace(/-[^-]+$/,"");return 0===e.indexOf(a)}),g=_.find(d,function(a){return-1<(a.I||"").toLowerCase().indexOf("-regular")})||d[0];g&&b.forEach(function(a){var b=(g.I||"").toLowerCase().replace(/-[^-]+$/,"");e==b+"-"+a&&(c["font-name"]=g.name||g.family,c["font-family"]=g.family,c.bold="bold"==a||"bolditalic"==a||"black"==a,c.italic="italic"==a||"bolditalic"==a)});return c}var d=
["fill","font-size","font-family"];if(!a)return{};var e={};d.forEach(function(b){var c=(a.getAttribute(b)||"").trim();""!==c&&(e[b]=c)});(a.getAttribute("style")||"").split(";").forEach(function(a){var b=a.split(":");2==b.length&&(a=b[0].trim(),b=b[1].trim(),-1<d.indexOf(a)&&(e[a]=b))});if(e.fill){var g=Q(e.fill);g?e.fill=g.X():delete e.fill}e["font-size"]&&(e["font-size"]=.72*parseFloat(e["font-size"]));e["font-family"]&&(g=b(e["font-family"]),delete e["font-family"],$.extend(e,g));return e};(function(){function a(a){var b="animationend"==a?e():d();return function(a){$(this).on(b,a,c)}}function b(a){var b="animationend"==a?e():d();return function(){$(this).off(b,c)}}function c(a){return a.data.handler.call(this,a)}function d(){var a=document.createElement("div"),b={transition:"transitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},c;for(c in b)if(void 0!==a.style[c])return b[c];throw Error("Unsupported browser");}function e(){var a=document.createElement("div"),
b={animation:"animationend",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"},c;for(c in b)if(void 0!==a.style[c])return b[c];throw Error("Unsupported browser");}["animationend","transitionend"].forEach(function(c){var h="animationend"==c?e():d();c!=h&&($.event.special[c]={add:a(c),remove:b(c)})})})();function Pg(a,b,c,d){var e;a==c?e=b>d?1.5*Math.PI:.5*Math.PI:(e=Math.atan((d-b)/(c-a)),a<c?d<b&&(e=2*Math.PI+e):e=Math.PI+e,isNaN(e)&&(e=0));return kx(180*e/Math.PI)}function kx(a){a%=360;0>a&&(a+=360);return a}function lx(a){return Math.PI/180*a}function Ym(a,b){var c;c=a-b;return 0>c?360+c:c}function mx(a,b){var c;c=Math.floor(180*Math.atan2(a.y-b.y,a.x-b.x)/Math.PI+90);return 0>c?360+c:c}
function nx(a){switch(a){case 0:return 270;case 2:return 0;case 7:return 90;case 5:return 180;default:return-1}}function Qg(a,b,c,d){return Math.sqrt(Math.pow(c-a,2)+Math.pow(d-b,2))};function ox(a){this.listener=void 0;this.Eo=a;this.Sn=this.visible=!1;this.bu=[]}function px(a){a.Eo.O.forEach(function(a){if(a.C()){if(0>=a.C().find(".guides").length){var c=$('\x3cdiv class\x3d"guides"\x3e\x3cdiv class\x3d"vertical gutter"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal gutter"\x3e\x3c/div\x3e\x3c/div\x3e');a.C().append(c)}a.C().find(".guides").css("display","block")}})}f=ox.prototype;f.toggle=function(){this.visible?(this.hide(),qx(this)):this.Sn?qx(this):this.show()};
function rx(a){return a.bu.filter(function(a){return a&&a.Cb&&a.T()})}f.add=function(a){this.bu.push(a)};f.hide=function(){this.visible=!1;this.Eo.O.forEach(function(a){a.C()&&a.C().find(".guides").css("display","none")});rx(this).forEach(function(a){a.C().addClass("inactive")});this.stopListening()};f.stopListening=function(){this.listener&&this.listener.off("mousedown+touchstart",".guides",this.Os)};
f.show=function(){this.visible=!0;px(this);rx(this).forEach(function(a){a.activate()});this.listener=new S("#canvaDocument");this.Os=this.Oo.bind(this);this.listener.on("mousedown+touchstart",".guides",this.Os)};
f.Oo=function(a){function b(a){var p=a.clientX-l;a=a.clientY-m;p={align:"vertical",type:"guide",width:0,height:k.B(),left:p/L,top:0};e||(p.align="horizontal",p.width=k.A(),p.left=0,p.top=a/L,p.height=0);a=k;0<=p.left&&p.left<=a.A()&&0<=p.top&&p.top<=a.B()&&(a=new up(p),a.appendTo(k),a.Ba(p.left),a.Da(p.top),a.activate(),d.add(a));g.off("mouseup|touchend",b);g.off("mousemove|touchmove",c);h.remove()}function c(a){var b=a.clientX-l;a=a.clientY-m;e?h.css("top",0).css("left",b):h.css("top",a).css("left",
0)}var d=this,e=$(a.target).hasClass("vertical"),g=new S($(document)),h=$('\x3cdiv class\x3d"element guide"\x3e\x3c/div\x3e'),k=I(this.Eo),l=k.C().get(0).getBoundingClientRect().left,m=k.C().get(0).getBoundingClientRect().top;e?h.addClass("vertical"):h.addClass("horizontal");k.C().find(".elements").append(h);g.on("mousemove|touchmove",c);g.on("mouseup|touchend",b)};function sx(){var a=Ga();return a.visible?rx(a):[]}
function qx(a){function b(){return'\x3cdiv class\x3d"gutter"\x3e\x3c/div\x3e'}function c(){return'\x3cdiv class\x3d"column lsnap"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column"\x3e\x3c/div\x3e\x3cdiv class\x3d"line"\x3e\x3c/div\x3e\x3cdiv class\x3d"column rsnap"\x3e\x3c/div\x3e'}$(".page").hasClass("showGuidelines")?(a.Sn=!1,$(".page").removeClass("showGuidelines"),$(".page .guidelines").remove()):(a.Sn=!0,$(".page").addClass("showGuidelines"),$(".page").prepend('\x3cdiv class\x3d"guidelines"\x3e'+
b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+c()+b()+"\x3c/div\x3e"),tx())}function tx(){if(t&&t.St&&t.O[0]){var a=(t.O[0].A()-140)/18*L-2/3+"px";$(".page .guidelines .column").css("width",a);$(".page .guidelines .gutter").css("width",20*L)}}
function ux(a){if(!a.C()||!a.C().hasClass("showGuidelines"))return delete ka.Jj,[];if(ka.Jj)return ka.Jj;ka.Jj=[];a.C().find(".guidelines .gutter").each(function(b,c){function d(){return a.C().get(0).getBoundingClientRect()}ka.Jj.push({gb:function(){return(c.getBoundingClientRect().left-d().left)/L},Ob:function(){return(c.getBoundingClientRect().right-d().left)/L},Oa:function(){return 0},Hc:function(){return(c.getBoundingClientRect().right-d().left)/L-(c.getBoundingClientRect().left-d().left)/L},
Fc:function(){return(d().bottom-d().top)/L},Bb:function(){return(d().bottom-d().top)/L},Za:function(){return d().left+c.getBoundingClientRect().left},fb:function(){return d().top},Ga:function(){return 0}})});return ka.Jj};function sl(a){$("#content").on("click",".elementToolbar a, .textToolbar a",!1);vx.forEach(function(b){(wx[b]||[]).forEach(function(c){$("#canvaDocument").on("touchClick",c,{cancel:!0},xx(b,a))})});$("#canvaDocument").on("touchClick",".elementToolbarBackward.enabled a",{cancel:!0},yx);$("#canvaDocument").on("touchClick",".elementToolbarForward.enabled a",{cancel:!0},zx);$("#canvaDocument").on("touchClick",".elementToolbarCopy.enabled a",{cancel:!0},Ax);$("#canvaDocument").on("touchClick",".elementToolbarDelete.enabled a",
{cancel:!0},Bx);$("#canvaDocument").on("touchClick",".elementToolbarCrop.enabled a",{cancel:!0},Cx);$("#canvaDocument").on("touchClick",".imageToolbarDelete.enabled a",{cancel:!0},Dx);$("#canvaDocument").on("touchClick",".imageToolbarCrop.enabled a",{cancel:!0},Cx);$("#canvaDocument").on("touchClick",".imageToolbarFlipHorizontally.enabled a",{cancel:!0},Ex);$("#canvaDocument").on("touchClick",".imageToolbarFlipVertically.enabled a",{cancel:!0},Fx);$("#canvaDocument").on("change",".textToolbarFontFamily",
Gx);$("#canvaDocument").on("change",".textToolbarFontSize",Hx);$("#canvaDocument").on("touchClick",".textToolbarBold.enabled a",{cancel:!0},Ix);$("#canvaDocument").on("touchClick",".textToolbarBold.disabled.on a",{cancel:!0},Ix);$("#canvaDocument").on("touchClick",".textToolbarUppercase.enabled a",{cancel:!0},Jx);$("#canvaDocument").on("touchClick",".textToolbarItalic.enabled a",{cancel:!0},Kx);$("#canvaDocument").on("touchClick",".textToolbarItalic.disabled.on a",{cancel:!0},Kx);$("#canvaDocument").on("touchClick",
".textToolbarLeft.enabled a",{cancel:!0},Lx);$("#canvaDocument").on("touchClick",".textToolbarCenter.enabled a",{cancel:!0},Mx);$("#canvaDocument").on("touchClick",".textToolbarRight.enabled a",{cancel:!0},Nx);$("#canvaDocument").on("touchClick",".textToolbarList.enabled a",{cancel:!0},Ox);$("#canvaDocument").on("touchClick",".elementToolbarTransparency.enabled a",{cancel:!0},Oa);$("#canvaDocument").on("touchClick",".textToolbarTextSpacing.enabled a",{cancel:!0},Pa);$("#canvaDocument").on("touchClick",
".elementToolbarLink.enabled a",{cancel:!0},Px);$("#canvaDocument").on("touchClick",".elementToolbarPhotoFilters.enabled a",{cancel:!0},function(){Qx.call(this,ub(a.L))});$("#canvaDocument").on("touchClick",".elementToolbarFlipHorizontally.enabled a",{cancel:!0},Rx);$("#canvaDocument").on("touchClick",".elementToolbarFlipVertically.enabled a",{cancel:!0},Sx);$(window).resize(Tx)}function Tx(){An();Tg()}var Ux=0,Vx=0,Wx=!1;
function wn(a,b,c){function d(a,b,c){jg(q.translate(-b,-c),a).translate(b,c)}var e=a.data("element");if(e){var g=e.data("canvaElement");if(g){c=c||2;window.clearTimeout(Ux);Ux=window.setTimeout(function(){Wx=!1;$(".elementToolbar").removeClass("animating");$(".textToolbar").removeClass("animating");$(".imageToolbar").removeClass("animating")},150);var e=a.data("position")||c,h=b.N(),k=b.K(),l=0,m=0,n=a.data("width"),p=a.data("height"),l=h,m=k-p-20;a.data("position",c);var k=document.getElementById("canvaDocument"),
h=parseInt($("#overlays").css("left"),10),h=k.scrollLeft-h,k=k.scrollTop,r=fg(Xx().translate(10,10),-20,-20),q=new K(l,m,n,p);d(r,h,k);l=q.K()-m;if(2==c){c=q.N();var m=q.K(),v=50,w=q.K()<v&&0<$(".aboveTextOrImageToolbar").length;a.removeClass("withElementToolbar");g=g.Ga();140<g&&220>g&&q.Da(m-(50-Math.abs(180-g)));g=0;w||(g=45,a.hasClass("imageToolbar")&&(g=0));q.sa()>b.K()||w||a.hasClass("imageToolbar")?(q.setPosition(c,m).translate(0,p+20+b.B()+20-l+g),d(r,h,k),a.addClass("underneath"),a.hasClass("textToolbar")&&
0<$(".aboveTextOrImageToolbar").length&&a.addClass("withElementToolbar"),a.data("position",3)):a.removeClass("underneath");e!==a.data("position")&&(a.css("display","none").addClass("doNotAnimate"),An())}Wx||(b=$(".elementToolbar"),e=a.hasClass("textToolbar")||a.hasClass("imageToolbar"),p=a.data("position")===b.data("position"),e&&p?(Wx=!0,b.addClass("aboveTextOrImageToolbar")):(Wx=!1,b.removeClass("aboveTextOrImageToolbar")),b.addClass("animating"));q.round();a.css("display","").css("transform",Oh({kc:q.N(),
lc:q.K()})).delay(20,function(){$(this).hasClass("doNotAnimate")&&$(this).removeClass("doNotAnimate")});w&&$(".aboveTextOrImageToolbar").css("display","").css("transform",Oh({kc:q.N(),lc:q.K()+q.B()+v})).delay(20,function(){$(this).hasClass("doNotAnimate")&&$(this).removeClass("doNotAnimate")});clearTimeout(Vx);Vx=setTimeout(function(){var b=a.data("fxPanelView");b&&Yx(b,a.offset(),a.hasClass("underneath"))},120)}}}
function Zx(){return $('\x3cul class\x3d"toolbarMoreGroup linkMoreGroup"\x3e\x3cli\x3e\x3cdiv class\x3d"link"\x3e\x3cinput class\x3d"linkInput textInput" type\x3d"text" placeholder\x3d"http://example.com" /\x3e\x3c/div\x3e\x3c/li\x3e\x3c/ul\x3e')}
function $x(a,b,c){var d=!0,e=a.data("moreGroups")||$();c.addClass("toolbarReferencePoint").data("moreControl",b);b.append(c);b.on("touchClick",function(){function e(a){var b=document.elementFromPoint(a.clientX||0,a.clientY||0),b=0<$(b).closest(c.get(0)).length,d=c.hasClass("letterSpacingSliderPresent");a=$(a.target).is("[contenteditable\x3d'true']");b||d&&a||h()}function h(){l.Qh()&&l.Oe();d=!1;window.setTimeout(function(){d=!0},310);$(".sliderTooltip").remove();$("#overlays,.element,body").off("mousedown",
e);b.append(c).removeClass("on");c.removeClass("on").removeClass("preparing").removeClass("animating").removeData("toolbar");An=n}function k(b,c){c.addClass("preparing");$("#overlays").append(c);var d=b.parent().offset().top-$("#overlays").offset().top;c.get(0).getBoundingClientRect();var e=0,g=b.offset().left-$("#overlays").offset().left-19;c.removeClass("upwards").addClass("downwards");e=d+b.parent().height();c.data("toolbar",a).css("top",e+"px").css("left",g+"px").removeClass("preparing").addClass("on")}
if(!b.hasClass("disabled")){var l=a.data("element").data("canvaElement");Tg();if(c.hasClass("menuOverride")){var m=c.find(".menuOverridden");c.removeClass("menuOverride").css("height","auto").css("width","auto").empty().append(m.contents())}if(d&&l){b.addClass("on");var n=An;An=h;k(b,c);$("#overlays,.element,body").on("mousedown",e)}}});a.data("moreGroups",e.add(c))}function An(){}var ay=_.template('\x3cmenu class\x3d"tooltipToolbar elementToolbar"\x3e\x3cli class\x3d"elementToolbarCrop"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- cropMsg %\x3e"\x3e\x3c%- cropMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarCopy"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- copyMsg %\x3e"\x3e\x3c%- copyMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarForward"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- forwardMsg %\x3e"\x3e\x3c%- forwardMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarBackward"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- backMsg %\x3e"\x3e\x3c%- backMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarDelete"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c%- deleteMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarLink active"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- editLinkMsg %\x3e"\x3e\x3c%- editLinkMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e');
function by(a,b){var c=a.data("canvaElement");if(c&&c.rh()){var d=$("#overlays"),e=a.data("toolbar"),g=an(c);if(!e){e=$(ay({cropMsg:b.format("editorToolbarElementCrop"),copyMsg:b.format("editorToolbarElementCopy"),forwardMsg:b.format("editorToolbarElementForward"),backMsg:b.format("editorToolbarElementBack"),deleteMsg:b.format("editorToolbarElementDelete"),editLinkMsg:b.format("editorToolbarElementEditLink")}));e.appendTo(d).data("element",a);a.data("toolbar",e);1<a.length?(e.find("li").addClass("disabled"),
["Copy","Delete"].forEach(function(a){$(".elementToolbar"+a.replace(/[^a-zA-Z]/gi,""),e).addClass("enabled").removeClass("disabled")})):c.ib()?($("li",e).addClass("disabled"),$(".elementToolbarDelete",e).removeClass("disabled").addClass("enabled")):e.find("li").addClass("enabled");c.hu()&&(d=$(_.template('\x3cli class\x3d"elementToolbarPhotoFilters disabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarElementFilter")})),
e.prepend(d),c.Ye()&&d.removeClass("disabled").addClass("enabled"));var h=function(a){return!0===a.enabled},d=$('\x3cul class\x3d"toolbarMoreGroup"\x3e'+g.map(function(a){var b=h(a)?" enabled":" disabled";return'\x3cli class\x3d"elementToolbar'+a.id.replace(/[^a-zA-Z]/gi,"")+b+'"\x3e\x3ca href\x3d"#" title\x3d"'+a.name+'"\x3e'+a.name+"\x3c/a\x3e\x3c/li\x3e"}).join("")+"\x3c/ul\x3e");0!==g.filter(h).length&&e.append(_.template('\x3cli class\x3d"elementToolbarMore"\x3e\x3ca class\x3d"more" href\x3d"#" title\x3d"\x3c%- moreMsg %\x3e"\x3e\x3c%- moreMsg %\x3e\x3c/a\x3e\x3c/li\x3e')({moreMsg:b.ck()}));
$x(e,e.find(".elementToolbarMore"),d);$x(e,e.children(".elementToolbarLink"),Zx());1==a.length&&c instanceof Qh&&c.Vc&&c.Vc().forEach(function(a){var c=$(_.template('\x3cli class\x3d"elementToolbarColor"\x3e\x3ca class\x3d"pickAColor" href\x3d"#" title\x3d"Pick a color"\x3e\x3cspan\x3ePick a color\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e')({pickAColorMsg:b.format("editorToolbarElementPickAColor")}));e.find(".elementToolbarDelete").after(c);a&&c.find(".pickAColor \x3e span").css("background-color",a.X())});
e.data("width",e.outerWidth()).data("height",e.outerHeight())}c.ua();c.Qh()&&c.Ye&&c.Ye()&&(!c.Zj||c.Ib)&&$(".elementToolbarPhotoFilters").removeClass("disabled").addClass("enabled")}}
function In(a){var b=$("#overlays"),c=a.data("confirmationToolbar");c||(c=$('\x3cmenu class\x3d"crop elementToolbar"\x3e\x3cli class\x3d"enabled confirmationToolbarOk"\x3e\x3ca href\x3d"#"\x3eOk\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"enabled confirmationToolbarCancel"\x3e\x3ca href\x3d"#"\x3eCancel\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e'),c.appendTo(b).data("element",a).data("width",c.outerWidth()).data("height",c.outerHeight()),a.data("confirmationToolbar",c))}
function cy(a,b){if(a&&1===a.length){var c=a.data("textToolbar"),d=a.data("selectionBox"),e=a.data("canvaElement");if(!c&&e instanceof Ci){var c=a.data("fontName")+"",g=a.data("fontFamily")+"";(g=pm(xa,g))&&g.displayName&&(c=g.displayName);g=a.data("fontSize")||"";c=$(_.template('\x3cmenu class\x3d"fauxToolbar tooltipToolbar textToolbar"\x3e\x3cli class\x3d"textToolbarFont"\x3e\x3cspan class\x3d"textToolbarFontInner"\x3e\x3cspan class\x3d"fontFamilySelectReplace"\x3e\x3c/span\x3e\x3cspan class\x3d"textToolbarFontFamilySpan"\x3e'+
(c||"")+'\x3c/span\x3e\x3cspan class\x3d"fontSizeSelectReplace"\x3e\x3c/span\x3e\x3cspan class\x3d"textToolbarFontSizeSpan"\x3e\x3cinput type\x3d"text" autocomplete\x3d"off" value\x3d"'+g+'"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarColor"\x3e\x3ca class\x3d"pickAColor" href\x3d"#" title\x3d"\x3c%- pickAColorMsg %\x3e"\x3e\x3cspan\x3e\x3c%- pickAColorMsg %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarDelete enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c%- deleteMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarMore"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- moreMsg %\x3e"\x3e\x3c%- moreMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e')({moreMsg:b.ck(),
deleteMsg:b.format("editorToolbarTextDelete"),pickAColorMsg:b.format("editorToolbarTextPickAColor")}));c.appendTo($("#overlays")).data("element",a).data("width",c.outerWidth()).data("height",c.outerHeight());var g=e.Za(),h=e.fb()+(e.Oa()-e.K())*L,e=new K(g,h,e.Hc()*L,e.Fc()*L);d&&d.addClass("horizontalScale");Qo(c,a);wn(c,e,2);d.show()}window.setTimeout(function(){null!=a&&$v(a,b,!0)},300)}}
function Vo(a,b){if(a&&1===a.length){var c=$("#overlays"),d=a.data("imageToolbar"),e=a.data("canvaElement");d||(d=$(_.template('\x3cmenu class\x3d"tooltipToolbar imageToolbar off"\x3e\x3cli class\x3d"elementToolbarPhotoFilters disabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- filterTitle %\x3e"\x3e\x3c%- filterMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"imageToolbarCrop disabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- cropMsg %\x3e"\x3e\x3c%- cropMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"imageToolbarDelete disabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- deleteMsg %\x3e"\x3e\x3c%- deleteMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e')({filterTitle:b.format("editorToolbarImageFilterTitle"),
filterMsg:b.format("editorToolbarImageFilter"),cropMsg:b.format("editorToolbarImageCrop"),deleteMsg:b.format("editorToolbarImageDelete")})),e instanceof hn&&(d.find(".imageToolbarDelete").before(_.template('\x3cli class\x3d"imageToolbarColor enabled"\x3e\x3ca class\x3d"pickAColor" href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3cspan\x3e\x3c%- label %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarImagePickAColor")})),d.append(_.template('\x3cli class\x3d"imageToolbarMore disabled"\x3e\x3ca class\x3d"more" href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.ck()})),
$x(d,d.find(".imageToolbarMore"),$('\x3cmenu class\x3d"toolbarMoreGroup"\x3e\x3cli class\x3d"imageToolbarFlipHorizontally enabled"\x3e\x3ca href\x3d"#" title\x3d"Flip Horizontally"\x3eFlip Horizontally\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"imageToolbarFlipVertically enabled"\x3e\x3ca href\x3d"#" title\x3d"Flip Vertically"\x3eFlip Vertically\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e'))),a.data("imageToolbar",d));d.appendTo(c).data("element",a).data("width",d.outerWidth()).data("height",d.outerHeight());e.ua();
window.setTimeout(function(){d.removeClass("off")},100)}}
function $v(a,b,c){function d(){An();Tg();var a=$(this).siblings(".textToolbarFontFamily");$("#overlays \x3e .mask").addClass("on ddslick");a.ddslick("open");return!1}function e(a){An();Tg();var b=$(this).siblings(".textToolbarFontSize"),c=$(this).find("input");if(b.hasClass("on"))a.target===a.currentTarget&&b.ddslick("close");else return c.select(),$("#overlays \x3e .mask").addClass("on ddslick"),b.ddslick("open"),!1}function g(){$("#overlays \x3e .mask").removeClass("on ddslick")}function h(b){$("#overlays \x3e .mask").removeClass("on ddslick");
$("#null").focus();if(!b.didSelectAnOption){var c=a.data("canvaElement"),d=c.Xb(c.Ya()),e=z.find("input"),g=parseFloat(e.val()),h=b.lastKeyBeforeSelect;if("enter"!=h&&"tab"!=h||isNaN(g))e.val(dy(d/Da.ee)),"enter"==h&&(b.cancel=!0,e.select());else{-1===m.indexOf(g)&&$(this).ddslick("deselect");var k=Math.max(Math.min(400,g),1)*Da.ee;ey(c,function(){c.Zm(k)})}}}function k(){function a(b){var c=b.name||b.family,d=b.displayName||c;b=b.H;var e=$("\x3coption\x3e");e.attr("data-image-src",b).val(c).text(d);
return e}function b(a){return function(b){b.appendTo(a)}}var c=mr(xa),d=xa.Tq,e=er(xa),g=$('\x3cselect class\x3d"textToolbarFontFamily"\x3e\x3coptgroup class\x3d"textToolbarFontGroup priority"\x3e\x3c/optgroup\x3e\x3coptgroup class\x3d"textToolbarFontGroup user"\x3e\x3c/optgroup\x3e\x3coptgroup class\x3d"textToolbarFontGroup all"\x3e\x3c/optgroup\x3e\x3c/select\x3e'),h=g.find("optgroup.user"),k=g.find("optgroup.priority"),l=g.find("optgroup.all");e.map(a).forEach(b(h));d.map(a).forEach(b(k));c.map(a).forEach(b(l));
return g}function l(){var a=$('\x3cselect class\x3d"textToolbarFontSize"\x3e');m.map(function(a){return $("\x3coption\x3e").attr("data-text",a).text(a)}).forEach(function(b){b.appendTo(a)});return a}var m=Wa,n=$("#overlays"),p=a.data("textToolbar"),r=a.data("canvaElement");if(r&&r.selected)if(Da){if(!p){var q=k(),v=l(),w=a.data("fontName")+"",p=a.data("fontFamily")+"",x=w;(p=pm(xa,p))&&p.displayName&&(x=p.displayName);var y=r.Xb(r.Ya()),p=$(_.template('\x3cmenu class\x3d"tooltipToolbar textToolbar realToolbar"\x3e\x3cli class\x3d"textToolbarFont"\x3e\x3cspan class\x3d"textToolbarFontInner"\x3e\x3cspan class\x3d"textToolbarFontFamilySpan"\x3e\x3c/span\x3e\x3cspan class\x3d"textToolbarFontSizeSpan"\x3e\x3cinput type\x3d"text" autocomplete\x3d"off"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarColor"\x3e\x3ca class\x3d"pickAColor" href\x3d"#" title\x3d"\x3c%- pickAColorMsg %\x3e"\x3e\x3cspan\x3e\x3c%- pickAColorMsg %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarMore"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- moreMsg %\x3e"\x3e\x3c%- moreMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e')({pickAColorMsg:b.format("editorToolbarTextPickAColor"),
moreMsg:b.ck()}));p.find(".textToolbarFontFamilySpan").text(x).before(q);p.find(".textToolbarFontSizeSpan").before(v);p.find(".textToolbarFontSizeSpan input").val(y);c&&p.find(".textToolbarMore").before(_.template('\x3cli class\x3d"elementToolbarDelete enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarTextDelete")})).before(_.template('\x3cli class\x3d"elementToolbarLink enabled active"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarTextEditLink")}));
p.find(".textToolbarFontSize option[data-text\x3d24]").prop("selected",!0);x?(x=p.find(".textToolbarFontFamily option").filter(function(){return $(this).val()===w}),q.val(x.val()+"")):q.val("Glegoo");Gx.call(q.get(0));v.val((y/Da.ee).toString());Hx.call(v.get(0));p.appendTo(n).data("element",a).data("width",p.outerWidth()).data("height",p.outerHeight());n=$(_.template('\x3cmenu class\x3d"toolbarMoreGroup"\x3e\x3cli class\x3d"textToolbarBold enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- boldMsg %\x3e"\x3e\x3c%- boldMsg %\x3e\x3ca\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarItalic enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- italicMsg %\x3e"\x3e\x3c%- italicMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarUppercase enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- uppercaseMsg %\x3e"\x3e\x3c%- uppercaseMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarList disabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- listMsg %\x3e"\x3e\x26bull; \x3c%- listMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarLeft enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- leftMsg %\x3e"\x3e\x3c%- leftMsg %\x3e \x26ndash;\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarCenter enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- centerMsg %\x3e"\x3e\x26ndash; \x3c%- centerMsg %\x3e \x26ndash;\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarRight enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- rightMsg %\x3e"\x3e\x26ndash; \x3c%- rightMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e')({boldMsg:b.format("editorToolbarTextBold"),
italicMsg:b.format("editorToolbarTextItalic"),uppercaseMsg:b.format("editorToolbarTextUppercase"),listMsg:b.format("editorToolbarTextList"),leftMsg:b.format("editorToolbarTextLeft"),rightMsg:b.format("editorToolbarTextRight"),centerMsg:b.format("editorToolbarTextCenter")}));c&&(n.append(_.template('\x3cli class\x3d"dividerAbove textToolbarTextSpacing enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e',{label:b.format("editorToolbarTextSpacing")})).append(_.template('\x3cli class\x3d"dividerAbove elementToolbarCopy enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarTextCopy")})).append(_.template('\x3cli class\x3d"elementToolbarLink enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarTextLink")})).append(_.template('\x3cli class\x3d"elementToolbarTransparency enabled"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarTextTransparency")})).append(_.template('\x3cli class\x3d"elementToolbarForward"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarTextMoveForward")})).append(_.template('\x3cli class\x3d"elementToolbarBackward"\x3e\x3ca href\x3d"#" title\x3d"\x3c%- label %\x3e"\x3e\x3c%- label %\x3e\x3c/a\x3e\x3c/li\x3e')({label:b.format("editorToolbarTextMoveBack")})),
$x(p,p.find(".elementToolbarLink"),Zx()));$x(p,p.find(".textToolbarMore"),n);b=q.find("optgroup.priority option").last().index();c=b+q.find("optgroup.user option").last().index()+1;q.hasClass("dd-container")||(q.ddslick({onClose:g}),(q=$("#canvaDocument").offset())&&q.top&&p.find(".textToolbarFontFamily .dd-options").css("margin-top",q.top+"px"),p.find(".textToolbarFontFamily .dd-options li").eq(b).addClass("endOfGroup"),p.find(".textToolbarFontFamily .dd-options li").eq(c).addClass("endOfGroup"),
p.find(".textToolbarFontFamily .dd-option-selected").slice(1).removeClass("dd-option-selected"));q=p.find(".textToolbarFontFamilySpan");(new S(q)).on("mousedown+touchstart",d);var z=p.find(".textToolbarFontSizeSpan");v.hasClass("dd-container")||v.ddslick({onClose:h,width:"6em",align:"bottom",linkedControl:z.find("input").get(0)});(new S(z)).on("mousedown+touchstart",e);a.data("textToolbar",p)}Qo(p,a);r.ua();window.setTimeout(function(){$(".fauxToolbar.textToolbar").remove()},300)}else $(".fauxToolbar").remove();
else $(".fauxToolbar").remove()}
function zx(){$("#overlays .element.text").each(function(){Sm($(this))});var a=$(this).parents("li"),b=I(t),c=b.pa(),b=qw(b,c),d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph"\x3e\x3c/ol\x3e'),e=0;e<b.length+1;e++)d.append("\x3cli\x3eLayer "+e+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);d.css("top",a.offset().top-$("#overlays").offset().top+15);d.css("left",a.parents("menu").offset().left-$("#overlays").offset().left-15);if(!d.data("locked")&&(d.stop(),
window.clearTimeout(d.data("fadeTimer")),0!==c.length)){var e=c[0],g=e.V(),c=b.filter(function(a){return a.V()>g});if(a=c[0])e.insertAfter(a),e.ua(),b={oldElementIndex:g,elementIndex:e.V(),pageIndex:T(t,e.T())},C.register(new V(4,b));var b=$("li",d),h=b.eq(c.length),k=h.prev(),c=b.first().outerHeight(!0);h.addClass("selected");a&&(d.data("locked",!0),h.animate({left:-c/2},{duration:100,de:"linear",queue:!1,complete:function(){$(this).animate({left:0},{duration:100,de:"linear",queue:!1,complete:function(){k.before(h);
h.css("left","").css("top","");k.css("top","");d.removeData("locked")}})}}).animate({top:-c},{duration:200,queue:!1}),k.animate({top:c},200));a=window.setTimeout(function(){d.animate({opacity:0},1E3,function(){$(this).remove()})},1E3);d.data("fadeTimer",a)}}
function yx(){$("#overlays .element.text").each(function(){Sm($(this))});var a=$(this).parents("li"),b=I(t),c=b.pa(),b=qw(b,c),d=$("#layerGraph");if(0>=d.length)for(var d=$('\x3col id\x3d"layerGraph"\x3e\x3c/ol\x3e'),e=0;e<b.length+1;e++)d.append("\x3cli\x3eLayer "+e+"\x3c/li\x3e");else d.css("opacity","");$("#overlays").append(d);d.css("top",a.offset().top-$("#overlays").offset().top+15);d.css("left",a.parents("menu").offset().left-$("#overlays").offset().left-15);if(!d.data("locked")&&(d.stop(),
window.clearTimeout(d.data("fadeTimer")),0!==c.length)){var e=c[0],g=e.V(),c=b.filter(function(a){return a.V()<g}).reverse();if(a=c[0])e.insertBefore(a),e.ua(),e={oldElementIndex:g,elementIndex:e.V(),pageIndex:T(t,e.T())},C.register(new V(4,e));var e=$("li",d),h=e.eq(b.length-c.length),k=h.next(),b=e.first().outerHeight(!0);h.addClass("selected");a&&(d.data("locked",!0),h.animate({left:-b/2},{duration:100,de:"linear",queue:!1,complete:function(){$(this).animate({left:0},{duration:100,de:"linear",
queue:!1,complete:function(){k.after(h);h.css("left","").css("top","");k.css("top","");d.removeData("locked")}})}}).animate({top:b},{duration:200,queue:!1}),k.animate({top:-b},200));b=setTimeout(function(){d.animate({opacity:0},1E3,function(){$(this).remove()})},1E3);d.data("fadeTimer",b)}}
function Ax(){$("#overlays .element.text").each(function(){Sm($(this))});Tg();An();var a=t.pa(),b=[];Wr();a.forEach(function(a){var d=a.clone();a.Yj&&!1===a.Yj()&&d.$r&&d.$r();d.setPosition(d.N()+30,d.K()+30);d.appendTo(a.T()||I(t));d.Pa();b.push(d);Fc(d)});Xr();a.forEach(function(a){rw(a)});b.forEach(function(a){Ec(a)})}function Bx(){Wr();t.pa().forEach(function(a){"function"==typeof a.Mr&&a.Mr();Cu(a);a.remove()});Xr();Tg();$(".multipleSelectionBox").remove()}
function Dx(){var a=$(this).parents(".imageToolbar").data("element").data("canvaElement"),b=a.eb();Tg();var c=a.Lf(b),b={elementIndex:a.V(),pageIndex:a.T().V(),placeholderIndex:b,"new":{},old:c};a.Lv();C.register(new V(pv,b));a.ra();a.wi();Bn.zf()}function Cx(){t.pa().forEach(function(a){fy(a)});Bn.zf()}
function Ex(){var a=gy(this),b=a.eb(),c=a.na[b],d=c.Xa,e=d^1;c.Zg(e);a={pageIndex:T(t,a.T()),elementIndex:a.V(),placeholderIndex:b,old:{flipOrientation:d},"new":{flipOrientation:e}};C.register(new V(12,a))}function Fx(){var a=gy(this),b=a.eb(),c=a.na[b],d=c.Xa,e=d^2;c.Zg(e);a={pageIndex:T(t,a.T()),elementIndex:a.V(),placeholderIndex:b,old:{flipOrientation:d},"new":{flipOrientation:e}};C.register(new V(12,a))}
function gy(a){return $(a).parents(".toolbarMoreGroup").data("moreControl").parents(".imageToolbar").data("element").data("canvaElement")}
function Gx(){function a(a){d.removeClass("loading");$(".spinner",d).remove();if(c)if(a){if(km(c,!0),!c.is(".focused")){a=c.data("canvaElement");var b=h.index,e=a.Pb(b);a={elementIndex:a.V(),pageIndex:T(t,a.T()),textIndex:b,"new":e,old:h};C.register(new tv(1,a))}}else alert("Sorry, there was a problem trying to apply the font "+g+". Please let us know about it.")}var b=$(this),c=b.parents(".textToolbar").data("element"),d=b.nextAll(".textToolbarFontFamilySpan"),e=null;$("option",b).each(function(){1==
this.selected&&(e=$(this))});null==e&&(e=$('option[selected\x3d"selected"]',b));var g=e.val(),b=e.text();d.text(b);var h=null;if(c){var b=c.data("canvaElement"),k=b.Ya();-1<k&&(d.addClass("loading").append('\x3cspan class\x3d"spinner"\x3e\x3c/span\x3e'),h=b.Pb(k),b.Ce(k,g,a))}}
function Hx(){var a=$(this),b=a.parents(".textToolbar").data("element"),c=a.nextAll(".textToolbarFontSizeSpan"),d=null;$("option",a).each(function(){1==this.selected&&(d=$(this))});null==d&&(d=$('option[selected\x3d"selected"]',a));c.find("input").val(d.text());if(b){var e=b.data("canvaElement"),g=parseFloat(a.val()*Da.ee);ey(e,function(){e.Zm(g)})}}
function Qx(a){var b=function(a){return 0<a.parents(".toolbarReferencePoint").length?a.parents(".toolbarReferencePoint").data("toolbar"):a.parents(".elementToolbar,.textToolbar,.imageToolbar")}($(this)),c=b.data("element").data("canvaElement");c.em();if(0!=$(".fxPanel").length)Bn.zf();else{var d=new Bn({model:c.Ab(),Oq:xq,Bc:a});Yx(d,b.offset(),b.hasClass("underneath"));d.$el.removeClass("appeared").addClass("appearing");d.$el.appendTo("#content");$(".fxPanel").show();window.setTimeout(function(){d.$el.removeClass("appearing").addClass("appeared")},
330);An()}}
function Px(){function a(a){a.val(k).data("element",g).data("lastLinkState",k).focus().select();if(!a.data("linkKeyup"))a.data("linkKeyup",d).on("keyup",d)}function b(){var b=$('\x3cinput class\x3d"linkInput textInput" type\x3d"text" placeholder\x3d"http://example.com" /\x3e'),c=$('\x3cdiv class\x3d"link"\x3e\x3c/div\x3e');c.append(b);a(b);var d=h.width(),e=h.position().top;h.addClass("overriding").css("overflow","visible").animate({left:h.position().left-(230-d)/2,width:230,height:43,top:e},300,
"easeOutSine",function(){h.addClass("menuOverride").wrapInner('\x3cdiv class\x3d"menuOverridden"\x3e\x3c/div\x3e').append(c).removeClass("overriding");b.focus()})}function c(){var b=e.find("~ .linkMoreGroup input.linkInput");a(b)}function d(a){var b=$(a.target),c=b.parent(),d=b.val().trim(),h=ib.test(d)||ab.test(d),k=b.data("linkKeyup");13===a.which?""===d||h?(""===d||ab.test(d)||null!==d.match(/^(http)/)||(d="http://"+d),b.val(d),mn(g,d),hy.call(b.get(0)),An(),e.toggleClass("hasLink",!!nn(g))):(b.off("keyup",
k),alert("Please enter in a valid URL"),setTimeout(function(){b.on("keyup",k)},100)):(c.removeClass("valid invalid"),d&&h?c.addClass("valid"):d&&!h&&c.addClass("invalid"))}var e=function(a){return 0<a.parents(".toolbarReferencePoint").length?a.parents(".toolbarReferencePoint").data("toolbar"):a.parents(".elementToolbar,.textToolbar")}($(this)),g=e.data("element").data("canvaElement"),h=$(this).parents(".toolbarMoreGroup"),k=nn(g);0<h.length?b():c()}
function Rx(){Wr();t.pa().forEach(function(a){if(a.Cg(1)){var b=a.Xa,c=b^1;a.Zg(c);a={pageIndex:T(t,a.T()),elementIndex:a.V(),"new":{flipOrientation:c},old:{flipOrientation:b}};C.register(new V(Th,a))}});Xr()}function Sx(){Wr();t.pa().forEach(function(a){if(a.Cg(2)){var b=a.Xa,c=b^2;a.Zg(c);a={pageIndex:T(t,a.T()),elementIndex:a.V(),"new":{flipOrientation:c},old:{flipOrientation:b}};C.register(new V(Th,a))}});Xr()}
function hy(){var a=$(this).data("element"),b=$(this).data("lastLinkState");b!=nn(a)&&(b={elementIndex:a.V(),pageIndex:T(t,a.T()),"new":{link:nn(a)},old:{link:b||""}},C.register(new V(10,b)),$(this).data("lastLinkState",nn(a)))}
function iy(a){return function(){function b(a,b,c){var d=a.get(0),e;$("."+b+"Tooltip").show();a.on("input",function(){e!==a.val()&&(c.call(d),e=a.val())});c.call(d)}if(!$(this).hasClass("disabled")){var c=32*a.length,d=$(this).parents(".toolbarReferencePoint").data("toolbar").data("element").data("canvaElement"),e=$(this).parents(".toolbarMoreGroup"),g=e.width(),h=e.position().top,k=$('\x3cdiv class\x3d"sliderGroup"\x3e\x3c/div\x3e');a.forEach(function(a){a.aD&&a.aD.call(d);var c=a.name.charAt(0).toUpperCase()+
a.name.slice(1),g=$('\x3clabel class\x3d"sliderLabel"\x3e\x3cspan\x3e'+(a.displayName||c)+"\x3c/span\x3e\x3c/label\x3e"),h=$('\x3cinput class\x3d"sliderInput '+a.name+'SliderInput" step\x3d"1" type\x3d"range" min\x3d"0" max\x3d"100"/\x3e'),r=$("\x3cspan\x3e").addClass("rangeTrack"),q=$('\x3cdiv class\x3d"slider '+a.name+'Slider"\x3e\x3c/div\x3e'),v=a.method.call(d)||0,v=""+a.hq(v);e.addClass(a.name+"SliderPresent");h.val(v);h.addClass(a.name+"SliderInput");h.data("element",d);h.data("last"+c+"State",
a.method.call(d));g.append(r);g.append(h);q.append(g);k.append(q);var w=!1;h.on("mousedown",function(){if(!w){w=!0;b(h,a.name,a.ko);var c=function(){$(document).off("mouseup",c);var b=a.name,d=a.uo,e=h.get(0);h.off("change input");d.call(e);$("."+b+"Tooltip").hide();$(".sliderTooltip").hide();w=!1};$(document).on("mouseup",c)}})});e.addClass("overriding").animate({left:e.position().left-(260-g)/2,width:260,height:c,top:h},300,"easeOutSine",function(){e.addClass("menuOverride").wrapInner('\x3cdiv class\x3d"menuOverridden"\x3e\x3c/div\x3e').append(k).removeClass("overriding")});
e.css("overflow","visible")}}}function jy(a,b,c,d){return function(){var e=$(this).width(),g=parseInt($(this).val(),10),h=c(g),k=$(this).data("element"),l=$("."+b+"Tooltip"),m=$(this).offset().top,n=$(this).offset().left,m=m-$("#overlays").offset().top+-25,e=n-$("#overlays").offset().left+g/e*106,g=d(g);1!==l.length&&(l=$('\x3cdiv class\x3d"sliderTooltip '+b+'Tooltip"\x3e\x3c/div\x3e'),$("#overlays").append(l));l.css("top",m).css("left",e).text(String(g));k&&void 0!==h&&a.call(k,h)}}
function ky(a,b){return function(){var c="last"+b.charAt(0).toUpperCase()+b.slice(1)+"State",d=$(this).data("element"),e=$(this).data(c),g=a.call(d);e!=g&&(d={elementIndex:d.V(),pageIndex:T(t,d.T()),"new":{},old:{}},d["new"][b]=g,d.old[b]=e,C.register(new V(Th,d)),$(this).data(c,g))}}
(function(){function a(a){return 100-a}function b(){return this.Qt(this.Ya())}function c(){return this.tp(this.Ya())}Oa=iy([{name:"transparency",method:Y.prototype.Yt,ko:jy(Y.prototype.Hk,"transparency",a,function(a){return a}),uo:ky(Y.prototype.Yt,"transparency"),hq:a}]);Pa=iy([{name:"letterSpacing",displayName:"Letter spacing",method:b,ko:jy(function(a){return this.vr(this.Ya(),a)},"letterSpacing",function(a){return 10*a-200},function(a){return 10*a-200}),uo:ky(b,"letterSpacing"),hq:function(a){return(a+
200)/10}},{name:"lineHeight",displayName:"Line height",method:c,ko:jy(function(a){return this.wr(this.Ya(),a)},"lineHeight",function(a){return 2*a+50},function(a){return((2*a+50)/100).toFixed(1)}),uo:ky(c,"lineHeight"),hq:function(a){return(a-50)/2}}])})();
function Lx(){var a=$(this).parents("li"),b=$(this).parents(".textToolbar");1!==b.length&&(b=$(this).parents(".toolbarReferencePoint").data("toolbar"));var c=b.data("element").data("canvaElement"),d=c.Ya();ey(c,function(){c.wd(d,"left");a.addClass("on");a.parents(".toolbarReferencePoint").find(".textToolbarRight").removeClass("on");a.parents(".toolbarReferencePoint").find(".textToolbarCenter").removeClass("on")})}
function Mx(){var a=$(this).parents("li"),b=$(this).parents(".textToolbar");1!==b.length&&(b=$(this).parents(".toolbarReferencePoint").data("toolbar"));var c=b.data("element").data("canvaElement"),d=c.Ya();ey(c,function(){c.wd(d,"center");a.addClass("on");a.parents(".toolbarReferencePoint").find(".textToolbarLeft").removeClass("on");a.parents(".toolbarReferencePoint").find(".textToolbarRight").removeClass("on")})}
function Nx(){var a=$(this).parents("li"),b=$(this).parents(".textToolbar");1!==b.length&&(b=$(this).parents(".toolbarReferencePoint").data("toolbar"));var c=b.data("element").data("canvaElement"),d=c.Ya();ey(c,function(){c.wd(d,"right");a.addClass("on");a.parents(".toolbarReferencePoint").find(".textToolbarLeft").removeClass("on");a.parents(".toolbarReferencePoint").find(".textToolbarCenter").removeClass("on")})}
function Ix(){var a=$(this).parents("li"),b=$(this).parents(".textToolbar");1!==b.length&&(b=$(this).parents(".toolbarReferencePoint").data("toolbar"));var c=b.data("element"),d=c.data("canvaElement"),e=d.Ya(),g=!!c.data("bold");ey(d,function(){d.of(e,!g);km(c,!0);(g=!!c.data("bold"))?a.addClass("on"):a.removeClass("on")})}
function Jx(){var a=$(this).parents("li"),b=t.pa()[0],c=b.Ya(),d="uppercase"===b.Pb(c).textTransform;ey(b,function(){b.an(c,d?void 0:"uppercase");km(b.za(c),!0)});a.toggleClass("on",d)}
function Kx(){var a=$(this).parents("li"),b=$(this).parents(".textToolbar");1!==b.length&&(b=$(this).parents(".toolbarReferencePoint").data("toolbar"));var c=b.data("element"),d=c.data("canvaElement"),e=d.Ya(),g=!!c.data("italic");ey(d,function(){d.pf(e,!g);km(c,!0);(g=!!c.data("italic"))?a.addClass("on"):a.removeClass("on")})}
function Ox(){var a=$(this).parents("li"),b=$(this).parents(".textToolbar");1!==b.length&&(b=$(this).parents(".toolbarReferencePoint").data("toolbar"));var c=b.data("element"),d=c.data("canvaElement"),e=d.Ya(),g=c.data("list");ey(d,function(){d.Fk(e,!g);(g=!!c.data("list"))?a.addClass("on"):a.removeClass("on")})}
function ey(a,b){if(a.Hh().is(".focused"))b();else{var c=a.Ya(),d=a.Pb(c);b();var e=a.Pb(c),c={elementIndex:a.V(),pageIndex:T(t,a.T()),textIndex:c,"new":e,old:d};C.register(new tv(1,c))}}
function xn(a,b){if(a&&b){!b.pg||b instanceof Qh||b instanceof hn?(a.removeClass("canCrop"),a.removeClass("disableCrop")):(a.addClass("canCrop"),b.Th&&b.Th()?$(".elementToolbarCrop",a).removeClass("enabled").addClass("disabled"):$(".elementToolbarCrop",a).addClass("enabled").removeClass("disabled"));b.Qh()&&b.Ye&&b.Ye()&&$(".elementToolbarPhotoFilters").removeClass("disabled").addClass("enabled");!b.Vc||b instanceof hn||(a.find(".elementToolbarColor").remove(),b.Vc().forEach(function(b){var c=$('\x3cli class\x3d"elementToolbarColor"\x3e\x3ca class\x3d"pickAColor" href\x3d"#" title\x3d"Pick a color"\x3e\x3cspan\x3ePick a color\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e');
a.find(".elementToolbarDelete").after(c);b&&c.find(".pickAColor \x3e span").css("background-color",b.X())}));var c=a.hasClass("textToolbar"),d=a.find(".elementToolbarLink");d.toggleClass("doNotTransition",!c);a.toggleClass("hasLink",!!nn(b)).forceLayout();d.removeClass("doNotTransition");b.Zj&&!b.Ib?a.find("li:not(.elementToolbarDelete)").removeClass("enabled").addClass("disabled"):ly(a,b)}}
function ly(a,b){var c=qw(b.T(),b),d=b.V(),e=c.filter(function(a){return a.V()>d}),c=c.filter(function(a){return a.V()<d}),g=a;a.data("moreGroups")&&(g=a.data("moreGroups"),g=a.add(g));0===e.length?g.find(".elementToolbarForward").removeClass("enabled").addClass("disabled"):g.find(".elementToolbarForward").addClass("enabled").removeClass("disabled");0===c.length?g.find(".elementToolbarBackward").removeClass("enabled").addClass("disabled"):g.find(".elementToolbarBackward").addClass("enabled").removeClass("disabled")}
function Qo(a,b){function c(a,b,c){b?a.addClass("on"):a.removeClass("on");c?a.removeClass("disabled").addClass("enabled"):a.removeClass("enabled").addClass("disabled")}function d(a){var b="",c=100/a.length;a.forEach(function(d,e){var g=e*c+"%",h=(e+1)*c+"%";0==e?b+=d+" "+h+",":e==a.length-1?b+=d+" "+g:(b+=d+" "+g+",",b+=d+" "+h+",")});return{oF:"-webkit-linear-gradient(left, "+b+")",qE:"linear-gradient(to right, "+b+")"}}var e=mm(b),g=(a.data("moreGroups")||$()).filter(function(){return $(this).data("moreControl").hasClass("textToolbarMore")});
if(0!==g.length){0===e.Fd.length&&(e=bm(b));var h=function(a){return e.Fd.reduce(function(b,c){return b&&a(c)},!0)},k=h(function(a){return or(xa,a)}),l=h(function(a){return pr(xa,a)}),h=h(function(a){return qr(xa,a)}),m=g.find(".textToolbarBold"),n=g.find(".textToolbarItalic"),p=g.find(".textToolbarUppercase");c(m,!!b.data("bold"),!!b.data("italic")&&l&&h||!(b.data("italic")&&l)&&k);c(n,!!b.data("italic"),!!b.data("bold")&&k&&h||!(b.data("bold")&&k)&&l);c(p,"uppercase"===b.data("textTransform"),!0);
k=b.data("justification")||"left";$(".textToolbarRight").removeClass("on");$(".textToolbarCenter").removeClass("on");$(".textToolbarLeft").removeClass("on");"right"===k?$(".textToolbarRight",g).addClass("on"):"center"==k?$(".textToolbarCenter",g).addClass("on"):$(".textToolbarLeft",g).addClass("on");b.data("list")?$(".textToolbarList",g).addClass("on"):$(".textToolbarList",g).removeClass("on");g=b.data("canvaElement");g=g.Xb(g.Ya())/Da.ee;$(".textToolbarFontSize",a).val(g.toString());g=dy(g);k=a.find(".textToolbarFontSizeSpan input");
k.is(":focus")||k.val(g);g=a.find(".textToolbarColor .pickAColor \x3e span");0<e.Dc.length?(g.removeClass("noColor"),1==e.Dc.length?g.css("background-color",e.Dc[0]).css("background-image",""):(k=e.Dc.map(function(a){return a||"black"}),k=d(k),g.css("background-color","").css("background-image",k.oF).css("background-image",k.qE))):b.data("fill")?(k=Q(b.data("fill")),g.css("background-color",k.X()).css("background-image","").removeClass("noColor")):g.css("background-color","").css("background-image",
"").addClass("noColor");b.data("fontFamily")&&(g=b.data("fontName"),k=e.Fd.filter(function(a){return null!==pm(xa,a)}),k=1<k.length?"":k[0],l=b.data("fontFamily"),$(".textToolbarFontFamily",a).val(l),g=k||g,(k=pm(xa,g))&&k.displayName&&(g=k.displayName),$(".textToolbarFontFamilySpan",a).text(g));!0===b.children(".inner").get(0).isContentEditable?$(".toolbarMoreGroup .textToolbarList").removeClass("disabled").addClass("enabled"):$(".toolbarMoreGroup .textToolbarList").removeClass("enabled").addClass("disabled")}}
;function xx(a,b){var c=my[a];return function(a){return c&&c.call(this,a,b)}}
var vx=Object.keys({xs:"CLICK_FILL_COLOR",ys:"CLICK_TEXT_COLOR"}),wx={xs:[".elementToolbarColor a",".imageToolbarColor a"],ys:[".textToolbarColor a"]},my={xs:function(a,b){function c(a){l.css("background-color",a.X());m.yi(n,a)}function d(){var a=g(),b={elementIndex:m.V(),pageIndex:m.T().V(),old:p,"new":a};C.register(new V(Du,b));p=a}function e(){r.Uf();Xg(r)}function g(){if(m instanceof hn)return{index:n,placementData:m.Lf(n)};var a=h();return{index:n,color:a?a.X():""}}function h(){return m instanceof
hn?m.Nh(n).backgroundColor:m.Vc()[n]}var k=$(this).closest(".elementToolbar, .imageToolbar"),l=$(this).find("span"),m=k.data("element").data("canvaElement"),n=m instanceof gn?0:m instanceof Qh?l.closest(".elementToolbarColor").index(".elementToolbarColor"):m instanceof hn?m.eb():-1;if(-1!==n){var p=g(),r=k.data("colorSwatches");if(r){if(Yg(r,k[0],l[0]))return;r.remove()}r=new Rg({Ka:b.Ka,$c:m.T().Fa,Tb:h(),Fe:sb(b.L),mf:!0});r.on("updateColor",c);r.on("confirmColor",d);r.listenTo(C,"beforeOperationStackPop",
e);Ug(r,k[0],l[0]);k.data("colorSwatches",r)}},ys:function(a,b){var c=$(this).parents(".textToolbar"),d=$(this).find("span"),e=c.data("element"),g=e.data("canvaElement"),h=g.Ya(),k=g.Pb(h),l=c.data("colorSwatches");if(l){if(Yg(l,c[0],d[0]))return;l.remove()}l=new Rg({Ka:b.Ka,$c:g.T().Fa,Tb:Q(e.data("fill")),Fe:sb(b.L),mf:!0});l.on("updateColor",function(a){d.css("background-color",a.X());g.setColor(h,a)});l.on("confirmColor",function(){var a=g.Pb(h),b=g.T();b&&(b={elementIndex:g.V(),pageIndex:T(t,
b),textIndex:h,old:k,"new":a},C.register(new tv(1,b)));k=a});l.listenTo(C,"beforeOperationStackPop",function(){l.Uf();Xg(l)});Ug(l,c[0],d[0]);c.data("colorSwatches",l)}};function Wg(a){this.toolbar=a.toolbar;this.Qn=a.Qn?a.Qn:ny;this.Rn=a.Rn?a.Rn:oy;this.Cq=a.Cq}var ny=["CENTER"],oy=["ABOVE","BELOW"],py={},qy={};function Vg(a,b,c){var d,e=a.Cq;d={yy:c.getBoundingClientRect(),Oi:a.toolbar.getBoundingClientRect(),jm:e.getBoundingClientRect(),Gs:b.getBoundingClientRect(),padding:{top:58}};e.classList.add("toolbarOverlay");a.Qn.some(function(a){return(a=py[a])&&a(e,d)});a.Rn.some(function(a){return(a=qy[a])&&a(e,d)})}
py.CENTER=function(a,b){var c=b.Oi.left-b.jm.left,d=b.Gs.left+b.Gs.width/2-b.Oi.left;$(a).addClass("toolbarOverlayCenter").css("left",d+c-b.jm.width/2+"px");return!0};qy.ABOVE=function(a,b){if(0>b.Oi.top-b.jm.height-(b.padding&&b.padding.top||0))return!1;$(a).addClass("toolbarOverlayAbove").css("bottom",b.yy.height-b.Oi.top+"px");return!0};qy.BELOW=function(a,b){var c=b.Oi.top-b.jm.top+b.Oi.height;$(a).addClass("toolbarOverlayBelow").css("top",c+"px");return!0};(function(){function a(a){var c=$(this),g=a.data,h=$(this).data("touchClickLockingEventType"),k=a.type;if("touchstart"!==k&&"click"!==k)return!1;window.setTimeout(function(){c.removeData("touchClickLockingEventType")},500);if(h&&h!==k)return!1;$(this).data("touchClickLockingEventType",k);return"touchstart"===k?b.call(this,a):"click"===k?g.handler.call(this,a):!0}function b(a){function b(a){h.off("touchend",b);if(4>Math.abs(a.changedTouches[0].clientX-k)&&4>Math.abs(a.changedTouches[0].clientY-l))return c=
g.handler.call(this,a);c=!1}var g=a.data,h=$(this),k=a.touches[0].clientX,l=a.touches[0].clientY;h.on("touchend",g,b);$(document).bind("touchend",function(a){$(this).unbind(a);h.off("touchend",b)});if(g.data&&g.data.cancel)return!1}var c=!1;$.event.special.touchClick={add:function(b){$(this).on("touchstart",b.selector,b,a).on("click",b.selector,b,a)},remove:function(b){$(this).off("touchstart",b.selector,a).off("click",b.selector,a)}}})();
(function(){function a(a){var c=a.data,d=$(this).data("mousedownTouchstartLockingEventType"),e=a.type;if("touchstart"!==e&&"mousedown"!==e)return!1;var g=$(this);window.setTimeout(function(){g.removeData("mousedownTouchstartLockingEventType")},500);if(d&&d!==e)return!1;$(this).data("mousedownTouchstartLockingEventType",e);return c.handler.call(this,a)}$.event.special.mousedownTouchstart={add:function(b){$(this).on("touchstart",b.selector,b,a).on("mousedown",b.selector,b,a)},remove:function(b){$(this).off("touchstart",
b.selector,a).off("mousedown",b.selector,a)}}})();
(function(){function a(a){var d=a.data,e=$(this).data("dblLockingEventType"),g=a.type;if("touchClick"!==g&&"dblclick"!==g)return!1;var h=$(this);window.setTimeout(function(){h.removeData("dblLockingEventType")},500);if(e&&e!==g)return!1;"click"===g?$(this).removeData("dblLockingEventType"):$(this).data("dblLockingEventType",g);return"touchClick"===g?b.call(this,a):"dblclick"===g?d.handler.call(this,a):!0}function b(a){function b(a){g.off("touchClick",b);if(Date.now()<=h+500)return e.handler.call(this,
a)}var e=a.data.data,g=$(this);g.on("touchClick",b);var h=Date.now()}$.event.special.touchDblClick={add:function(b){$(this).on("touchClick",b.selector,b,a);$(this).on("dblclick",b.selector,b,a)},remove:function(b){$(this).off("touchClick",b.selector,a);$(this).off("dblclick",b.selector,a)}}})();function Pt(a){return new P(function(b,c){var d,e;d=new FormData;d.append("key",a.key);d.append("AWSAccessKeyId",a.ix);d.append("policy",a.XC);d.append("signature",a.oE);d.append("Content-Type",a.iA||a.file.type);d.append("file",a.file);e=new XMLHttpRequest;e.onerror=c;e.onreadystatechange=function(){var a,d;4===e.readyState&&(d=(a=ie(e.status))&&e.getResponseHeader("x-amz-version-id"),a&&d?b(d):c())};e.upload.addEventListener("progress",a.progress||function(){});e.open("POST",a.url,!0);e.send(d)})}
;$.fn.reverse=[].reverse;$.fn.forceLayout=function(){if(0===this.length)return this;var a=this.get(0);(a=window.getComputedStyle(a))&&a.getPropertyValue("left");return this};Array.max=function(a){return Math.max.apply(Math,a)};Array.min=function(a){return Math.min.apply(Math,a)};Array.lowerBound=function(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,e,g=a.length,h;0<g;)e=d+(h=g/2|0),0>c(a[e],b)?(d=++e,g-=h+1):g=h;return d};
Array.upperBound=function(a,b,c){!c&&(c=function(a,b){return a-b});for(var d=0,e,g=a.length,h;0<g;)e=d+(h=g/2|0),0<=c(b,a[e])?(d=++e,g-=h+1):g=h;return d};Array.kG=function(a,b,c){var d=a.map(b,c),e=Array.min(d);return a.filter(function(a,b){return d[b]==e})};$.fn.delay=function(a,b){jQuery.fx.step.delay=function(){};return this.animate({delay:1},a,b)};
function ry(a){var b,c,d,e,g,h;if(!a.src)return 0;if("data:image/svg+xml"===a.src.substring(0,18))return 1;c=a.naturalHeight;b=a.naturalWidth;d=b*c;if(isNaN(d)||0>=d)return 0;e=document.createElement("canvas");e.width=b;e.height=c;e=e.getContext("2d");e.drawImage(a,0,0);a=e.getImageData(0,0,b,c).data;for(h=e=0;h<c;h++)for(g=0;g<b;g++)0>=a[4*(g+h*b)+3]&&e++;return e/d}function hd(a){return.1<ry(a)}
function sy(){var a,b,c="T"+"transform".slice(1),d=["Moz","Webkit","ms"],e=document.createElement("div");if("transform"in e.style)b="transform";else for(var g=0;g<d.length;g++)if(a=d[g]+c,a in e.style){b=a;break}return $.support.transform=b}$(function(){var a=sy();a&&"transform"!==a&&($.cssHooks.transform={get:function(b){return $.css(b,a)},set:function(b,c){b.style[a]=c}})});function dd(a,b){var c=a.get(0).getBoundingClientRect(),d=b.get(0).getBoundingClientRect();return ty(c,d)}
function ty(a,b){return!a||!b||a.left+a.width<=b.left||a.top+a.height<=b.top||a.left>=b.left+b.width||a.top>=b.top+b.height?!1:!0}function Fn(a,b){var c;c=a instanceof K?a:Zf(a);return{transform:Oh({kc:c.N(),lc:c.K(),rotateZ:b||0}),left:"",top:"",width:c.A(),height:c.B()}}
function Hn(a,b,c){var d={rotateX:0,rotateY:0,rotateZ:0};null!=b&&(d.kc=b.N(),d.lc=b.K(),a.css("width",b.A()+"px"),a.css("height",b.B()+"px"));a.each(function(){var a=$(this);d.rotateX=a.data("FlipTransformation_rotateX")||0;d.rotateY=a.data("FlipTransformation_rotateY")||0;!!(c&2)!=(0!=d.rotateX%360)&&(d.rotateX+=180,a.data("FlipTransformation_rotateX",d.rotateX));!!(c&1)!=(0!=d.rotateY%360)&&(d.rotateY+=0==d.rotateX%360?180:-180,a.data("FlipTransformation_rotateY",d.rotateY));a.css("transform",
Oh(d))})}function Gn(a){var b=a.attr("style"),c,d;(c=b.match(/translate(3d)?\((-?[.\d]+)[^-.\d]+(-?[.\d]+)/))?(d=parseFloat(c[2]),c=parseFloat(c[3])):(d=parseFloat(a.css("left")),c=parseFloat(a.css("top")));var e=b.match(/width: ([.\d]+)/),g=b.match(/height: ([.\d]+)/),b=e?parseFloat(e[1]):a.width();a=g?parseFloat(g[1]):a.height();return new K(d,c,b,a)}function ro(a){a=a.get(0).getAttribute("viewBox").split(" ");return new K(parseFloat(a[0]),parseFloat(a[1]),parseFloat(a[2]),parseFloat(a[3]))}
function Oh(a){var b=a.kc||0,c=a.lc||0,d=void 0===a.ye?1:a.ye,e=void 0===a.lf?1:a.lf,g=a.rotateX||0,h=a.rotateY||0;a=a.rotateZ||0;var k="";if(la)k+="translate3d("+b+"px,"+c+"px,0px)";else if(0!=b||0!=c)k+="translate("+b+"px,"+c+"px)";if(1!=d||1!=e)k+=" scale("+d+","+e+") ";0!=g&&(k+=" rotateX("+g+"deg)");0!=h&&(k+=" rotateY("+h+"deg)");0!=a&&(k+=" rotateZ("+a+"deg)");return k}
function uy(a){a=window.getComputedStyle(a);return a.getPropertyValue("transform")||a.getPropertyValue("-webkit-transform")}
function Ce(a){if(a=/^matrix(?:3d)?\(([^)]*)\)$/.exec(uy(a))){a=a[1].split(",");if(6==a.length)return{ye:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[2]),lf:parseFloat(a[3]),kc:parseFloat(a[4]),lc:parseFloat(a[5])};if(16==a.length)return{ye:parseFloat(a[0]),skewX:parseFloat(a[1]),skewY:parseFloat(a[4]),lf:parseFloat(a[5]),kc:parseFloat(a[12]),lc:parseFloat(a[13])}}return{ye:0,skewX:0,skewY:0,lf:0,kc:0,lc:0}}
function cd(a,b,c){var d=Ce(a),e;for(e in b)b.hasOwnProperty(e)&&d.hasOwnProperty(e)&&(d[e]=c?d[e]+b[e]:b[e]);b=[d.ye,d.skewX,d.skewY,d.lf,d.kc,d.lc];$(a).css("transform","matrix("+b.join(",")+")")}function Mo(a,b){return Math.round(1E5*a)/1E5==Math.round(1E5*b)/1E5}function dy(a){return 0===a%1?a.toString():a.toFixed(1)}
$(function(){function a(){var b=document.createElement("p"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(b,null);for(var e in d)if(void 0!==b.style[e]){b.style[e]="translate3d(1px,1px,1px)";c=window.getComputedStyle(b,null);if(!c){window.setTimeout(a,500);return}c=c.getPropertyValue(d[e])}document.body.removeChild(b);la=void 0!==c&&0<c.length&&"none"!==c}a()});
(function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),g=Math.max(0,16-(c-a)),h=window.setTimeout(function(){b(c+g)},g);a=c+g;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=
function(a){clearTimeout(a)})})();function vy(a){switch(/(\s|^)(tl|t|tr|r|br|b|bl|l)(\s|$)/gi.exec(a.className)[2]){case "tl":return 0;case "t":return 1;case "tr":return 2;case "r":return 4;case "br":return 7;case "b":return 6;case "bl":return 5;case "l":return 3;default:return null}}function zn(a,b){var c=Math.round(kx(b)/45);8>c||(c=0);if(a){for(var d=0;8!==d;d++)a.removeClass("octant"+d);a.addClass("octant"+c)}}
function Wu(a){var b=a.offset(),c=b.left+a.width()/2;a=b.top+a.height()/2;return[c,a]}function Wq(a,b,c,d){function e(a,b){var c=a*a,d=1-a,e=d*d;return b[0]*e*d+3*b[1]*e*a+3*b[2]*d*c+b[3]*c*a}for(var g,h,k=0,l=[];1>k;)g=e(k,[a.x,b.x,c.x,d.x]),h=e(k,[a.y,b.y,c.y,d.y]),l.push({x:g,y:h}),k+=5E-5;var m=[{x:a.x,y:a.y}],n=.05,p=null;l.forEach(function(a){null!==p&&a.x>n&&(m.push(p),n+=.05);p=a});m.push({x:d.x,y:d.y});return m}var Fl=!1,Gl=!1;
function Xx(){var a,b,c,d;Fl?(c=b=0,d=$(window).width(),a=$(window).height()):(b=c=0,a=$("#canvaDocument"),d=a.width()-b-12,a=a.height()-c-12);return new K(b,c,d,a)}function wy(){return fg(Xx().translate(48,48),-96,-96)};function xy(a,b){function c(){var c=a.slice(0);b.forEach(function(a){a=Pw(a.cc.ma).filter(d).map(e(a.name));c=c.concat(a)});return new Nw({ed:c})}function d(a){return"start"!==a.name}function e(a){return function(b){return{name:b.name,from:a+":"+b.from,to:a+":"+b.to}}}this.cb=null;this.kn=(b||[]).slice(0);this.ma=new Nw;this.Cf=null;var g=this,h;0<this.kn.length?(h=c(),Qw(this.ma,h.ed),this.kn.forEach(function(a){g.listenTo(a.cc,"change:state",g.yq)})):a&&Qw(this.ma,a);this.listenTo(this.ma,"state:enter",
this.ik)}xy.prototype.trigger=Backbone.Events.trigger;xy.prototype.listenTo=Backbone.Events.listenTo;xy.prototype.on=Backbone.Events.on;xy.prototype.off=Backbone.Events.off;_.extend(xy.prototype,Backbone.Events);xy.prototype.start=function(){this.ma.start()};xy.prototype.cancel=function(){this.cb&&this.cb.cancel?(this.cb.cancel(),this.cb=null):this.cb&&this.cb.abort&&(this.cb.abort(),this.cb=null);this.kn.forEach(function(a){a.cc.cancel()})};
xy.prototype.yq=function(a,b,c,d){var e=this.kn.filter(function(b){return b.cc===a})[0].name+":"+b;this.ma.sd()!==e&&Sw(this.ma,e);var g=Array.prototype.slice.call(arguments,2);this.trigger.apply(this,["change:state",this,e].concat(g))};xy.prototype.ik=function(a,b){this.trigger("change:state",this,b)};var yy=fb.map(function(a){return a}),zy=4,L=yy[zy],Kl=1,Ay=0,By=0;function ul(){0<zy&&Da&&Cy(Da,zy-1);return!1}function vl(){zy<yy.length-1&&Da&&Cy(Da,zy+1);return!1};function vw(a){a.stopPropagation()}function Dy(a){a.preventDefault()}function Ey(){return!1}var Vu="createTouch"in document,Xu=!1;function S(a){this.el=$(a);this.yn=[];this.Gn={};this.dt=""}function Bu(a){return 0<=a.dt.indexOf("touch")}function Fy(a,b,c){function d(){if(!0===a.yn[c])return!0;a.yn[c]=!0;window.setTimeout(function(){a.yn[c]=!1},500);return!1}a.yn[c]=!1;return function(a){return d()?!0:b.call(this,a)}}
S.prototype.selected=function(a){var b=this,c=null;return function(d){var e=d.type;b.dt=e;null===c&&(c=e);return e!==c?!0:a.call(this,d)}};function Gy(a){return a.split("+").filter(function(a){return""!==a})}function Hy(a){return a.split("|").filter(function(a){return""!==a})}function Iy(a){return a.split(/[|+]/).filter(function(a){return""!==a})}S.prototype.Cz=function(){var a=0;return function(){a+=1;return"debounce_"+a}}();
function Jy(a,b,c,d){if(a.Gn[b+"_"+c])throw a='An event handler already exists for "'+b+'"',c&&(a+=' and selector "'+c+'"'),Error(a);a.Gn[b+"_"+c]=d}
S.prototype.on=function(a,b,c){var d=this,e;"function"===typeof c?(e=b,b=c):e="";if(0<=a.indexOf("+")){var g=Fy(this,b,this.Cz());b.ws=g;Jy(this,a,e,g);Gy(a).forEach(function(a){if(e)d.el.on(a,e,g);else d.el.on(a,g)})}else if(0<=a.indexOf("|")){var h=this.selected(b);b.ws=h;Jy(this,a,e,h);Hy(a).forEach(function(a){if(e)d.el.on(a,e,h);else d.el.on(a,h)})}else if(Jy(this,a,e,b),e)this.el.on(a,e,b);else this.el.on(a,b);return this};
S.prototype.off=function(a,b,c){var d=this,e;"function"===typeof c?(e=b,b=c):e="";var g=this.Gn[a+"_"+e];if(g){if(g!==(b.ws||b))throw Error('The given handler is not listening to event "'+a+'"');b.ws=null;Iy(a).forEach(function(a){e?d.el.off(a,e,g):d.el.off(a,g)});delete this.Gn[a+"_"+e]}return this};function Ky(a){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message=a}Ky.prototype=Object.create(Error.prototype);Ky.prototype.constructor=Ky;
function Oe(a){switch(a){case "card_declined":return new Ly;case "expired_card":return new My;case "incorrect_cvc":return new Ny;case "incorrect_number":return new Oy;case "invalid_cvc":return new Py;case "invalid_expiry_month":return new Qy;case "invalid_expiry_year":return new Ry;case "invalid_number":return new Sy;case "missing":return new Ty;default:return new Uy}}function Ly(){Ky.call(this,"Your credit card was declined.")}Ly.prototype=Object.create(Ky.prototype);Ly.prototype.constructor=Ly;
function My(){Ky.call(this,"Your credit card has expired.")}My.prototype=Object.create(Ky.prototype);My.prototype.constructor=My;function Ny(){Ky.call(this,"Your security code is incorrect.")}Ny.prototype=Object.create(Ky.prototype);Ny.prototype.constructor=Ny;function Oy(){Ky.call(this,"Your card number is incorrect.")}Oy.prototype=Object.create(Ky.prototype);Oy.prototype.constructor=Oy;function Py(){Ky.call(this,"Your security code is incorrect.")}Py.prototype=Object.create(Ky.prototype);
Py.prototype.constructor=Py;function Qy(){Ky.call(this,"Your expiry month is incorrect.")}Qy.prototype=Object.create(Ky.prototype);Qy.prototype.constructor=Qy;function Ry(){Ky.call(this,"Your expiry year is incorrect.")}Ry.prototype=Object.create(Ky.prototype);Ry.prototype.constructor=Ry;function Sy(){Ky.call(this,"Your card number is incorrect.")}Sy.prototype=Object.create(Ky.prototype);Sy.prototype.constructor=Sy;
function Ty(){Ky.call(this,"You don't have a credit card registered, but one is required.")}Ty.prototype=Object.create(Ky.prototype);Ty.prototype.constructor=Ty;function Uy(){Ky.call(this,"There was an error processing your card. Please try again or contact support@canva.com.")}Uy.prototype=Object.create(Ky.prototype);Uy.prototype.constructor=Uy;function Vy(){var a=window.stripeConfig;switch(a.impl){case "local":return new Wy;case "stripe":return new Xy(a.publishableKey,window.Stripe||null);default:throw Error('unexpected stripe impl "'+a.impl+'"');}};function Wy(){}Wy.prototype.createToken=P.method(function(a){return JSON.stringify({brand:"Visa",expMonth:a.yt,expYear:a.zt,last4:a.hi.slice(-4)})});function Xy(a,b){(this.sc=b)&&this.sc.setPublishableKey(a)}Xy.prototype.createToken=function(a){return new P(function(b,c){if(!this.sc)throw Error("Stripe API is unavailable");a={cvc:a.wh,exp_month:a.yt,exp_year:a.zt,number:a.hi};this.sc.createToken(a,function(a,e){if(e.error){var g;try{g=e.error.code||""}catch(h){g=""}c(Oe(g))}else b(e.id)})}.bind(this))};function tw(a){var b=this,c=window.MutationObserver||window.WebKitMutationObserver;this.ii=null;this.Mj={nodeinserted:[],noderemoved:[],characterdatamodified:[],attrmodified:[]};this.yb=a?a:{attributes:!1,childList:!0,characterData:!0,subtree:!0};this.be=new c(function(a){a.forEach(function(a){b.handle(a)})})}tw.prototype.normalize=function(a){return a.toLowerCase()};tw.prototype.on=function(a,b){var c=this.normalize(a);this.Mj.hasOwnProperty(c)||(this.Mj[c]=[]);this.Mj[c].push(b);return this};
tw.prototype.handle=function(a){function b(b){var e=c.normalize(b),g=new jQuery.Event(b);c.ii&&(g.target=a.target,g.currentTarget=c.ii.get(0),c.Mj.hasOwnProperty(e)&&c.Mj[e].forEach(function(a){a.call(c.ii,g)}))}var c=this;"childList"===a.type?(a.addedNodes&&0<a.addedNodes.length?b("nodeInserted"):a.removedNodes&&0<a.removedNodes.length&&b("nodeRemoved"),b("subtreeModified")):"attributes"===a.type?b("attrModified"):"characterData"===a.type&&b("characterDataModified")};
tw.prototype.observe=function(a){var b=$(a).get(0);if(this.ii)throw Error("Already observing an element");b&&(this.be.observe(b,this.yb),this.ii=$(a))};function Yy(a){a.be.disconnect();a.ii=null};function gi(a,b,c){this.text=b||null;b=qb(a);this.text&&this.text.toLocaleLowerCase()===Kb(b).toLocaleLowerCase()&&(this.text=null);this.Qa=c||null;this.L=a}gi.prototype.on=Backbone.Events.on;gi.prototype.off=Backbone.Events.off;gi.prototype.trigger=Backbone.Events.trigger;function Zy(a){return a.text?(a.text.match(/#[a-z0-9_-]+/gi)||[]).map(function(a){return a.slice(1).trim()}):[]}function $y(a){return null===a.text||""===a.text}gi.prototype.yg=function(){return this.text};
function az(a,b){var c;if(c=b){var d=b.trim().replace(/\s+/g," ");c="";d=d.trim();"undefined"==typeof c&&(c="…");if(256>=d.length)c=d;else{var e=d.substr(0,256),d=d.substr(256).match(/^\S+/),g=e.match(/\S+$/);e.match(/\s$/)||null===d||(10>=d[0].length?e+=d[0]:10>=g[0].length&&(e=e.substr(0,256-g[0].length)));c=e=e.trim()+c}}b=c;a.text!==b&&(a.text=b,a.trigger("change"))}
function bz(a,b){var c=ob(a.L),d=qb(a.L);return-1!=[d.Em(),d.format("documentSvgPlaceholderText"),Jb(c,"title"),Jb(c,"subtitle"),Jb(c,"body")].indexOf(b)}function dw(a,b){var c=a.text||Kb(qb(a.L)),d=b&&!!b.Sz;a.Qa&&($y(a)||d)&&(c=a.Qa.displayName+" – "+c);return c};var Rn="screen";function Wv(a,b){var c=pa,d=va,e=new xj(b.id,2,0,a,b.version,b.session,b.timestamp,b.content||{},Si(b.extensions)),c=new pj(c,d,e,new Ji);c.Pf=!0;u=c;wa.Ma.get(cc)&&u.start();u.yr(cz);Qa=0;return u}
function rl(){$("#canvaDocument").on("mousedown",".page img, .cropControls img, a",Dy);$("#content").on("keydown",".element.text.focused",dz);$("#content").on("keydown",".element.text.focused",ez);$("#content").on("input",".element.text.focused",fz);$("#canvaDocument").on("DOMNodeInserted",".element.text.focused",gz);if(!Vu)$("#canvaDocument").on("click",".page .element:not(.focused)",!1);$("#content").on("touchDblClick",".selectionBox:not(.multipleSelectionBox)",hz);(new S("#canvaDocument")).on("mousedown+touchstart",
".selectionBox,.element",Ra);(new S("#canvaDocument")).on("touchstart",".element.focused",vw).on("click",".element.focused",vw).on("mousedown",".element.focused",vw).on("mousedown+touchstart",".element:not(.focused, .multiSelected)",iz);(new S("#content")).on("click",".selectionBox.multipleSelectionBox",Ey).on("click",".element.multiSelected",Ey).on("mousedown+touchstart",".selectionBox.multipleSelectionBox",jz).on("mousedown+touchstart",".element.multiSelected",jz);(new S("#content")).on("click",
".selectionBox",Ey).on("mousedown+touchstart",".selectionBox",kz);(new S("#content")).on("click",".selectionBox .handle",Ey).on("mousedown+touchstart",".selectionBox:not(.multipleSelectionBox,.text.freeResize) .handle",lz);(new S("#content")).on("click",".selectionBox .handle",Ey).on("mousedown+touchstart",".selectionBox.text.freeResize .handle.br",mz);(new S("#content")).on("mousedown+touchstart",".multipleSelectionBox .handle",nz);(new S("#content")).on("click",".cropControls",Ey).on("mousedown+touchstart",
".cropControls",oz);(new S("#content")).on("click",".cropControls .handle",Ey).on("mousedown+touchstart",".cropControls .handle",pz);(new S("#content")).on("click",".viewPort .frameHandle",Ey).on("mousedown+touchstart",".viewPort .frameHandle",qz);(new S("#content")).on("click",".selectionBox .rotate",Ey).on("mousedown+touchstart",".selectionBox .rotate",Nh);(new S("#objectPanel")).on("mousedown+touchstart",rz).on("mousedown+touchstart",".gallery a",rz);$("#canvaDocument").on("mouseenter",".unapproved,.failed",
sz);if(Vu)$("#content").on("touchClick",tz);$("#null").keydown(function(){$(this).blur()});wa.Ma.get(hc)||(window.addEventListener("dragenter",uz,!1),window.addEventListener("dragover",vz,!1),window.addEventListener("drop",wz,!1),$("#dropZone").on("mouseover",xz).on("dragleave",yz))}function zz(){var a=t;function b(a){a.wn(ma)}Fl||wi(a).forEach(b)}
function Az(a,b,c,d,e){function g(){return new Bz({Ud:(new UAParser).getBrowser().name,document:a,xa:b,ka:u,Hg:Date.now(),Ko:new Fj(va),hp:new Mj,L:e})}if(Fl)Da=new Cz({model:a,L:e});else{Sa=Dz.zz({model:a,xa:b,ka:u,Rb:Ha,Bf:c,tn:function(a){document.title=a},Nn:d,wo:g,L:e});Da=new Cz({model:a,L:e});Ta=new Ez({model:a,Zd:Da,L:e});var h=new ox(a);Ga=function(){return h}}}
function ql(a,b,c,d,e){function g(a){-1===k.indexOf(a)&&(k.push(a),l())}t&&(M(),t.off(),Da.remove(),Fl||(Sa.remove(),Ta.remove()));var h=_.flatten(_.pluck(a.pages,"elements")).length,k=[],l=_.after(h+1,function(){if(t&&t.fa){var a=10*t.fa().length;E.off("elementLoaded",g);E.off("elementLoadingError",g);window.setTimeout(function(){E.trigger("documentRendered");window.setTimeout(function(){$("#canvaDocument").addClass("rendered")},2E3);e&&(ve(e,"rendered"),e.done())},100+a)}});E.on("elementLoaded",
g);E.on("elementLoadingError",g);t=new fi(a,c);t.on("change",Xv);Az(t,wa,b,d?d():[],c);t.O.forEach(function(a){a.fa().forEach(function(b){a.trigger("element:add",a,b)})});l();C=new mv;zz()}function Fc(a){var b=a.T();if(null==b)throw Error("cannot register element add operation - element must first be added to a page");a=vv(a.serialize());a.pageIndex=T(t,b);C.register(new V(qv,a))}
function Fz(a){var b=a.T();if(null==b)throw Error("cannot register element add operation - element must first be added to a page");a=a.serialize();var c=vv(a);c.pageIndex=T(t,b);c.childRange=nw(a);C.register(new V(13,c))}function Cu(a){var b=a.T();null!=b&&(a=vv(a.serialize()),a.pageIndex=T(t,b),C.register(new V(rv,a)))}function Zu(){return I(t).C()||$("#canvaDocument \x3e .inner \x3e .page").first()}
function Gz(a){function b(a){if(a.ib()){var b={elementIndex:a.V(),pageIndex:T(t,c)};Zn(a);C.register(new V(Fu,b));Cu(a);a.remove()}}var c=a.T(),d=c.ba();ig(a.ba(),d)&&a instanceof gn&&!a.ib()&&(c.fa().forEach(b),d=a.V(),ri(a),M(),Yu(a),a={elementIndex:a.V(),oldElementIndex:d,pageIndex:T(t,c)},C.register(new V(Hu,a)))}function Xv(){if(u){var a=t.serialize();Ht(a);Ei(a)?(Qa=u.post(Qa,a),null==Qa&&jv()):(kv(),u.close())}}var Hz=0;
function cz(a){window.clearTimeout(Hz);lv();1==a?Hz=window.setTimeout(kv,3E4):2==a?1===Qa&&2===u.vb()&&window.opener&&"/"===window.opener.location.pathname&&window.opener.location.reload():3==a&&(jv(),u.close());E.trigger("session:sync",a)}function Uh(){bd().write(function(){$(".elementToolbar,.textToolbar,.imageToolbar,.toolbarTooltip,.fxPanel").addClass("subdued")}).done()}
function Sh(){bd().write(function(){$(".elementToolbar,.textToolbar,.imageToolbar,.toolbarTooltip,.fxPanel").removeClass("subdued")}).done()}
(function(){function a(){b=[];$(document).off("keyup",a)}var b=[];Ra=function(c){var d=void 0!==c.clientX?c.clientX:c.touches[0].clientX,e=void 0!==c.clientY?c.clientY:c.touches[0].clientY;if(c.metaKey){$(document).on("keyup",a);var g=[],h;$("#canvaDocument .page.selected .element").each(function(){var a=this.getBoundingClientRect();a.left<d&&a.right>d&&a.top<e&&a.bottom>e?(a=$(this).data("canvaElement"),g.push(a),-1==b.indexOf(a)&&(a.selected?(rw(a),b.unshift(a)):b.push(a))):h=$(this).data("canvaElement")});
b.forEach(function(a,c){-1==g.indexOf(a)&&b.splice(c,1)});-1!=b.indexOf(h)&&b.unshift(h);if(0<b.length){M();var k=b.pop();Ec(k);b.unshift(k);c.stopPropagation();c.preventDefault();return!1}}return!0}})();function Iz(){return t.O.map(function(a){return{rect:a.C().get(0).getBoundingClientRect(),page:a}})}
function iz(a){function b(a){N=void 0!==a.clientX?a.clientX:a.touches[0].clientX;Ia=void 0!==a.clientY?a.clientY:a.touches[0].clientY;hb=q.C().get(0).getBoundingClientRect();J.read(c);return!1}function c(){var a=!1;if(q.Dg()){var b=q.Gc();b&&!yi(ma,b)&&(a=!0)}if(!q.Zj||q.Ib||a){a=N-w;b=Ia-x;if(B){var c=Jz(hb,h);c&&c.page?(X&&(X=!1,q.C().removeClass("outsidePage")),q.fj()&&!q.Wh(q.T())?(za&&c.page!=za&&za.C().removeClass("hotspotHover"),za=c.page,za.C().addClass("hotspotHover")):za&&za.C().removeClass("hotspotHover")):
(q.C().addClass("outsidePage"),X=!0)}if(B||4<Math.abs(a)||4<Math.abs(b)){B=!0;q.setPosition(G+a/L,A+b/L);R.hasClass("placing")||$m(q)||gd(q,U,oa);var b=y.get(0).getBoundingClientRect(),c=$(".page.selected.on").get(0).getBoundingClientRect(),d=$("#overlays").get(0).getBoundingClientRect(),a=b.left-d.left,d=b.top-d.top,g=Math.round((b.left-c.left)/L),b=Math.round((b.top-c.top)/L);e.addClass("positionIndicatorShowing").addClass("positionIndicatorMoving").css("transform","translate("+a+"px,"+d+"px)").html(g+
", "+b);Uh();q.ua()}B&&!aa&&(a=R.find("img"),a.attr("data-screen-width",q.A()).attr("data-screen-height",q.B()),q.Zj&&a.attr("data-media-approved",q.Ib),R.addClass("clone"),!q.jl()&&q instanceof gn&&R.addClass("cutout"),b=Mc({id:q.ha,version:q.ia,origin:q.origin?q.origin.Yb():"CANVA",files:{THUMBNAIL:{url:a.attr("src")},SCREEN:{url:a.attr("src")}}}),c=$("\x3cli\x3e\x3c/li\x3e"),c.data("result",b).append(a.clone()),R.data("li",c),q.jl()||q.qe())&&(jd(R,null,Bu(H)),aa=!0)}}function d(a){var c=q.C().get(0).getBoundingClientRect();
e.remove();y.remove();ca.write(function(){var b;Sh();q.uc=!1;$("#hotspots").remove();za&&za.C().removeClass("hotspotHover");$("#overlays .align").removeClass("on");B?q.T()&&(q.Wh(q.T())?(Wr(),Gz(q),b={elementIndex:q.V(),pageIndex:T(t,q.T()),"new":{left:q.N(),top:q.K()},old:{left:G,top:A}},b=new V(Th,b),C.register(b),Xr()):(b=Jz(c,h))&&q.fj()?(Wr(),Kz(q,c,b,G,A),Xr()):(b=vv(q.serialize()),b.pageIndex=T(t,q.T()),b.left=G,b.top=A,b=new V(rv,b),C.register(b),q.remove())):n||m||(Ec(q),p&&(b=k.parents(".text").addBack(".text"),
v?Sm(b):a.shiftKey||(q instanceof Qh?($v(b,ub(g)),bs(b,!0),q.ua()):q instanceof kn||bs(b))));R.removeClass("clone cutout").removeData("startLeft").removeData("startTop").removeData("li");R.find("img").removeAttr("data-screen-width").removeAttr("data-screen-height")});H.off("mousemove|touchmove",b).off("mouseup|touchend",d)}if(3==a.which||a.ctrlKey)return!0;$("#overlays .positionIndicator").remove();var e=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(e);var g=ya,h=
Iz(),k=$(a.target),l=0!==k.parents(".group").length,m=k.is(".group"),n=k.is(".elements"),p=k.is(".text")||0<k.parents(".text").length,r=p?k.parents(".element").addBack(".element"):$(this);l&&(r=k.parents(".group").first());var q=r.data("canvaElement");if(!q.il())return a.preventDefault(),a.stopImmediatePropagation(),!1;Bn.zf();Tg();a.altKey&&(r=q.T(),l=r.elements.indexOf(q),q=q.clone(),vn(r,q,l+1),r=q.C());var v=r.hasClass("focused"),l=q.selected,w=void 0!==a.clientX?a.clientX:a.touches[0].clientX,
x=void 0!==a.clientY?a.clientY:a.touches[0].clientY;if($(document.elementFromPoint(w,x)).is(".handle.on"))return!0;if(a.shiftKey&&0===t.pa().length||q.ib()&&!l)return Ta.mq(a,!0);var y=$("\x3cdiv\x3e\x3c/div\x3e"),z=kx(q.Ga());45<z&&135>=z?y.css({position:"absolute",bottom:0,left:0}):135<z&&225>=z?y.css({position:"absolute",bottom:0,right:0}):225<z&&315>=z?y.css({position:"absolute",top:0,right:0}):y.css({position:"absolute",top:0,left:0});q.C().append(y);a.shiftKey||l||M();q instanceof Qh?(a=$("#overlays .svg.text.focused"),
0<a.length&&(Sm(a),Oo(q)),a=k.siblings("image").filter(function(){return this.classList.contains("placeholder")&&"https://static.canva.com/static/images/placeholder.jpg"!=this.getAttribute("xlink:href")}),k.is("image.placeholder")&&"https://static.canva.com/static/images/placeholder.jpg"!=k.attr("xlink:href")?q.Yg(k):k.is(".outline")&&1===a.length&&q.Yg(a),$(".uploadAPhoto").each(function(a,b){var c=b.getBoundingClientRect();if(w>c.left&&w<c.right&&x<c.bottom&&x>c.top){var c=$(b).parent().find("image.placeholder"),c=q.C().find("image.placeholder").index(c),
d=q;$u();$("#fileUpload").data("upload-destination",d);$("#fileUpload").data("upload-placeholder-index",c);return!1}return!0})):q instanceof hn&&k.is(".placeholder")&&q.Uc()!==k&&q.Yg(k);var G=q.N(),A=q.K(),B=!1,H=new S($(document));q.uc=!0;H.on("mousemove|touchmove",b).on("mouseup|touchend",d);var U={},oa=fd(q),aa=!1,R=q.C();R.data("startLeft",G).data("startTop",A);var N=0,Ia=0,hb=r.get(0).getBoundingClientRect(),J=bd(),ca=bd(),X=!1,za;return!1}
function Kz(a,b,c,d,e){var g=(b.left-c.rect.left)/L;b=(b.top-c.rect.top)/L;var h=vv(a.serialize());h.pageIndex=T(t,a.T());h.left=d;h.top=e;C.register(new V(rv,h));d=a.clone();a.remove();d.appendTo(c.page);d.setPosition(g,b);Fc(d);return d}function Jz(a,b){for(var c=0;c!=b.length;c++){var d=b[c].rect;if(a.bottom>d.top&&a.top<d.bottom&&a.right>d.left&&a.left<d.right)return b[c]}return null}
function Lz(a,b){return t.pa().filter(function(c){c=c.C().get(0).getBoundingClientRect();return c.left<a&&c.right>a&&c.top<b&&c.bottom>b}).sort(function(a,b){return a.V()-b.V()})}function Mz(a){var b=ya;2>t.pa().length||(rw(a),$(".elementToolbar").remove(),a=t.pa(),1<a.length?(a.forEach(function(a){a.C().removeData("toolbar")}),Yr(ub(b))):1===a.length&&($(".multipleSelectionBox").remove(),M(),a[0].C().removeClass("multiSelected"),Yu(a[0]),a[0].ua()))}
function Nz(a){var b=sp(new kn,a);b.insertBefore(a[0]);(function(a){for(var b=a[0],e=1;e!==a.length;e++)a[e].insertAfter(b),b=a[e];return a})(a.sort(function(a,b){return a.V()-b.V()})).forEach(function(a){b.addElement(a);var d=(new yg).translate(-1*b.N(),-1*b.K());a.transform(d);b.C().find(".elements").append(a.C())});return b}function gs(){function a(a){return $m(a)}var b=t.pa();1>=b.length||0<b.filter(a).length||(M(),b=Nz(b),Ec(b),Fz(b))}
function wv(a){var b=[].concat(a.fa()).reverse(),c=pn(a);b.forEach(function(b){a.vi(b);var e=rp(c,pn(b));b.insertAfter(a);b.C().insertAfter(a.C());b.Hk(e.bc);b.setPosition(e.left,e.top);Ph(b,e.rotation);Ec(b)});a.remove()}function fs(){var a=t.pa();if(1===a.length&&$m(a[0])){M();var a=a[0],b=a.T();if(null==b)throw Error("cannot register element add operation - element must first be added to a page");var c=a.serialize(),d=vv(c);d.pageIndex=T(t,b);d.childRange=nw(c);C.register(new V(14,d));wv(a)}}
function jz(a){function b(a){y=void 0!==a.clientX?a.clientX:a.touches[0].clientX;z=void 0!==a.clientY?a.clientY:a.touches[0].clientY;A.read(c);return!1}function c(){var a=y-k,b=z-l,c=$(".multipleSelectionBox").get(0).getBoundingClientRect(),c=Jz(c,G);if(w||4<Math.abs(a)||4<Math.abs(b))w=!0,h.setPosition(n+a/L,p+b/L),gd(h,q,v),c&&c.page&&c.page!==h.T()&&!h.Wh(h.T())?c.page.C().addClass("hotspotHover"):$(".page").removeClass("hotspotHover"),Yr(ub(e))}function d(){var a=$(".multipleSelectionBox").get(0).getBoundingClientRect(),
c=Jz(a,G);$(".page").removeClass("hotspotHover");B.write(function(){$("#overlays .align").removeClass("on");Sh();Oz(g,!1);if(w){Wr();if(h.Wh(h.T()))g.forEach(function(a,b){var c={elementIndex:a.V(),pageIndex:T(t,a.T()),"new":{left:a.N(),top:a.K()},old:{left:r[b].left,top:r[b].top}};C.register(new V(Th,c))});else if(c){var a=[];g.forEach(function(b,d){if(b.fj()){var e=Kz(b,b.C().get(0).getBoundingClientRect(),c,r[d].left,r[d].top);a.push(e)}});M();a.forEach(function(a){Ec(a,!0)})}else g.forEach(function(a,
b){var c=vv(a.serialize());c.left=r[b].left;c.top=r[b].top;c.pageIndex=T(t,a.T());C.register(new V(rv,c));a.remove()}),$(".multipleSelectionBox").remove();Xr()}});x.off("mousemove|touchmove",b).off("mouseup|touchend",d)}var e=ya;if(3==a.which||a.ctrlKey)return!0;var g=t.pa(),h=new Be(g),k=void 0!==a.clientX?a.clientX:a.touches[0].clientX,l=void 0!==a.clientY?a.clientY:a.touches[0].clientY,m=Lz(k,l)[0];if(a.shiftKey&&m)return Mz(m),!1;Uh();Oz(g,!0);var n=h.N(),p=h.K(),r=g.map(function(a){return{left:a.N(),
top:a.K()}}),q={},v=fd(g),w=!1,x=new S($(document)),y=0,z=0,G=Iz(),A=bd(),B=bd();x.on("mousemove|touchmove",b).on("mouseup|touchend",d);return!1}$(function(){Ua=new tw;Ua.on("nodeInserted",Pz).on("nodeInserted",Qz).on("nodeRemoved",Qz).on("characterDataModified",Qz)});
function bs(a,b){if(!a.hasClass("focused")){a.parents(".page").hasClass("dark")&&a.addClass("dark");var c=a.data("canvaElement"),d=a.children(".inner");if(a.is(".svg .text")){var e=a.parents(".element").first();a.data("precedingElement",e.prevAll(".element").first()).addClass("focused svg element");e.appendTo("#overlays");c.setPosition();Rh(c)}else a.is(".group .text")?(e=a.parents(".group").first(),a.data("precedingElement",e.prevAll(".element").first()).addClass("focused"),e.appendTo("#overlays"),
e.data("canvaElement").setPosition()):(a.data("precedingElement",a.prevAll(".element").first()).appendTo("#overlays").addClass("focused"),c.setPosition());e=c.Ya();a.removeClass("focused");c=c.Pb(e);a.data("oldTextData",c);a.addClass("focused");lm(a);d.attr("contentEditable","true");d.focus();d.on("paste",Rz);Yy(Ua);Ua.observe(a);Sz.sE(a);c=qb(ya);c=a.data("placeholderText")||c.Em();c=d.text()==c;(b||c)&&Dm(d)}}
function Dm(a,b){window.setTimeout(function(){var c,d;window.getSelection&&document.createRange?(d=document.createRange(),d.selectNodeContents(a.get(0)),c=window.getSelection(),c.removeAllRanges(),c.addRange(d)):document.body.createTextRange&&(d=document.body.createTextRange(),d.moveToElementText(a.get(0)),d.select());b&&b()},1)}
function Rz(a){if(document.queryCommandSupported("ms-pasteContentOnly"))document.execCommand("ms-pasteContentOnly");else if(document.queryCommandSupported("insertHTML")&&a.originalEvent.clipboardData){var b=a.originalEvent.clipboardData.getData("text/plain"),b=_.escape(b).replace(/\r?\n/g,"\x3cbr\x3e").replace(/ {2}/g," \x26nbsp;");document.execCommand("insertHTML",!1,b)}else throw Error("Beware! Unsupported browser. Sneaking around.");a.preventDefault()}
function Pz(a){function b(a){var b=a.attr("style");b&&-1<b.indexOf("Glegoo, Helvetica, Arial, sans-serif")&&a.attr("style","")}a=$(a.target);b(a);a.children().each(function(){b($(this))})}var Tz=!1;function Qz(a){if(Tz)Tz=!1;else{var b=$(a.currentTarget),c=b.data("designObject")||null;void 0===Qz.jo&&(Qz.jo={});5<a.timeStamp-(Qz.jo[a.currentTarget]||0)&&(Qz.jo[a.currentTarget]=a.timeStamp,c&&b.is(".svg")&&Bo(c));a=/[\uE000-\uF8FF]/g;c=b.html();a.test(c)&&(Tz=!0,b.html(c.replace(a,"�")))}}
var Sz=function(){function a(a){a.get(0)===e&&(0!==d&&(window.cancelAnimationFrame(d),d=0),$(e).off("keydown mousemove",b),e=null,h=0)}function b(){g=Date.now();0===d&&(d=window.requestAnimationFrame(c))}function c(){var a=Date.now();if(5E3<a-g)d=0;else{if(100<a-h){var b=jQuery.data(e,"textToolbar");b&&Qo(b,$(e));h=a}d=window.requestAnimationFrame(c)}}var d=0,e=null,g=0,h=0;return{sE:function(c){c=c.get(0);c!==e&&(null!==e&&a($(e)),e=c,b(),$(e).on("keydown mousemove",b))},tE:a}}();
function Sm(a){var b=a.data("precedingElement"),c=a.data("canvaElement"),d=a.children(".inner"),e=c.Cb||Zu(),g=c.Ya(),h=!1;Sz.tE(a);a.removeClass("dark");if(a.is(".svg.text"))h=a.parents(".element").first(),0<b.length?h.insertAfter(b):h.prependTo($(".elements",e)),a.removeData("precedingElement").removeClass("focused svg element"),d.attr("contentEditable","false"),Rh(c),Wl(c,g),h=!0;else if(a.is(".group .text")){var h=a.parents(".group").first(),k=h.data("canvaElement");0<b.length?h.insertAfter(b):
h.prependTo($(".elements",e));k.setPosition();a.removeData("precedingElement").removeClass("focused");d.attr("contentEditable","false");Wl(c,g);h=!0}else 0<a.length&&(0<b.length?a.insertAfter(b):a.prependTo($(".elements",e)),a.removeClass("focused"),d.attr("contentEditable","false"),a.text().match(/^\s*$/)?((b=a.data("oldTextData"))&&c.$g(g,b),Cu(c),c.remove()):(Wl(c,g),h=!0));d.off("paste",Rz);Yy(Ua);c.Ba();c.Da();$("#null").focus();window.setTimeout(function(){$("#null").blur()},0);if(h){if(d=a.data("oldTextData"))b=
c.Pb(g),g={elementIndex:c.V(),pageIndex:T(t,c.T()),textIndex:g,"new":b,old:d},C.register(new tv(1,g)),c.un=!0;c=t.Aa();g=a.text();$y(c)&&az(c,bz(c,g)?"":g)}a.removeData("oldTextData")}
function kz(a){var b;if(/touch/gi.test(a.type)||!$(this).hasClass("multipleSelectionBox")){b=$(this).data("element");if(b.data("canvaElement")instanceof Ci)b=b.get(0),a.target=b;else{$(this).css("visibility","hidden");var c=document.elementFromPoint(void 0!==a.clientX?a.clientX:a.touches[0].clientX,void 0!==a.clientY?a.clientY:a.touches[0].clientY),d=$(c).closest(".element").get(0);d?(a.target=c,b=d):(b=b.get(0),a.target=b);$(this).css("visibility","")}iz.call(b,a)}return!1}
function hz(a){var b=$(this).data("element"),c=$(b).data("canvaElement");if(a.metaKey)return!1;b.hasClass("text")?bs(b):fy(c);return!1}function Ec(a,b){function c(a){var b=a.C();a.Ld();b.is(".text.focused")&&Sm(b);b.addClass("multiSelected")}var d=ya,e=a.C(),g=t.pa();!a.rh()||a.selected||tn(a)||(a.Xf(!0),0===g.length?(Uz(e),!b&&Vz(a,ub(d))):(g.forEach(c),e.addClass("multiSelected"),Yr(ub(d))))}
function Vz(a,b){var c=a.C();a instanceof Ci?cy(c,b):by(c,b);(a instanceof Qh||a instanceof hn)&&-1<a.eb()?Vo(c,b):a instanceof hn&&Vo(c,b)}function Yu(a){var b=t.pa();if(1!=b.length||-1==b.indexOf(a))M(),Ec(a)}function ls(a){var b=t.pa(),c=I(t),d=c.fa().length-1,e=-1,e=-1;0!==a&&1===b.length&&(e=c.elements.indexOf(b[0]),-1!==e&&(e+=a,0>e&&(e=d),e>d&&(e=0),b=c.elements[e],b.ib()&&(0<a?(e+=1,e>d&&(e=0)):(--e,0>e&&(e=d))),b=c.elements[e],Yu(b)))}
function Uz(a){var b=$("#overlays"),c=a.data("selectionBox"),d=a.data("canvaElement");a.addClass("selected");c||(c=$('\x3cdiv class\x3d"selectionBox cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#" title\x3d"Resize this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle t" href\x3d"#" title\x3d"Stretch this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#" title\x3d"Resize this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle l" href\x3d"#" title\x3d"Stretch this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle r" href\x3d"#" title\x3d"Stretch this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#" title\x3d"Resize this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle b" href\x3d"#" title\x3d"Stretch this element"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#" title\x3d"Resize this element"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#" title\x3d"Rotate this element"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3c/div\x3e'),
c.data("element",a).appendTo(b),a.hasClass("text")&&c.addClass("text"),a.hasClass("svg")&&c.addClass("svg"),a.hasClass("unapproved")&&c.addClass("unapproved"),a.hasClass("group")&&c.addClass("group"),a.data("selectionBox",c));d&&d.ua()}
function rw(a){a.Xf(!1);a.Us();a.Ld();var b=a.C(),c=b.hasClass("multiSelected");b.removeClass("selected").removeClass("multiSelected");b.is(".text.focused")?Sm(b):b.is(".group")&&1===b.find(".text.focused").length?Sm(b.find(".text.focused")):a instanceof Qh&&(b=a.Hh(),0<b.length&&Sm(b));(b=a.T())&&c&&!a.Wh(b)&&(Cu(a),a.remove())}function Wz(a){rw(a);Ec(a)}function js(){I(t).fa().forEach(function(a){Ec(a,!0)})}
function M(){Tg();Bn&&Bn.zf();t.pa().forEach(function(a){rw(a)});$(".multipleSelectionBox").remove();window.getSelection().removeAllRanges()}function ds(a){void 0===a&&(a=t.pa());if(0<a.length){var b=a.map(function(a){return a.clone()});lh(b,a[a.length-1])}}
function es(){function a(a){if(a.Dg()){var b=a.Gc();b&&!yi(ma,b)&&Cs(sa,b.F(),(new $n).mh(b.S())).then(function(b){Uc(ma,b.F(),b.da().S(),b.da().Sa());(b=a.Gc())&&a.Bi(b.F(),b.S())}).catch($.noop)}}function b(b){b.Pp()?(b.left+=30,b.Pa(),b.top+=30,b.Pa(),b.fa().forEach(a),b.appendTo(e)):(a(b),g?(b.left+=30,b.Pa(),b.top+=30,b.Pa(),b.insertAfter(g),g=b):b.appendTo(e));k++;k===h.length&&c()}function c(){Wr();h.forEach(function(a){Fc(a)});Xr();M();h.forEach(function(a){Ec(a)});ds(h)}var d=mh();if(d){var e=
I(t),g=d.nk;!g||-1<e.elements.indexOf(g)||(g=null);var h=d.elements.filter(function(a){return!!a}),k=0;h.forEach(b)}}
function oz(a){function b(a){p=void 0!==a.clientX?a.clientX:a.touches[0].clientX;r=void 0!==a.clientY?a.clientY:a.touches[0].clientY;q.write(c);return!1}function c(){var a=lx(e.Ga()),b=(p-g)*Math.cos(a)-(h-r)*Math.sin(a)+g-g,a=-1*(h-r)*Math.cos(a)-(p-g)*Math.sin(a)+h-h;if(m||4<Math.abs(b)||4<Math.abs(a))m=!0,b/=L,a/=L,e.pr(k+b,l+a),e.ua()}function d(){e.uc=!1;n.off("mousemove|touchmove",b).off("mouseup|touchend",d)}if(3==a.which||a.ctrlKey||$(a.target).is(".handle"))return!0;var e=$(this).data("canvaElement"),
g=void 0!==a.clientX?a.clientX:a.touches[0].clientX,h=void 0!==a.clientY?a.clientY:a.touches[0].clientY;a=e.Ec();var k=a.N(),l=a.K(),m=!1,n=new S($(document));e.uc=!0;n.on("mousemove|touchmove",b).on("mouseup|touchend",d);var p=0,r=0,q=bd();return!1}
function pz(a){function b(a){R=a.shiftKey?!1:!0;oa=void 0!==a.clientX?a.clientX:a.touches[0].clientX;aa=void 0!==a.clientY?a.clientY:a.touches[0].clientY;N.write(c);return!1}function c(){var a=0,b=0,c=0,d=0,b=a=0,k={x:oa,y:aa};v=bg($c($(".cropControls").get(0).getBoundingClientRect()));var r=mx(k,q),k=Qg(n,p,oa,aa),N=Math.cos(lx(r-w))*k;R&&(r=w,k=N);r=Ym(r,g.Ga());N=0;switch(vy(e.get(0))){case 2:N=r-nx(2);b=k*Math.cos(lx(N));a=k*Math.sin(lx(N));R&&(b=a/m);c=x;d=y-b;a=z+a;b=G+b;break;case 7:N=r-nx(7);
b=k*Math.sin(lx(N));a=k*Math.cos(lx(N));R&&(b=a/m);c=x;d=y;a=z+a;b=G+b;break;case 5:N=r-nx(5);b=k*Math.cos(lx(N));a=k*Math.sin(lx(N));R&&(b=a/m);c=x-a;d=y;a=z+a;b=G+b;break;case 0:N=r-nx(0),b=k*Math.sin(lx(N)),a=k*Math.cos(lx(N)),R&&(b=a/m),c=x-a,d=y-b,a=z+a,b=G+b}var k=l.N()+l.A(),N=l.K()+l.B(),r=Math.floor(d)>l.K(),Ia=Math.floor(c)>l.N(),Ka=Math.ceil(c+a)<k,fa=Math.ceil(d+b)<N;r&&(l.K(),H===l.K()?(d=H,b=U,R&&(c=A,a=B)):(d=l.K(),b=U+(H-d),R&&(a=b*m,c=A,Math.ceil(c+a)<k&&(a=k,b=a/m))));Ia&&(l.N(),
A===l.N()?(c=A,a=B,R&&(b=U,d=H)):(c=l.N(),a=B+(A-c),R&&(b=a/m,d=H,Math.ceil(d+b)<N&&(b=N,a=b*m))));Ka&&(A+B===k?(a=B,c=A,R&&(d=H,b=U)):(a=k-c,R&&(b=a/m,d=H)));fa&&(H+U===N?(b=U,d=H,R&&(c=A,a=B)):(b=N-d,R&&(a=b*m,c=A)));isNaN(1*b)||isNaN(1*a)||isNaN(1*d)||isNaN(1*c)||(b<N&&(d=H,c=A,b=N,R&&(a=b*m)),a<k&&(c=A,d=H,a=k,R&&(b=a/m)),r=Math.floor(d)>l.K(),Ia=Math.floor(c)>l.N(),Ka=Math.ceil(c+a)<k,fa=Math.ceil(d+b)<N,r||Ia||Ka||fa||(h.Ba(c/L).Da(d/L).Z(a/L).W(b/L),g.Ae(h),g.ua(),A=c,H=d,B=a,U=b))}function d(){Ia.write(function(){e.removeClass("on")});
g.uc=!1;r.off("mousemove|touchmove",b).off("mouseup|touchend",d)}var e=$(this),g=t.pa()[0],h=g.Ec(),k=g.Ec().scale(L),l=g.Ra().scale(L);l.Ba(0).Da(0);var m=cg(k),n=void 0!==a.clientX?a.clientX:a.touches[0].clientX,p=void 0!==a.clientY?a.clientY:a.touches[0].clientY,r=new S($(document));g.uc=!0;r.on("mousemove|touchmove",b).on("mouseup|touchend",d);var q={x:n,y:p};a=bg($c(e.get(0).getBoundingClientRect()));var v=bg($c($(".cropControls").get(0).getBoundingClientRect())),w=mx(a,v),x=k.N(),y=k.K(),z=
k.A(),G=k.B(),A=k.N(),B=k.A(),H=k.K(),U=k.B(),oa=0,aa=0,R=!0,N=bd(),Ia=bd();return!1}
function qz(a){function b(a){G=void 0!==a.clientX?a.clientX:a.touches[0].clientX;A=void 0!==a.clientY?a.clientY:a.touches[0].clientY;B.read(c);return!1}function c(){var a,b,c,d,n=0,H=0,hb=h.clone(),J=Qg(l,m,G,A),n=Ym(mx({x:G,y:A},v),e.Ga()),ca=0;switch(vy(g.get(0))){case 2:ca=n-nx(2);H=J*Math.cos(lx(ca));n=J*Math.sin(lx(ca));a=h.N();c=h.K()-H;b=h.A()+n;d=h.B()+H;break;case 7:ca=n-nx(7);H=J*Math.sin(lx(ca));n=J*Math.cos(lx(ca));a=h.N();c=h.K();b=h.A()+n;d=h.B()+H;break;case 5:ca=n-nx(5);n=J*Math.sin(lx(ca));
H=J*Math.cos(lx(ca));a=h.N()-n;c=h.K();b=h.A()+n;d=h.B()+H;break;case 0:ca=n-nx(0),H=J*Math.sin(lx(ca)),n=J*Math.cos(lx(ca)),a=h.N()-n,c=h.K()-H,b=h.A()+n,d=h.B()+H}J=k.K();c<J&&(y===J?(c=y,d=z):(c=J,d=z+(y-c)));J=k.N();a<J&&(w===J?(a=w,b=x):(a=J,b=x+(w-a)));J=k.B()+k.K();c+d>J&&(y+z===J?(d=z,c=y):d=J-c);J=k.A()+k.N();a+b>J&&(w+x===J?(b=x,a=w):b=J-a);20>b?b=20:20>d?d=20:isNaN(1*d)||isNaN(1*b)||isNaN(1*c)||isNaN(1*a)||(hb.Ba(a).Da(c).Z(b).W(d),w=a,y=c,x=b,z=d,B.write(function(){Ae(e,hb.scale(1/L));
gd(q,p,r);e.ua()}))}function d(){H.write(function(){$("#overlays .align").removeClass("on");g.removeClass("on")});e.uc=!1;n.off("mousemove|touchmove",b).off("mouseup|touchend",d)}var e=t.pa()[0],g=$(this);e.ua();var h=e.Ra();h.scale(L);var k=e.Ec();k.scale(L).translate(h.N(),h.K());var l=void 0!==a.clientX?a.clientX:a.touches[0].clientX,m=void 0!==a.clientY?a.clientY:a.touches[0].clientY,n=new S($(document));e.uc=!0;n.on("mousemove|touchmove",b).on("mouseup|touchend",d);var p={},r=fd(e),q=null;e instanceof
gn&&(q=new ze(e));var v={x:l,y:m},w=h.N(),x=h.A(),y=h.K(),z=h.B(),G=0,A=0,B=bd(),H=bd();return!1}
function nz(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.touches[0].clientX)-l;a=(void 0!==a.clientY?a.clientY:a.touches[0].clientY)-m;var c=Math.sqrt(Math.pow(n+b,2)+Math.pow(p+a,2));B=d(x);10>n+b||10>p+a||(y=c/r,z.css("top",B.top-A+"px").css("left",B.left-G+"px").css("width",B.width+"px").css("height",B.height+"px"),w.css("-webkit-transform","scale("+y+")").css("transform","scale("+y+")"))}function c(){Sh();Oz(q,!1);g();w.remove();e();z.remove();v.off("mousemove|touchmove",b).off("mouseup|touchend",
c)}function d(a){var b=Infinity,c=Infinity,d=0,e=0;a.each(function(a,g){var h=g.getBoundingClientRect();h.top<b&&(b=h.top);h.left<c&&(c=h.left);h.bottom>e&&(e=h.bottom);h.right>d&&(d=h.right)});return{top:b,left:c,right:d,bottom:e,width:d-c,height:e-b}}function e(){$(".multipleSelectionBox").css("visibility","visible");$(".elementToolbar").css("visibility","visible");$(".multiSelected").each(function(){var a=$(this).data("canvaElement");$(this).css("opacity",1-a.bc/100)})}function g(){var a=w.get(0).getBoundingClientRect(),
b=a.left,c=a.top;Wr();x.each(function(){function a(){0==v&&g.setPosition(q/L,r/L)}var d=$(this).data("multi-id"),e=$(".multiSelected").filter(function(){return $(this).data("multi-id")==d}).first(),g=e.data("canvaElement"),k=e.get(0).getBoundingClientRect(),l=$(this).get(0).getBoundingClientRect(),m=g.ba(),n=g.Nj()?g.Gj():null,p=T(t,g.T()),e=(l.right-l.left)/(k.right-k.left),k=(l.bottom-l.top)/(k.bottom-k.top),q=l.left-b+U,r=l.top-c+H,v=g.Ga();$(this).remove();g instanceof Ci?(l=g.Xb(0),l=parseFloat(parseFloat(l*
y)),k=g.A()*e,e=g.Pb(0),g.jc(0,l),g.Z(k),g.W(),g.ra(),a(),l=g.Pb(0),e={elementIndex:g.V(),pageIndex:p,textIndex:0,"new":l,old:e},C.register(new tv(1,e))):(g.setSize(g.A()*e,g.B()*k),a());(function(){var a=g.ba();if(!ag(m,a)){var b=m.serialize(),a=a.serialize();g.Nj()&&(b.transformDependentData=n,a.transformDependentData=g.Gj());b={elementIndex:g.V(),pageIndex:p,old:b,"new":a};C.register(new V(Th,b))}})();g.ra();Yr(ub(h))});Xr()}var h=ya,k=$(this),l=void 0!==a.clientX?a.clientX:a.touches[0].clientX,
m=void 0!==a.clientY?a.clientY:a.touches[0].clientY,n=$(".multipleSelectionBox").width(),p=$(".multipleSelectionBox").height(),r=Math.sqrt(Math.pow(n,2)+Math.pow(p,2)),q=t.pa();k.addClass("on");Uh();Oz(q,!0);Tg();var v=new S($(document));v.on("mousemove|touchmove",b).on("mouseup|touchend",c);var w,x,y=1,z=$('\x3cdiv id\x3d"ghostSelectionBox" class\x3d"cornerHandles"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr"\x3e\x3c/a\x3e\x3ca class\x3d"handle br"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl"\x3e\x3c/a\x3e\x3c/div\x3e');
(function(){x=$($(".multiSelected").map(function(a){$(this).data("multi-id",a);return this})).clone(!0).off();x.each(function(){$(this).removeAttr("id");$(this).find("*").removeAttr("id")});x.removeClass(".multiSelected");w=$('\x3cdiv class\x3d"ghost element"\x3e\x3c/div\x3e');$(".elementToolbar").css("visibility","hidden");$(".multipleSelectionBox").css("visibility","hidden");$(".multiSelected").css("opacity","0");x.appendTo(w);var a=t.pa()[0].C().parent(".elements");w.appendTo(a);k.hasClass("br")?
w.addClass("fixTopLeft"):k.hasClass("bl")?w.addClass("fixTopRight"):k.hasClass("tr")?w.addClass("fixBottomLeft"):k.hasClass("tl")&&w.addClass("fixBottomRight")})();var G=$("#canvaDocument").offset().left,A=$("#canvaDocument").offset().top,B=d(x),H=B.top-$(".page.selected").offset().top,U=B.left-$(".page.selected").offset().left;w.css("left",U+"px").css("top",H+"px");x.each(function(a,b){cd(b,{kc:-U,lc:-H},!0)});$("#overlays").append(z);z.css("top",B.top-A+"px").css("left",B.left-G+"px").css("width",
B.width+"px").css("height",B.height+"px");return!1}
function mz(a){function b(a){var b=(g||0)+Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.touches[0].clientY,2))-k;0<b?ip(e,b/L):ip(e);e.ua();a.preventDefault();a.stopPropagation();return!1}function c(){e.se&&e.se();e.uc=!1;h.off("mousemove|touchmove",b).off("mouseup|touchend",c);var a={elementIndex:e.V(),pageIndex:T(t,e.T()),"new":{padding:e.padding},old:{padding:g}};C.register(new V(Th,a))}var d=$(this);d.addClass("on");var e=d.parents(".selectionBox").data("element").data("canvaElement"),
g=e.padding,h=new S($(document));e.uc=!0;h.on("mousemove|touchmove",b).on("mouseup|touchend",c);var k=Math.sqrt(Math.pow(void 0!==a.clientX?a.clientX:a.touches[0].clientX,2)+Math.pow(void 0!==a.clientY?a.clientY:a.touches[0].clientY,2))}
function lz(a){function b(a){nj=h instanceof Qh?y:a.shiftKey?!y:y;Mg=void 0!==a.clientX?a.clientX:a.touches[0].clientX;Ng=void 0!==a.clientY?a.clientY:a.touches[0].clientY;zu.read(c);return!1}function c(){Ka=Vh(h);var a=mx({x:Mg,y:Ng},x),b=Qg(v,w,Mg,Ng),c=Math.cos(lx(a-fa))*b,d=0,g=0,k=0;nj&&(a=fa,b=c);if(!(xu&&3>Math.abs(oj-Mg)||yu&&3>Math.abs(Og-Ng))){xu=yu=!1;var l=vy(e.get(0)),y,X,Qd=!1,a=Ym(a,h.Ga());switch(l){case 4:d=c;y=ca;X=N;break;case 3:d=c;y=N;X=ca;break;case 1:g=c;y=hb;X=aa;break;case 6:g=
c;y=aa;X=hb;break;case 2:Qd=!0;y=J;X=R;k=a-nx(2);d=b*Math.sin(lx(k));g=b*Math.cos(lx(k));break;case 7:Qd=!0;y=oa;X=Ia;k=a-nx(7);g=b*Math.sin(lx(k));d=b*Math.cos(lx(k));break;case 5:Qd=!0;y=R;X=J;k=a-nx(5);d=b*Math.sin(lx(k));g=b*Math.cos(lx(k));break;case 0:Qd=!0,y=Ia,X=oa,k=a-nx(0),g=b*Math.sin(lx(k)),d=b*Math.cos(lx(k))}h instanceof Ci&&(3===l?(y=R,X=ca):4===l&&(y=oa,X=N));var Hv=y.get(0).getBoundingClientRect(),Iv=A.scrollLeft,Jv=A.scrollTop;nj&&Qd&&(0===d?d=g*q:g=d/q);var fo;fo=0===d?h.A():Qd?
Math.max(p+d,z)/L:Math.max(p+d,Math.max(3*L),za)/L;var go;go=0===g?h.B():Qd?Math.max(r+g,G)/L:Math.max(r+g,Math.max(3*L),Zb)/L;$m(h)||gd(h,VC,WC,{d:!0,$j:!0,r:!0,ww:!0},nj);c=$("#overlays").get(0).getBoundingClientRect();X=X.get(0).getBoundingClientRect();a=X.left-c.left;c=X.top-c.top;X.left<Ka.x&&U.addClass("positionIndicatorScalingFromLeft");X.top>Ka.y&&U.addClass("positionIndicatorScalingFromBottom");U.addClass("positionIndicatorShowing").addClass("positionIndicatorScaling").css("transform","translate("+
a+"px,"+c+"px)").html(fo.toFixed(0)+" × "+go.toFixed(0));zu.write(function(){h.setSize(fo,go);var a=y.get(0).getBoundingClientRect(),b=Jv-H,c=Iv-B;H=Jv;B=Iv;Pc+=Hv.top-a.top-b;Qc+=Hv.left-a.left-c;a=h;b=(n+Pc)/L;on(a,(m+Qc)/L);rn(a,b);h instanceof Ci&&0!==h.Ga()?(h.Z(),h.Pa()):h.ra()});oj=Mg;Og=Ng}}function d(){XC.write(function(){U.remove();$("#overlays .align").removeClass("on");e.removeClass("on");Sh();h.uc=!1;h instanceof Ci&&window.setTimeout(function(){h.se();km(g,!0)},0);var a=h.ba();if(!ag(k,
a)){Wr();Gz(h);var b=k.serialize(),a=a.serialize();h.Nj()&&(b.transformDependentData=l,a.transformDependentData=h.Gj());b={elementIndex:h.V(),pageIndex:T(t,h.T()),old:b,"new":a};C.register(new V(Th,b));Xr()}oa.remove();aa.remove();R.remove();N.remove();Ia.remove();hb.remove();J.remove();ca.remove()});X.off("mousemove|touchmove",b).off("mouseup|touchend",d)}var e=$(this);e.addClass("on");var g=e.parents(".selectionBox").data("element"),h=g.data("canvaElement"),k=h.ba(),l=h.Nj()?h.Gj():null,m=Math.round(h.left*
L),n=Math.round(h.top*L),p=sn(h),r=Wh(h),q=p/r,v=void 0!==a.clientX?a.clientX:a.touches[0].clientX,w=void 0!==a.clientY?a.clientY:a.touches[0].clientY,x={x:v,y:w},y=!(h instanceof Ci||h instanceof hn);a=(new K(0,0,3,3)).scale(L);a=hg(new K(0,0,q,1),a);var z=a.A(),G=a.B(),A=$("#canvaDocument").get(0),B=A.scrollLeft,H=A.scrollTop,U=$('\x3cdiv class\x3d"positionIndicator"\x3e\x3c/div\x3e');$("#overlays").append(U);Uh();h.uc=!0;Tg();Bn.zf();var oa=$("\x3cdiv\x3e\x3c/div\x3e");oa.css({position:"absolute",
top:0,left:0});h.C().append(oa);var aa=$("\x3cdiv\x3e\x3c/div\x3e");aa.css({position:"absolute",top:0,left:"50%"});h.C().append(aa);var R=$("\x3cdiv\x3e\x3c/div\x3e");R.css({position:"absolute",top:0,right:0});h.C().append(R);var N=$("\x3cdiv\x3e\x3c/div\x3e");N.css({position:"absolute",top:"50%",right:0});h.C().append(N);var Ia=$("\x3cdiv\x3e\x3c/div\x3e");Ia.css({position:"absolute",bottom:0,right:0});h.C().append(Ia);var hb=$("\x3cdiv\x3e\x3c/div\x3e");hb.css({position:"absolute",bottom:0,left:"50%"});
h.C().append(hb);var J=$("\x3cdiv\x3e\x3c/div\x3e");J.css({position:"absolute",bottom:0,left:0});h.C().append(J);var ca=$("\x3cdiv\x3e\x3c/div\x3e");ca.css({position:"absolute",top:"50%",left:0});h.C().append(ca);var X=new S($(document));X.on("mousemove|touchmove",b).on("mouseup|touchend",d);var za=0,Zb=0;h instanceof Qh&&(a=h.ta?$.extend(!0,{},h.ta):null)&&(za=(a.left+a.right)*Lo(h).scale*L,Zb=(a.top+a.bottom)*Lo(h).scale*L);var Pc=0,Qc=0,Ka=Vh(h);a=bg($c(e.get(0).getBoundingClientRect()));var fa=
mx(a,Ka),Og=w,oj=v,xu=!1,yu=!1,VC={},WC=fd(h),Mg=0,Ng=0,nj=y,zu=bd(),XC=bd();return!1}
function Yr(a){if(t&&t.pa){var b=t.pa();if(!(2>b.length)){var c=$("#overlays"),d=$(".selectionBox.multipleSelectionBox");0==d.length&&(d=$('\x3cdiv class\x3d"selectionBox multipleSelectionBox"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3ca class\x3d"handle tl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle tr" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle br" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"handle bl" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"rotate" href\x3d"#"\x3e\x3c/a\x3e\x3ca class\x3d"move" href\x3d"#"\x3e\x3c/a\x3e\x3c/div\x3e'),d.appendTo(c));
0===b.filter(function(a){return 0!==a.Ga()}).length&&d.addClass("cornerHandles");c=Xz(b);d.css("left",c.N()+1).css("top",c.K()+1).css("width",c.A()-1).css("height",c.B()-1);var e=$();b.map(function(a){e.push(a.C().get(0))});by(e,a);$(".elementToolbarPhotoFilters").remove();$(".elementToolbarMore").remove();$(".elementToolbarForward").remove();$(".elementToolbarBackward").remove()}}}
function Xz(a){var b=a.map(function(a){return a.gb()*L+(a.T().Za()||0)}),c=a.map(function(a){return a.Oa()*L+(a.T().fb()||0)}),b=Array.min(b),c=Array.min(c),d=Array.max(a.map(function(a){return a.Ob()*L+(a.T().Za()||0)}));a=Array.max(a.map(function(a){return a.Bb()*L+(a.T().fb()||0)}));return new K(b,c,d-b,a-c)}
function Yz(){var a=$(this),b=a.data("canvaElement");if(b.rh()&&!(0<a.parents(".group").length))if(dd(a,$("#marquee")))if(b.ib()){var c=a.get(0).getBoundingClientRect(),d=$("#marquee").get(0).getBoundingClientRect();d.top+10<c.top&&d.left+10<c.left?(b.Xf(!0),a.addClass("multiSelected")):(b.Xf(!1),a.removeClass("multiSelected"))}else b.Xf(!0),a.addClass("multiSelected");else b.Xf(!1),a.removeClass("multiSelected")}
function gz(a){a=a.target;"SPAN"==a.tagName&&(a.style.removeProperty("font-size"),a.style.removeProperty("background-color"),a.style.removeProperty("line-height"),a.style.removeProperty("letter-spacing"))}
function dz(a){(function(a){if(13!==a.keyCode||!document.queryCommandSupported("insertLineBreak")||a.ctrlKey||a.metaKey)return!1;if(a.shiftKey||a.altKey)return!0;if(document.queryCommandState("insertUnorderedList")||document.queryCommandState("insertOrderedList"))return!1;a=document.queryCommandValue("formatBlock");return""!==a&&"div"!==a&&"p"!==a?!1:!0})(a)&&(document.execCommand("insertLineBreak",!1,null),a.preventDefault())}
function ez(){if(Zz)$("#content").off("keydown",".element.text.focused",ez);else{var a=$(this);$z(a)}}function fz(){Zz=!0;var a=$(this);$z(a)}var Zz=!1;function $z(a){function b(){a.data("handleTextElementInputTimerId",0);aA(a);km(a,!0)}if(!bA(a)){var c=a.data("handleTextElementInputTimerId")||0;0===c&&(c=Zz?requestAnimationFrame(b):window.setTimeout(b,20),a.data("handleTextElementInputTimerId",c))}}
function aA(a){var b=a.data("canvaElement");if(b){var c=b.Ya();0<Object.keys(b.Cj(c)).length&&cA(function(){b.ph(c)})}}function bA(a){return a.hasClass("svg")||0<a.closest(".element.svg").length}
function cA(a){var b=window.getSelection(),c=document.createElement("span");c.classList.add("fauxCaret");c.appendChild(document.createTextNode("​"));if(b.rangeCount){var d=b.getRangeAt(0);d.collapse(!1);d.insertNode(c)}a();b=window.getSelection();b.rangeCount&&(d=document.createRange(),d.setStart(c.childNodes[0],0),d.collapse(!0),b.removeAllRanges(),b.addRange(d));c.parentNode.removeChild(c)}
function km(a,b){function c(a,b){return a.gb()+b>a.T().Ob()}function d(a){return a.gb()<=a.T().gb()}if(!bA(a)){var e=a.data("canvaElement");if(e){var g=a.children(".inner");if(0!==g.length){var h=0<a.parents(".element.group").length;h&&e.se();100<g.text().length&&e.wk(e.Ya());var k=b&&!e.Yj();k&&(g.css("width","0"),g.addClass("explicitLineBreaksLayoutMode"));var l=g.prop("scrollWidth"),m=Ce(g[0]).ye;m&&1<m&&(l/=m);var m=a.data("justification"),n=e.A(),p=e.N();if(k){var r=n;a.data("ephemeralStartWidth")?
r=a.data("ephemeralStartWidth"):a.data("ephemeralStartWidth",e.A());l=Math.max(r,l+2);e.T()&&(m&&"left"!==m?"right"===m?(e.Ba(p+n-l),d(e)&&(l=n,e.Ba(0),e.se())):"center"===m&&(e.Ba(p+(n-l)/2),d(e)||c(e,l))&&(e.Ba(p),l=n,e.se()):c(e,l)&&(l=e.T().Ob()-e.gb(),e.se()))}else l=Math.max(n,l);n=m=0;if(m=0!==e.Ga()&&b){var q=$('\x3cspan class\x3d"shim"\x3e\x26nbsp;\x3c/span\x3e');e.C().find(".shim").remove();e.C().prepend(q);var v=q.get(0).getBoundingClientRect(),w=e.K(),x=e.N()}k&&g.removeClass("explicitLineBreaksLayoutMode");
e.Z(l);g=e.B();e.ra();h&&b&&tp(a.parents(".group").first().data("canvaElement"));m&&g!==e.B()?(h=q.get(0).getBoundingClientRect(),q.remove(),m=h.top-v.top,n=h.left-v.left,0==m&&0==n||e.setPosition(x-n/L,w-m/L),window.setTimeout(function(){e.ra()},0)):q&&q.remove()}}}}
function ks(){var a=t.pa(),b,c,d,e,g;(c=I(t))&&1===a.length&&(b=a[0],a=b.ba(),b instanceof hn?(d=c.ba(),d.Da(d.K()-12),d.Z(d.A()+24),d.W(d.B()+24),d.Ba(d.N()-12)):d=id(a.clone(),c.ba()),b instanceof Ci?(rw(b),Wr(),g=b.Pb(0),e=b.Xb(0)*(d.B()/a.B()),b.jc(0,e),window.setTimeout(function(){b.Z(d.A());b.W();b.ra()},0),b.setPosition(d.N(),d.K()),e=b.Pb(0),g={elementIndex:b.V(),pageIndex:T(t,c),textIndex:0,"new":e,old:g},g=new tv(1,g),C.register(g)):(b.ob(d),b.ra()),c={elementIndex:b.V(),pageIndex:T(t,c),
"new":d.serialize(),old:a.serialize()},c=new V(Th,c),C.register(c),b instanceof Ci&&Xr(),Ec(b))}function rz(){var a=$("#overlays .confirmationToolbarCancel a");0<$("#overlays \x3e .mask.on").length&&0<a.length&&a.trigger("click")}
function sz(a){function b(a){if($(a.target).is("#cutoutMessage")||0<$(a.target).parents("#cutoutMessage").length||$("#overlays").hasClass("shakeOverlays"))return!0;clearTimeout(q);$("#overlays").addClass("shakeOverlays");q=setTimeout(function(){$("#overlays").removeClass("shakeOverlays")},300)}function c(a){$(a.target).hasClass("buttonCutoutMessageEditText")&&(a=r,a.vj=!1,a.C().toggleClass("failed",a.vj),a.Ym(0),a.ur(0),a.Ce(0,"Glegoo"),a.tk=!0,lm(a.C(),!0),a.ra(),Ec(r),bs(r.C(),!0),r.ua(),d())}function d(){$(n).off("mousedown",
b).off("mouseleave",d);$("#cutoutMessage").on("transitionend",e).addClass("disappear")}function e(){$(this).remove()}function g(){var a=p.get(0)===n;if(a=p.data("triggerElement")!==n&&!a){var a=$("#overlays").find(".text.focused"),b;0<a.length?(a=$c(a.get(0).getBoundingClientRect()),b=$c(n.getBoundingClientRect()),a=ad(a,b)):a=!1;a=!a}return a}var h,k,l;l=200;var m=85,n=a.currentTarget;a=n.classList.contains("unapproved");h="This image could not be loaded. Try replacing it with another one.";k=n.classList.contains("failed");
var p=$("#cutoutMessage"),r=$(n).data("canvaElement");if(r){0>=p.length&&(p=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));k&&(l=240,m=100,h='\x3cstrong\x3eThis font could not be loaded. \x3c/strong\x3e\x3cbr\x3eIf you edit text the formatting will be lost permanently.\x3cbr\x3e\x3cbutton class\x3d"button buttonSmall buttonCutoutMessageEditText"\x3eEdit text\x3c/button\x3e');p.data("canvaElement",r).html(h).toggleClass("unapproved",a).toggleClass("failed",k).off("transitionend").removeClass("disappear");
$(n).on("mousedown",b);g()&&(a=$c(n.getBoundingClientRect()),h=$c($("#overlays").get(0).getBoundingClientRect()),k=$("#canvaDocument").offset(),k=fg(Xx().translate(10,10),-20,-20).translate(k.left,k.top).translate(-h.N(),-h.K()),l=new K(0,0,l,m),jg(gg(l,a).translate(-h.N(),-h.K()),k),p.css(l.serialize()).appendTo("#overlays").data("triggerElement",n).on("click",c));$(n).on("mouseleave",d);var q}}
function tz(a){$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, #canvaDocument \x3e .inner \x3e .page, #canvaDocument \x3e .inner \x3e .page \x3e .elements")&&($(a.target).is("input")||$(document.activeElement).blur(),M())}
function jd(a,b,c){function d(a){Xu=!0;window.clearTimeout(A);A=window.setTimeout(function(){Xu=!1},1E3);var b=document.elementFromPoint(a.touches[0].clientX,a.touches[0].clientY);B.forEach(function(a){a!=b&&l.call(a)});a=$(b);var c=0<=B.indexOf(b);!c&&0<a.parents("#hotspots").length&&a.is(".element.hotspot")?(G=b,g.call(b),B=[b]):B=c?[b]:[]}function e(){$(document).off("touchmove",d).off("touchend",e);var a=$(G);0<a.parents("#hotspots").length&&a.is(".element.hotspot")&&m.call(G);window.setTimeout(function(){Xu=
!1},300)}function g(){if(a.hasClass("svg")||a.hasClass("cutout")){var b=$("#cutoutMessage");0>=b.length&&(b=$('\x3cdiv id\x3d"cutoutMessage"\x3eCut-out and transparent images can\'t be put in frames. Try using a photo instead.\x3c/div\x3e'),b.appendTo("#content"));b.off("transitionend").removeClass("disappear");q=!1}else{var c=p.clone(!0);c.css("width","").css("height","");var d=$(this).data("canvaElement"),e=$(this).data("placeholderIndex");a.data("placedInElement",d).addClass("placing").addClass("draggedMediaOverHotspot");
var g=a.data("li"),h=g.data("result"),k=g.find("img").data("mediaApproved"),g=h.F(),h=h.S(),l=d.Ve(e),c=new K(0,0,r?sn(r):parseInt(c.data("screenWidth"),10),r?Wh(r):parseInt(c.data("screenHeight"),10));hg(c,l).translate(-l.N(),-l.K());c={type:"image",index:e,mediaId:g,mediaVersion:h,origin:r?r.Xc():null,imageBox:c.serialize(),flipOrientation:r?r.Xa:0,mediaApproved:void 0===k?!0:k};y=d.Lf(e);z=Yn(d.If(e));q=!0;g===y.mediaId?q=!1:(d.qf(e,c),r&&(c=r.C(),g=c.data("selectionBox"),c=c.data("toolbar"),g&&
g.hide(),c&&c.addClass("hidden"),r.If&&(b=Yn(r.Ab()))),d=d.If(e),d.remove(),Iq(d,b||Yn(d)))}}function h(){x.read(k)}function k(){var b=a.offset();x.write(function(){$("#cutoutMessage").css("left",b.left+a.width()/2-$("#cutoutMessage").outerWidth()/2).css("top",b.top+a.height()/2-$("#cutoutMessage").outerHeight()/2)})}function l(){var b=$(this).data("canvaElement"),c=$(this).data("placeholderIndex"),d=b.If(c);a.removeData("placedInElement").removeClass("placing").removeClass("draggedMediaOverHotspot");
$("#cutoutMessage").on("transitionend",n).addClass("disappear");q&&(b.qf(c,y),d.remove(),Iq(d,z),r&&(c=r.C(),b=c.data("selectionBox"),c=c.data("toolbar"),b&&b.show(),c&&c.removeClass("hidden")))}function m(){if(a.data("li")&&($("#cutoutMessage").on("transitionend",n).addClass("disappear"),!a.hasClass("svg")&&!a.hasClass("cutout"))){var b=a.data("li").data("result"),c=$(this).data("canvaElement"),d=$(this).data("placeholderIndex"),e=c.Fj(d);c.Iv();Yu(c);var g={elementIndex:c.V(),pageIndex:T(t,c.T()),
placeholderIndex:d,"new":c.Lf(d),old:y},h={elementIndex:c.V(),pageIndex:T(t,c.T()),placeholderIndex:d,"new":{filter:Yn(c.If(d))},old:{filter:z}},g=new V(pv,g),h=new V(11,h);Wr();C.register(g);C.register(h);c.un=!0;c.Yg(e);a.one("transitionend",n).addClass("disappeared").removeClass("draggedMediaOverHotspot").removeClass("placing");v.remove();e.removeData("oldPlacement");r&&(r.Ba(a.data("startLeft")),r.Da(a.data("startTop")),Cu(r),r.remove(),r instanceof gn&&c instanceof Qh&&0!=r.Xa&&setTimeout(function(){function a(c){c.target!=
l.get(0)&&(clearTimeout(v),c.target==l.find("a")[0]?($(document).on("mouseout mouseup",b),c.preventDefault()):k())}function b(){$(document).off("mouseout mouseup",b);k()}function e(){$(document).off("mousemove",e);r=setTimeout(function(){l.on("mouseenter",g).on("mouseleave",h)},100)}function g(){clearTimeout(v)}function h(){clearTimeout(v);v=setTimeout(k,1E3)}function k(){clearTimeout(r);$(document).off("mousedown",a).off("mousemove",e);l.off("mouseenter",g).off("mouseleave",h);l.on("transitionend",
n).addClass("disappear")}var l=$("#cutoutMessage");0==l.length&&(l=$('\x3cdiv id\x3d"cutoutMessage"\x3e\x3c/div\x3e'));l.off("transitionend").addClass("closeable").removeClass("disappear").text("Flipped images can't be placed inside this frame, so we've un-flipped it for you. ").append('\x3ca href\x3d"#" class\x3d"close"\x3eClose\x3c/a\x3e').appendTo(c.T().C());var m=c.ba(),p=c.Ve(d),q=m.K()+p.K()+p.B()/2,q=q*L,q=q-l.outerHeight()/2,m=m.N()+p.N()+p.A()/2,m=m*L,m=m-l.outerWidth()/2;l.css("top",q).css("left",
m);$(document).on("mousedown",a).on("mousemove",e);var r=0,v=setTimeout(k,1E4)},200));Xr();e=b.Xc();e!==Nc&&"GOOGLE"!==e||Gc(ua,b,c.Nh(d));Ps(La,Zs(b))}}function n(){$(this).remove()}b=b||I(t);var p=$("img",a),r=a.data("canvaElement"),q=!0,v=$('\x3csection id\x3d"hotspots"\x3e\x3c/section\x3e'),w=np(b);v.css(w.serialize());var x=bd();b.fa().forEach(function(a){if((a instanceof Qh||a instanceof hn)&&!tn(a)){var b=$('\x3cdiv class\x3d"container"\x3e\x3c/div\x3e'),d=a.ba();b.css(d.scale(L).round().serialize()).css("transform",
"rotate("+a.Ga().toString()+"deg)");for(var d=a.ke(),e=0;e<d;e++){var k=a.Ve(e);k.scale(L).round();var n=$('\x3cdiv class\x3d"element hotspot"\x3e\x3c/div\x3e');n.css(k.serialize()).data("canvaElement",a).data("placeholderIndex",e).appendTo(b);!1===c&&n.mouseover(g).mousemove(h).mouseout(l).mouseup(m)}b.appendTo(v)}});v.appendTo("#content");b=Da.qa[b.V()].$el;v.css("left",b.offset().left).css("top",b.offset().top);var y=null,z=null,G=null,A=null;if(!0===c){var B=[];$(document).on("touchmove",d).on("touchend",
e)}}
function Au(a,b){function c(a){a={left:a.touches[0].clientX,top:a.touches[0].clientY,width:0,height:0};for(var b={left:m,top:n,width:0,height:0},c=0;c<l.length;c++){var d=l[c];ty(a,d)&&!ty(b,d)?e.call(d.element):ty(b,d)&&!ty(a,d)&&g.call(d.element)}m=a.left;n=a.top}function d(b){$(document).off("touchmove",c).off("touchend",d);for(var e={left:b.changedTouches[0].clientX,top:b.changedTouches[0].clientY,width:0,height:0},g=0;g<l.length;g++){var m=l[g];if(ty(e,m)){var n=$(".page",k).index(m.element);$(m.element).data("page",
$("#canvaDocument \x3e .inner \x3e .page").eq(n));h.call(m.element,b,a)}}}function e(){$(this).addClass("hover");$(this).data("page").addClass("hotspotHover");a.addClass("placing")}function g(){$(this).removeClass("hover");$(this).data("page").removeClass("hotspotHover");a.removeClass("placing")}function h(b,c){M();2==arguments.length&&(a=c);var d=a.data("li"),e=$(this).data("page"),e=$("#canvaDocument \x3e .inner \x3e .page").index(e);ji(t,e);if(d.find("a").data("pageTemplate")){var d=d.find("a").data("pageTemplate"),
d=ng(d),e=I(t),g={"new":d,old:e.bj(),pageIndex:e.V()};yv(e,d);C.register(new xv(4,g))}else if(0<d.parents(".backgroundGallery").length)Eu(a.data("li")),e=d.data("result"),Ps(La,Zs(e));else if(0<d.parents(".templateGallery").length){var g=d.data("layoutItem"),h=d.data("designItem"),e=d.data("searchResult"),d=d.parents(".results").data("view");h?dA(d,h):g?eA(g):e&&fA(e)}k.remove();a.remove();$("#canvaDocument \x3e .inner \x3e .page").removeClass("hotspotHover")}var k=$('\x3cdiv id\x3d"hotspots"\x3e\x3c/div\x3e');
k.css("left",parseInt($("#canvaDocument").css("left"),10)).css("top",-$("#canvaDocument").get(0).scrollTop).css("z-index","99999").appendTo("#content");$("#canvaDocument \x3e .inner \x3e .page").each(function(){$(this).clone().data("page",$(this)).empty().appendTo(k)});if(b){var l=[],m=0,n=0;$(".page",k).each(function(){var a=$(this).offset(),b=$(this).outerWidth(),c=$(this).outerHeight();l.push({element:this,left:a.left,top:a.top,width:b,height:c})});$(document).on("touchmove",c).on("touchend",d)}else $(".page",
k).mouseover(e).mouseout(g).mouseup(h)}
function fy(a){function b(){h=a.C();k=a.Ec();l=a.Ra();m=a.Wd;$("#overlays \x3e .mask").addClass("on");h.addClass("cropping");a.ua();n=$(".cropControls img.uncropped");p=$(".cropControls .cropBox");n.css("opacity",.5);p.css("background-color","rgba(255, 255, 255, 1)");zn($(".cropControls"),a.Ga());$(".imageToolbar").hide()}function c(a){13===a.which?d():27===a.which&&e()}function d(){var b=a.N(),c=a.K();a.og();$(".imageToolbar").show();b={elementIndex:a.V(),pageIndex:T(t,a.T()),placeholderIndex:a.eb(),
"new":{placeholderBox:a.Ra().serialize(),imageBox:a.Ec().serialize(),cropped:!0,left:a.N(),top:a.K()},old:{placeholderBox:l.serialize(),imageBox:k.serialize(),cropped:a instanceof gn?m:!0,left:b,top:c}};C.register(new V(6,b));$("#overlays \x3e .mask").removeClass("on");p.css("background-color","rgba(255, 255, 255, 0)");a.ra();a.ua();g()}function e(){a instanceof gn?(l&&Ae(a,l),a.Ae(k),a.sn=!1,h.removeClass("cropping")):(a.Ae(k),a.og());$(".imageToolbar").show();$("#overlays \x3e .mask").removeClass("on");
p.css("background-color","rgba(255, 255, 255, 0)");a.ra();a.ua();g()}function g(){$("#content").off("click",".crop .confirmationToolbarOk a",d).off("click",".crop .confirmationToolbarCancel a",e);$(document).off("keydown",c)}if(a.pg&&a.Ep()){$("#content").on("click",".crop .confirmationToolbarOk a",d).on("click",".crop .confirmationToolbarCancel a",e);$(document).on("keydown",c);a.Jm(a.eb(),b);var h,k,l,m,n,p}}
function gd(a,b,c,d,e){function g(a){return a.T?a.Oa()*L+a.T().fb():a.fb()}function h(a){return a.T?a.gb()*L+a.T().Za():a.Za()}function k(a,c,e){function g(a){function b(c,d){return a(c)-a(d)}var c,d=[];Ka.slice(0).sort(b).forEach(function(e){c&&0==b(c.Jb[0],e)?(c.Jb.push(e),c.ue=Math.min(c.ue,e.ue),c.ve=Math.min(c.ve,e.ve),c.af=Math.max(c.af,e.af),c.bf=Math.max(c.bf,e.bf)):d.push(c={Jb:[e],pos:a(e),ue:e.ue,ve:e.ve,af:e.af,bf:e.bf,Do:NaN})});return d}function h(a,b){return a.pos-b.pos}function k(a,
b){return a.Do<b.Do?a:b}function l(a,b,c){var d=Array.lowerBound(b,{pos:c-e},h),g=Array.upperBound(b,{pos:c+e},h);b=b.slice(d,g);b.forEach(function(a){a.Do=Math.abs(c-a.pos)});b.length&&a.push(b.reduce(k))}var m=null,n=null,p=[],q={$j:!1,r:!1,cy:!1,t:!1,b:!1,cx:!1},r=a.Hc(),v=a.Fc(),w,J,ca,X,za,Zb,Pc,Qc;w=a.gb();J=a.Oa();ca=a.Ob();X=a.Bb();za=a.Hc();Zb=a.Fc();Pc=w+za/2;Qc=J+Zb/2;var Ka=c.map(function(a){var b=a.gb(),c=a.Ob(),d=(b+c)/2,e=a.Oa(),g=a.Bb();return{object:a,ue:b,ve:e,om:d,pm:(e+g)/2,af:c,
bf:g}});b.We||(b.We=!0,b.De={ue:g(function(a){return a.ue}),om:g(function(a){return a.om}),af:g(function(a){return a.af}),ve:g(function(a){return a.ve}),pm:g(function(a){return a.pm}),bf:g(function(a){return a.bf})});c=0;var fa=null;c=[];if(void 0===d||d.$j)if(fa=null,c=[],l(c,b.De.ue,w),l(c,b.De.af,w),fa=c.length&&c.reduce(k))for(m=fa.pos,q.$j=!0,c=0;c<fa.Jb.length;++c)p.push(fa.Jb[c].object);if(void 0===d||d.r)if(fa=null,c=[],l(c,b.De.ue,ca),l(c,b.De.af,ca),fa=c.length&&c.reduce(k))for(m=fa.pos-
za,q.r=!0,c=0;c<fa.Jb.length;++c)p.push(fa.Jb[c].object);if(void 0===d||d.d)if(fa=null,c=[],l(c,b.De.ve,J),l(c,b.De.bf,J),fa=c.length&&c.reduce(k))for(n=fa.pos,q.t=!0,c=0;c<fa.Jb.length;++c)p.push(fa.Jb[c].object);if(void 0===d||d.ww)if(fa=null,c=[],l(c,b.De.ve,X),l(c,b.De.bf,X),fa=c.length&&c.reduce(k))for(n=fa.pos-Zb,q.b=!0,c=0;c<fa.Jb.length;++c)p.push(fa.Jb[c].object);(function(){var c=null,c=[];l(c,b.De.om,Pc);if(c=c.length&&c.reduce(k)){m=c.pos-za/2;q.cy=!0;for(var e=0;e<c.Jb.length;++e)p.push(c.Jb[e].object);
var g=(e=d&&d.ue)?a.Ob():a.gb();r=2*Math.abs(c.om-g);e&&(m-=(r-za)/2)}})();(function(){var a=null,a=[];l(a,b.De.pm,Qc);if(a=a.length&&a.reduce(k)){n=a.pos-Zb/2;q.cx=!0;for(var c=0;c<a.Jb.length;++c)p.push(a.Jb[c].object);c=d&&d.ve;v=2*Math.abs(a.pm-(c?X:J));c&&(n-=(v-Zb)/2)}})();w=a.N()-a.gb();ca=a.K()-a.Oa();null!==m&&m>a.N()?m+=w:null!==m&&m<a.N()&&(m+=w);null!==n&&n>a.K()?n+=ca:null!==n&&n<a.K()&&(n+=ca);null!==m&&0===Math.round(10*m)/10&&(m=0);null!==n&&0===Math.round(10*n)/10&&(n=0);return{ah:m,
bh:n,RF:r,QF:v,rf:p,oh:q}}void 0===e&&(e=!0);var l=a.gb(),m=a.Oa();e=k(a,c,5);void 0!==d&&null!=e.ah&&null!=e.bh&&(Math.abs(l-e.ah)>Math.abs(m-e.bh)?e.bh=null:e.ah=null);null!=e.ah&&(!a.Ga()&&1===e.rf.length&&!e.rf[0].Ga()&&5>Math.abs(e.rf[0].N()-a.N())?!d&&a.Ba(e.rf[0].N()):!d&&a.Ba(e.ah));null!=e.bh&&(!a.Ga()&&1===e.rf.length&&!e.rf[0].Ga()&&5>Math.abs(e.rf[0].K()-a.K())?!d&&a.Da(e.rf[0].K()):!d&&a.Da(e.bh));if(null!=e.ah||null!=e.bh)e=k(a,c,1);bd().write(function(){$("#overlays .align").removeClass("on")}).done();
c=e.rf;if(null!=e.ah){var l=Array.max(c.map(function(a){return a.Bb()}).concat(a.Bb())),m=Array.min(c.map(function(a){return a.Oa()}).concat(a.Oa())),n=Math.abs(l-m)*L,p=Array.min(c.map(function(a){return g(a)}).concat(g(a))),r=[];e.oh.$j&&r.push(h(a)-1);e.oh.r&&r.push(h(a)+a.Hc()*L);e.oh.cy&&r.push(h(a)+a.Hc()/2*L);bd().write(function(){r.forEach(function(a,b){$("#overlays .vertical.align").eq(b).addClass("on").css("top",Math.round(p)).css("left",Math.round(a)).css("height",Math.round(n))})}).done()}if(null!=
e.bh){var l=Array.max(c.map(function(a){return a.Ob()}).concat(a.Ob())),m=Array.min(c.map(function(a){return a.gb()}).concat(a.gb())),q=Math.abs(l-m)*L,v=Array.min(c.map(function(a){return h(a)}).concat(h(a))),w=[];e.oh.t&&w.push(g(a)-1);e.oh.b&&w.push(g(a)+a.Fc()*L);e.oh.cx&&w.push(g(a)+a.Fc()/2*L);bd().write(function(){w.forEach(function(a,b){$("#overlays .horizontal.align").eq(b).addClass("on").css("top",Math.round(a)).css("left",Math.round(v)).css("width",Math.round(q))})}).done()}}
function fd(a){var b=[];void 0!==a&&(a instanceof Y?b.push(a):a instanceof Array&&(b=a));var c=0==b.length?I(t):b[0].T();a=c.fa();a=a.filter(function(a){return-1==b.indexOf(a)&&!a.ib()});a.push(c);var d=[];Ga&&Ga()&&(d=sx());c=ux(c)||[];return a.concat(d).concat(c)}
function uz(){var a=$("#objectPanel"),b=1===a.find(".uploads.on").length;$("#dropZone").addClass("on");$(".mask").last().addClass("on");b||(a.data("previousStage",$("menu \x3e li.on",a).index()),a.children("menu").find(".uploads a").trigger("touchClick"))}function vz(a){a.preventDefault();a.dataTransfer.dropEffect="copy"}function xz(){yz()}
function yz(){function a(){$(this).removeClass("on off")}$("#dropZone").addClass("off").delay(300,a);$(".mask").last().addClass("off").delay(300,a);var b=$("#objectPanel"),c=b.data("previousStage");null!=c&&c!=$("#objectPanel \x3e menu .uploads").index()&&b.children("menu").find("a").trigger("touchClick");b.removeData("previousStage")}
function wz(a){function b(){$(this).removeClass("on off")}a.preventDefault();a.stopPropagation();$("#dropZone").addClass("off").delay(300,b);$(".mask").last().addClass("off").delay(300,b);$("#objectPanel").removeData("previousStage");void 0!==a&&ju(a);return!1}function as(a,b){var c=a.ge();c&&hp(a,c+105*b/2);c={elementIndex:a.V(),pageIndex:T(t,a.T()),"new":{borderWidth:a.ge()},old:{borderWidth:c}};C.register(new V(Th,c))}
function $r(a){var b=a.ge();b?hp(a,0):hp(a,105);a={elementIndex:a.V(),pageIndex:T(t,a.T()),"new":{borderWidth:a.ge()},old:{borderWidth:b}};C.register(new V(Th,a))}function cs(a,b){function c(){a.ht&&a.ht()}function d(){a.ou&&a.ou()}function e(){a.$v&&a.$v(0)}var g=a.za(a.Ya());0===Sl(g)&&(1===b?cA(d):-1===b?cA(c):0===b&&cA(e),km(g,!0))}function Oz(a,b){a.forEach(function(a){a.uc=b})};function gA(a,b,c){return location.protocol+"//"+location.host+"/design/"+encodeURIComponent(a)+(c?"/"+encodeURIComponent(c):"")+"/"+encodeURIComponent(b)}function hA(a,b){return gA(a,"view",b)}function iA(a,b,c){return jA(hA(a,vj(u)),a,b,c)}
function jA(a,b,c,d){if(b&&d&&c){var e=window.analyticsConfig.user;return a+(-1!=a.indexOf("?")?"":"?")+"\x26utm_content\x3d"+encodeURIComponent(b)+"\x26utm_campaign\x3d"+encodeURIComponent("designshare")+"\x26utm_medium\x3d"+encodeURIComponent(d)+"\x26utm_source\x3d"+encodeURIComponent(c)+(e?"\x26cc_from_uid\x3d"+encodeURIComponent(e):"")}return a};function kA(){}kA=Backbone.View.extend({className:"switch"});f=kA.prototype;f.events=function(){return{"blur input":this.pq,"change input":this.sm,dragstart:this.Jg,"focus input":this.rq,mousedown:this.Ng}};f.initialize=function(a){a=_.defaults({},a,{rm:null,on:!1,gk:null});this.rm=a.rm;this.qh=void 0===a.qh||!!a.qh;this.tm=this.tm.bind(this);this.um=this.um.bind(this);this.gk=a.gk;this.wq=a.on};function lA(a){return!!a.input.prop("checked")}f.pq=function(){this.$el.removeClass("switchFocused")};
f.sm=function(){var a=lA(this);this.$el.toggleClass("switchOn",a);this.trigger("toggle",a)};f.tm=function(a){var b=this.handle.offset().left,c=b+this.handle.outerWidth(),b=lA(this)&&a.pageX<b;a=!lA(this)&&a.pageX>c;if(b||a)this.handle.removeClass("switchHandlePressed"),mA(this),this.toggle()};f.um=function(a){$(a.target).closest(this.el).length&&(this.trigger("click"),this.qh&&this.toggle());this.handle.removeClass("switchHandlePressed");mA(this)};f.Jg=function(a){a.preventDefault()};f.rq=function(){this.$el.addClass("switchFocused")};
f.Ng=function(a){a.target===this.handle[0]&&($(document).on("mousemove",this.tm),this.handle.addClass("switchHandlePressed"));$(document).on("mouseup",this.um)};f.remove=function(){Backbone.View.prototype.remove.call(this);mA(this)};function mA(a){$(document).off({mousemove:a.tm,mouseup:a.um})}
f.render=function(){var a;this.wq?(a=this.wq,delete this.wq):a=!(!this.input||!this.input.prop("checked"));this.$el.html(this.template(this.rc()));this.$el.toggleClass("switchOn",a);this.handle=this.$(".switchHandle");this.input=this.$("input");this.input.prop("checked",a);return this};f.rc=function(){return{offLabel:this.rm,onLabel:this.gk}};f.template=_.template('\x3cinput type\x3d"checkbox"\x3e\x3cdiv class\x3d"switchContent"\x3e\x3cdiv class\x3d"switchLabelOn"\x3e\x3c%- onLabel %\x3e\x3c/div\x3e\x3cdiv class\x3d"switchHandle"\x3e\x3c/div\x3e\x3cdiv class\x3d"switchLabelOff"\x3e\x3c%- offLabel %\x3e\x3c/div\x3e\x3c% if (offLabel) { %\x3e\x3cdiv class\x3d"switchLabelOffSpacer"\x3e\x3c%- offLabel %\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e');
f.toggle=function(a){void 0===a&&(a=!this.input.prop("checked"));a!==this.input.prop("checked")&&(this.input.prop("checked",a),this.input.change())};function nA(){}nA=Backbone.View.extend({className:"tabPointer"});nA.Yk=20;nA.prototype.initialize=function(a){this.We=!1;this.Pd=a.Pd;this.xn=!!a.xn;this.style=a.style||"arrow"};
nA.prototype.update=function(a,b){var c=this;this.$el.toggleClass("tabPointerVertical",this.xn);this.$el.addClass(this.style);(function(a){c.We||c.$el.addClass("doNotTransition");a();c.We||(c.$el.forceLayout(),c.$el.removeClass("doNotTransition"))})(function(){var d=c.Pd.children("li");b&&(d=d.not(".noTab"));d=d.eq(a);if("arrow"===c.style)d.length&&(c.xn?(d=Math.round(d.position().top+(d.height()-nA.Yk)/2),c.$el.css("transform","translateY("+d+"px)")):(d=Math.round(d.position().left+(d.width()-nA.Yk)/
2),c.$el.css("transform","translateX("+d+"px)")));else if("rectangle"===c.style){var e,g=d.children("a"),h=parseInt(g.css("marginLeft"),10)?0:nA.Yk/2;d.length&&(c.xn?(e=Math.round(g.position().top),c.$el.css("transform","translate3d( -"+h+"px, "+e+"px, 0px)"),c.$el.css("height",g.height())):(e=Math.round(g.position().left-h),c.$el.css("transform","translateX("+e+"px)"),c.$el.css("height",g.height()-nA.Yk)),c.$el.css("width",d.width()+h))}});this.We=!0};function oA(a){a=_.defaults(a,{Ag:!0,window:window});this.sl=0;this.Ag=a.Ag;this.Xj=!1;this.vm=this.vm.bind(this);this.xm=this.xm.bind(this);this.Jd=a.Jd;this.Qg=a.Qg;this.Pd=a.Pd;this.window=a.window}f=oA.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.trigger=Backbone.Events.trigger;
f.init=function(){var a=pA(this,this.window.location.href);this.Pd.on("click","li:not(.noTab) a",this.xm);this.Qg&&this.Qg.$el.insertAfter(this.Pd);qA(this,a);this.Ag&&this.window.addEventListener("hashchange",this.vm,!1);return this};f.vm=function(){var a=pA(this,this.window.location.href);qA(this,a)};f.remove=function(){this.Qg&&this.Qg.remove();this.Pd.off("click","li:not(.noTab) a",this.xm);this.Ag&&this.window.removeEventListener("hashchange",this.vm,!1)};
f.xm=function(a){var b=$(a.currentTarget).parent("li");a.preventDefault();b.hasClass("on")||(a=this.Pd.children().not(".noTab"),qA(this,a.index(b)))};
function qA(a,b){if(a.sl!==b||!a.Xj){a.Xj||a.Jd.children(".tab").addClass("doNotTransition").forceLayout();var c=a.Pd.children().not(".noTab");c.removeClass("on");c.eq(b).addClass("on");c.each(function(c){var d=c===b;a.Jd.addClass("tabStageTransitioning");a.Jd.on("webkitTransitionEnd msTransitionEnd transitionend",function(){a.Jd.removeClass("tabStageTransitioning")});a.Jd.toggleClass("stage"+(c+1),d);d&&(a.sl=c,rA(a),a.Qg&&a.Qg.update(a.sl,!0))});a.Xj||a.Jd.children(".tab").forceLayout().removeClass("doNotTransition");
var c=c.eq(b).children("a").attr("href"),d=!a.Xj&&0===b;a.Ag&&!d&&(a.window.location.hash=c.match(/#.+$/)[0]);a.Xj=!0;c=a.Jd.children(".tab").eq(b);a.trigger("change",c)}}function rA(a){var b=a.sl,b=a.Jd.children(".tab").eq(b);b.css("height","").forceLayout();a.Jd.css("height",b.outerHeight())}function pA(a,b){var c=0,d=a.Pd.children().not(".noTab"),e=d.children("a").filter(function(){return b===this.href.slice(-b.length)}).parent("li");e.length&&a.Ag&&(c=d.index(e));return c};function mw(a){function b(a){a.translate(-g.N(),-g.K());dg(a,r,q,p);a.translate(x,y)}var c=a.page,d=c.ba(),e=a.Qa.ba(),g=a.vo||d;a=g.A();var h=g.B(),k=e.A(),l=e.B(),m=k/a,n=l/h,p=Math.min(m,n),r=a/2,q=h/2,v=k/2,w=l/2,x=v-r,y=w-q;c.fa().forEach(function(a){if(!a.zd&&!tn(a)){var c;if(a instanceof hn&&1===a.ke()){var g=a.spacing;c=a.ba();g=lp(d.A(),d.B(),g,!1);c=ig(c,g)}else c=a instanceof gn?Wn(a):!1;if(c)a instanceof hn?a.ob(lp(k,l,a.spacing,!1)):a.ob(e.clone());else{if(a.ib()){c=a.ba();g=1;b(c);if(m<
n)var g=c.K(),h=l-c.sa(),g=l/(l-2*Math.max(0,g,h));else m>n&&(g=c.N(),h=k-c.Ta(),g=k/(k-2*Math.max(0,g,h)));1<g&&dg(c,v,w,g)}else c=a.ba(),a instanceof Ci&&(g=p*a.Xb(0),a.Yj()?a.jc(0,g):(a.se(),a.jc(0,g),a.$r())),b(c);a.ob(c)}}});c.Z(k);c.W(l);return id(g.clone(),e)};function sA(){}sA=Backbone.View.extend({className:"tileListBusyIndicator"});f=sA.prototype;f.initialize=function(){this.transitionDelay=-1;this.rn=0};f.hide=function(){tA(this,function(){this.$el.removeClass("tileListBusyIndicatorOn")})};f.render=function(){this.$el.html(this.template());return this};function tA(a,b){0!=a.rn&&(window.clearTimeout(a.rn),a.rn=0);0<=a.transitionDelay?a.rn=window.setTimeout(b.bind(a),a.transitionDelay):b.call(a)}f.show=function(){tA(this,function(){this.$el.addClass("tileListBusyIndicatorOn")})};
f.template=function(){return _.range(8).map(function(){return"\x3cspan\x3e\x3c/span\x3e"}).join("")};function uA(a){this.Ge=a.Ge||"";this.yc=a.yc;this.$el=$("\x3cdiv\x3e").addClass("masonryLayout")}f=uA.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;f.add=function(a,b){function c(){return _.min(_.range(d.length),function(a){return d[a]})}var d,e;this.U||vA(this,this.he());d=this.U.get().map(this.B,this);this.U.eq(0).append(a);e=a.get().map(this.B,this);a.each(function(a,h){var k=c();d[k]+=e[a];b?this.U.eq(k).prepend(h):this.U.eq(k).append(h)}.bind(this))};
function wA(a,b){var c=a.he();if(void 0!==b.U){if(b.U.length!==c)throw Error("Cannot merge masonry layouts with different column counts.");a.U||vA(a,c);a.U.each(function(a,c){b.U.eq(a).children().appendTo(c)})}}f.contains=function(a){return!(!this.U||!this.U.children().filter(a).length)};function vA(a,b){var c="masonryLayoutColumn "+a.Ge;a.U=_.range(b).map(function(){return $("\x3cdiv\x3e").addClass(c).width(100/b+"%")}).reduce($.merge);a.U.appendTo(a.$el)}
f.Zo=function(a){var b=this.$el.width()/this.he();return Math.floor(a/b)*this.he()+this.he()};f.he=function(){var a;"function"===typeof this.yc?(a=this.$el.width(),a=this.yc(a)):a=this.yc;return Math.max(a,1)};f.B=function(a){var b=window.getComputedStyle(a);a=a.getBoundingClientRect().height;var c=Math.pow(10,2);return Math.round(a*c)/c+(parseInt(b.marginBottom,10)||0)+(parseInt(b.marginTop,10)||0)};
f.qd=function(){var a;a=this.U.children().get();a.sort(function(a,c){return a.offsetTop!==c.offsetTop?a.offsetTop-c.offsetTop:a.offsetLeft-c.offsetLeft});return $(a)};f.Lh=function(a){function b(a){return a.offsetHeight+a.offsetTop}var c;if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");c=b(a[0]);return $(this.U.children().get().filter(function(a){return b(a)>c}))};f.le=function(){var a;return this.U?(a=_.min(this.U.get(),this.B,this),$(a)):null};
f.isEmpty=function(){return!(this.U&&this.U.children().length)};f.Dm=function(a){var b;if(b=1===a.length&&this.U)b=this.U.get().map(this.B,this),b=a.height()<Array.max(b)-Array.min(b);return b?(this.push(a),!0):!1};f.push=function(a){this.add(a)};f.ra=function(){var a=this.he();this.U&&a!==this.U.length&&(a=this.qd().detach(),this.U&&this.U.remove(),this.U=void 0,this.push(a),this.trigger("redraw"))};f.remove=function(a){this.U&&this.U.children().filter(a).remove()};
f.split=function(a){var b,c;if(!this.contains(a))throw Error("The given element is not an item in the masonry layout.");b=this.Lh(a);if(0===b.length)return null;c=new uA({Ge:this.Ge,yc:this.yc});vA(c,this.U.length);this.U.each(function(a,e){var g=$(e).children().filter(b);c.U.eq(a).append(g)});return c};f.unshift=function(a){this.add(a,!0)};function xA(a){this.children=[];this.Ge=a.Ge;this.yc=a.yc;this.$el=$("\x3cdiv\x3e")}f=xA.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;function yA(a){return new uA({Ge:a.Ge,yc:a.yc})}f.Zo=function(a){var b=this.$el.width()/this.he();return Math.ceil(a/b)*this.he()+this.he()};f.he=function(){var a;"function"===typeof this.yc?(a=this.$el.width(),a=this.yc(a)):a=this.yc;return Math.max(a,1)};
f.qd=function(){var a=[];this.children.forEach(function(b){b instanceof uA?a=a.concat(b.qd().get()):a.push(b)});return $(a)};function zA(a,b){return AA(a).filter(function(a){return a.contains(b)})[0]||null}function AA(a){return a.children.filter(function(a){return a instanceof uA})}f.le=function(){var a=AA(this).slice(-1)[0];return a&&a.le()||null};
function BA(a,b,c){var d,e;d=zA(a,b);if(!d)throw Error("The given element is not an item in the masonry layout.");c.insertAfter(d.$el);e=a.children.indexOf(d);a.children.splice(e+1,0,c[0]);d.Lh(b).length&&(a.trigger("beforeSplit",d.U),b=d.split(b),b.$el.insertAfter(c),a.children.splice(e+2,0,b),a.trigger("afterSplit",d.U,b.U))}f.Dm=function(a){return this.children.some(function(b){return b.Dm&&b.Dm(a)})};
f.push=function(a){if(!(this.children.slice(-1)[0]instanceof uA)){var b;b=yA(this);b.$el.appendTo(this.$el);this.children.push(b)}this.children.slice(-1)[0].push(a)};f.ra=function(){function a(){b=!0}var b=!1;AA(this).forEach(function(b){b.on("redraw",a);b.ra();b.off("redraw",a)});b&&this.trigger("redraw")};f.remove=function(a){this.children=this.children.reduce(function(b,c){c instanceof uA?(c.remove(a),c.isEmpty()?c.$el.remove():b.push(c)):b.push(c);return b},[])};
function CA(a,b){var c=a.children.indexOf(b[0]),d,e;if(0>c)throw Error("The given element is not a block in the layout.");d=a.children[c+1];e=a.children[c-1];d instanceof uA&&e instanceof uA&&(a.trigger("beforeMerge",e.U,d.U),wA(e,d),d.$el.remove(),a.children.splice(a.children.indexOf(d),1));b.remove();a.children.splice(c,1)}f.unshift=function(a){if(!(this.children[0]instanceof uA)){var b;b=yA(this);b.$el.prependTo(this.$el);this.children.unshift(b)}this.children[0].unshift(a)};function DA(a){this.Df=a;this.hz=$.isWindow(this.Df[0]);this.cu=_.throttle(this.dispatchEvent.bind(this),200)}f=DA.prototype;f.lm=function(){this.stopListening();this.Df.on("scroll",this.cu)};f.stopListening=function(){this.Df.off("scroll",this.cu)};
function EA(a,b,c){c=_.defaults({},c,{Jp:!1});var d=b.offset().top;c=c.Jp?parseInt(b.css("margin-bottom"),10):0;b=b.outerHeight();d=d+b+c;b=a.hz?a.Df.scrollTop():a.Df.offset().top+parseInt(a.Df.css("border-top-width"),10);a=a.Df.innerHeight();return d-(b+a)}f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;f.dispatchEvent=function(){this.trigger("scroll",this)};function Su(){}
Su=Backbone.View.extend({className:"infoPanel",template:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"Close"\x3eClose\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e'),OD:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"Close"\x3eClose\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle brandInfo"\x3e\x3cspan class\x3d"brand"\x3e\x3c/span\x3e\x3cspan class\x3d"spinner on"\x3e\x26hellip;\x3c/span\x3e\x3c/h4\x3e\x3cp class\x3d"price" title\x3d"title"\x3e\x3c%- price %\x3e\x3c/p\x3e\x3cp class\x3d"id"\x3e\x3ca target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3eID: \x3c%- id %\x3e\x3c/a\x3e\x3c/p\x3e\x3c% if (hasComponentMedia) { %\x3e\x3cul class\x3d"componentItems componentMedia threeCol"\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% if (hasKeywords) { %\x3e\x3cp class\x3d"keywords"\x3e\x3c/p\x3e\x3c% } %\x3e'),Gy:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this info panel"\x3eClose\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3ch4 class\x3d"infoPanelSubtitle"\x3e\x3c%- count %\x3e layouts\x3c/h4\x3e\x3c% if (hasComponentLayouts) { %\x3e\x3cul class\x3d"componentItems componentLayouts twoCol"\x3e\x3c/ul\x3e\x3c% } %\x3e'),
eF:_.template('\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this info panel"\x3eClose\x3c/a\x3e\x3ch3 class\x3d"infoPanelTitle"\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% if (isUnapproved) { %\x3e\x3cp class\x3d"unapproved error"\x3eThere was a problem with your upload\x26nbsp; :\x26nbsp;\x3cbr\x3ePlease make sure your image:\x3c/p\x3e\x3cul class\x3d"unapproved error"\x3e\x3cli\x3eis less than 25MB\x3c/li\x3e\x3cli\x3eis a .png, .jpg, or .svg file\x3c/li\x3e\x3cli\x3euses an RGB color model (i.e., not CMYK)\x3c/li\x3e\x3c/ul\x3e\x3c% } %\x3e\x3cp class\x3d"delete removeUpload" data-media-id\x3d"\x3c%- id %\x3e" data-version\x3d"\x3c%- version %\x3e"\x3e\x3cspan class\x3d"icon"\x3e\x3c/span\x3eDelete\x3c/p\x3e'),
$s:_.template('\x3cli class\x3d"componentItem fetchingComponentItem"\x3e\x3cspan class\x3d"componentItemLinkLoading"\x3e\x3c/span\x3e\x3ca class\x3d"componentItemLink" target\x3d"_blank" href\x3d"\x3c%- url %\x3e"\x3e\x3c%- id %\x3e\x3c/a\x3e\x3c% if (hasPrice) { %\x3e\x3cspan class\x3d"componentItemPrice"\x3e\x3c%- price %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/li\x3e'),Yz:_.template('\x3cspan class\x3d"mediaKeyword"\x3e\x3c%- keyword %\x3e\x3c/span\x3e',void 0,{variable:"keyword"})});f=Su.prototype;
f.initialize=function(a){this.title=a.title||this.model.Aa&&this.model.Aa()||"Untitled Image";this.Zp=a.Zp;this.Xp=a.Xp;this.Np=a.Np;this.Yp=a.Yp;this.xq=a.xq;this.Ja=a.Ja;this.td=a.td;this.L=a.L};f.events=function(){return{"mousedownTouchstart .componentLayouts .componentItem a":this.Sy,"touchClick .componentLayouts .componentItem a":this.tx,"touchClick .brandInfo a":this.ID,"touchClick .mediaKeyword":this.MD,"touchClick .removeUpload":this.mD,"touchClick .close":this.close}};
f.render=function(){this.$el.html(this.template({title:this.title}));if(this.Zp)this.$el.html(this.eF({title:this.title||"Untitled Image",id:this.model.F(),version:this.model.S(),isUnapproved:this.Yp}));else if(this.Np)this.$el.html(this.Gy({title:this.title,count:this.model.je().content.pages.length,hasComponentLayouts:this.eu()})),this.eu()&&FA(this);else if(this.Xp){this.$el.html(this.OD({title:this.title,id:this.model.F(),url:"/media/"+encodeURIComponent(this.model.F()),price:GA(this),hasComponentMedia:this.zp(),
hasKeywords:this.fu()}));if(this.fu()){var a=this.model.Te().map(this.Yz).join(", ");this.$(".keywords").html("Keywords: "+a)}this.zp()&&HA(this);this.model.ea&&this.model.ea()&&IA(this)}return this};
function HA(a){function b(a,b){function d(){var a=$(this).attr("src");$(this).remove();k++;v.removeClass("fetchingComponentItem");v.find(".componentItemLink").css("background-image","url("+a+")");k>=h&&JA(c)}if(200===a){var e=0,g=b.da().Sa()[Tn],q=ss(b.da());q&&(e=100*ss(b.da()).ONE_USE||0);var v=$(c.$s({url:"/media/"+b.F(),id:b.F(),hasPrice:q,price:KA(e)}));c.$(".componentMedia").append(v);$("\x3cimg/\x3e").attr("src",g.ca()).one("load",d)}}var c=a,d=a.model.pp(),e=Math.ceil(d.length/3),g=.21*$(".infoPanelGallery").width()+
20;a=a.$(".componentMedia");var h=d.length,k=0;c.$el.addClass("infoPanelLoading");a.css("height",e*g+"px");d.forEach(function(a){sa.Na(a.F(),(new $n).mh(a.S()),b)})}function LA(a,b){function c(a){e.resolve(a)}var d=$.Deferred(),e=$.Deferred();ta.ea(a.model.ea()).then(d.resolve.bind(d)).catch(d.resolve.bind(d,null));"DESIGN"==a.model.type&&a.model.hb&&a.model.hb()?ta.hb(a.model.hb()).then(c):e.resolve();$.when(d,e).done(b)}
function IA(a){LA(a,function(b,c){var d="DESIGN"==a.model.type?$("\x3cspan\x3e"):$("\x3ca\x3e").attr("href","#");if(b){var e=b.Mb()||b.brandname||"Brand "+b.F();d.data("brandId",b.F());c?(d.data("userId",c.F()).data("username",c.Hj()),b.personal?d.text(b.Mb()||b.brandname||c.Mb()||c.Hj()):d.text((c.Mb()||c.Hj())+" from "+e)):d.text(e)}else d.text("Unknown Brand");a.$(".brandInfo .brand").text("by ").append(d).addClass("on");a.$(".brandInfo .spinner").addClass("off")})}
function FA(a){var b=a.model.je().content.pages,c=a.model.je().imageSets.thumbnail,d=c.images,e=a.model.S()>c.version,c=Math.ceil(b.length/2),g=.31*$(".infoPanelGallery").width()+20,h=a.$(".componentLayouts"),k=0,l=b.length;a.$el.addClass("infoPanelLoading");h.css("height",c*g+"px");b.forEach(function(b,c){var g=!1,h="https://static.canva.com/static/images/default_thumbnail.gif";d[c]&&(g=!0,h=d[c].url);var q=$(a.$s({url:"#",id:c,hasPrice:!1}));q.toggleClass("componentItemThumbnailUpdating",!g||e);a.$(".componentLayouts").append(q);
$("\x3cimg/\x3e").attr("src",h).one("load",function(){var b=$(this).attr("src");$(this).remove();k++;q.removeClass("fetchingComponentItem");q.find(".componentItemLink").css("background-image","url("+b+")");k>=l&&JA(a)})})}function JA(a){window.setTimeout(function(){a.$el.removeClass("infoPanelLoading").addClass("infoPanelLoaded")},300)}f.fu=function(){return this.model.Te&&0<(this.model.Te()||[]).length};f.eu=function(){return this.model.je&&1<(this.model.je().content||{pages:[]}).pages.length};
f.zp=function(){return this.model.pp&&0<(this.model.pp()||[]).length};function KA(a){return null===a?"Price unavailable":0===a?"Free":"$"+(a/100).toFixed(0)+" USD"}function GA(a){var b=Rs(a.model);a.zp()&&(b=a.model.oneTimeUseAggregatePriceCents);return KA(b)}f.close=function(){Uu.call(this.$(".close").get(0))};f.ID=function(){$("#search").val("brand:"+this.model.ea());Z=null;gu(this.L)};f.MD=function(a){$("#search").val(a.currentTarget.textContent);Z=null;gu(this.L)};
f.mD=function(a){this.close(a);Es(sa,this.model.F(),this.model.S(),(new zs).sf(!0),this.xq)};function MA(a,b){var c;if(!(a.model instanceof kj))throw Error("attempted to get a page from a non-design");c=a.model.T(b);if(a.Ja&&a.td){var d={};d[a.td.Tl()]="#"+a.Ja;c=NA(null,c,d)}return c}
f.tx=function(a){a=parseInt(a.currentTarget.textContent,10);var b=MA(this,a),c;if(this.model instanceof kj){a=lj(this.model,a);c=new qg({type:Xm,id:this.model.F(),version:this.model.S()});var d=c.serialize();d&&OA(b,d)}else a=this.model.zg();d=new ii(t,b);mw({vo:lw(d),Qa:t.ja,page:d});var b=og(new mg(b.layout),d.serialize()),d=I(t),e={"new":b,old:d.bj(),pageIndex:d.V()};yv(d,b,a,c);C.register(new xv(4,e))};
f.Sy=function(a){var b=parseInt($(a.currentTarget).text(),10),c=MA(this,b),d=$.extend(!0,{},this.model);d.draft.content.pages=[];d.draft.content.pages[0]=$.extend(!0,{},c);var e={url:"https://static.canva.com/static/images/default_thumbnail.gif"};d.draft.imageSets.thumbnail.images[0]=d.draft.imageSets.thumbnail.images[b]||e;b=PA.Nt(Ui(d));b.$el.children("a").data("pageTemplate",c).css("width",$(a.currentTarget).css("width")).css("height",$(a.currentTarget).css("height"));$(a.currentTarget).parents("li").data("view",b);return bu.call(a.currentTarget,
a)};function PA(){}PA=Backbone.View.extend({});PA.DE=function(){var a=Date.now();return function(b){var c=Date.now(),d=500-(c-a);window.setTimeout(b,d);a=c+d}}();PA.Nt=function(a){if(a instanceof Qs)return PA.DE(function(){a.Kf()}),new yw({model:a});if(a instanceof pq)return new QA({model:a});if(a instanceof kj)return new RA({model:a});if("string"===typeof a&&-1<_.keys(lg).indexOf(a))return new SA({model:a});throw new TypeError("Unknown galleryObject type: "+typeof a);};f=PA.prototype;f.Oa=function(){return this.$el.offset().top};
f.Bb=function(){return this.Oa()+this.$el.height()};f.Kh=function(){return parseInt(this.$el.css("left"),10)+this.$el.width()/2};f.Nc=function(a,b){b?this.$el.css("top","+\x3d"+a):this.$el.addClass("doNotTransition").css("top","+\x3d"+a).removeClass("doNotTransition")};function TA(a,b,c){var d=a.$el.data("originalTop");c?a.$el.css("top",d+b):a.$el.addClass("doNotTransition").css("top",d+b).removeClass("doNotTransition")}
f.lj=function(){var a=this.$el.children("a"),b=a.offset(),c=a.width(),d=a.height(),e=$('\x3cdiv class\x3d"clone"\x3e\x3c/div\x3e');a.children().first().clone().css("width",c).css("height",d).appendTo(e);e.data("li",this.$el).css("left",b.left).css("top",b.top).css("width",c).css("height",d);return e};function SA(){}SA=PA.extend({tagName:"li",className:"newSearch grid",template:_.template('\x3ca href\x3d"#"\x3e\x3c/a\x3e')});SA.prototype.initialize=function(a){this.au=this.model;this.Fz=lg[this.au];!a.el&&this.render();this.$el.data("view",this)};SA.prototype.render=function(){this.$el.html(this.template()).attr("data-grid-name",this.au);this.$("a").append(kp(this.Fz.items));return this};function QA(){}QA=PA.extend({tagName:"li",className:"newSearch loading",template:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/a\x3e'),Gz:_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c/a\x3e')});QA.prototype.initialize=function(a){!a.el&&this.render();this.$el.data("view",this)};
QA.prototype.render=function(){var a=this,b=this.model.Re();qq(this.model)?(this.$el.addClass("grid").html(this.Gz(this.model)),this.$("a").append(kp(b.elements[0].items)),this.$el.removeClass("loading")):(this.$el.html(this.template(this.model)),this.$("img").on("load",function(){a.$el.removeClass("loading")}));this.$el.data("layoutItem",this.model);return this};
QA.prototype.lj=function(){var a=PA.prototype.lj.call(this),b=a.children().first();a.addClass("template");qq(this.model)&&(a.addClass("draggableGridItem dragging"),b.find(".item \x3e .content").addBack().css("left",1).css("right",1).css("top",1).css("bottom",1));return a};function RA(){}RA=QA.extend({className:"designGalleryItem newSearch loading",tagName:"li"});f=RA.prototype;f.initialize=function(){this.gq=this.ai=null;this.render()};f.remove=function(){QA.prototype.remove.call(this);if(this.ai){var a=this.ai,b=this.gq;a.ao.hasOwnProperty(b)&&(URL.revokeObjectURL(b),delete a.ao[b])}};
f.render=function(){function a(){return{height:b.content.pages[0].height,images:[{url:"https://static.canva.com/static/images/default_thumbnail.gif"}],width:b.content.pages[0].width}}var b=this.model.draft,c=this;this.$el.data({designItem:this.model,view:this});var d;try{d=b.imageSets.thumbnail||a()}catch(e){d=a()}this.$el.html(this.template({pageCount:b.content.pages.length,name:b.content.title,thumbnail:d}));this.$el.toggleClass("designItemThumbnailUpdating",UA(this));this.$("img").on("load",function(){c.$el.removeClass("loading")});
return this};function UA(a){var b;try{b=a.model.je().imageSets.thumbnail.version}catch(c){b=-1}return a.model.S()>b}f.lj=function(){var a,b,c;a=PA.prototype.lj.call(this);a.addClass("template");b=a.find(".designItem");1===b.length&&(c=a.find("img"),c.css("width",a.width()),c.css("height",a.height()),b.remove(),a.append(c));return a};function VA(a,b,c,d){function e(){g.gq=WA(g.ai,"#"+b);g.$("img").prop("src",g.gq)}var g=a;a.ai||(a.ai=c(d.sb()),a.ai.load().then(e))}f.template=_.template('\x3ca href\x3d"#" title\x3d"\x3c%\x3d name %\x3e"\x3e\x3c% if (pageCount \x3e 1) { %\x3e\x3cdiv class\x3d"designItem multiPageDesignItem" style\x3d"background-image: url(\x3c%\x3d thumbnail.images[0].url %\x3e);"\x3e\x3cdiv class\x3d"multiPageDesignItemPageCount"\x3e\x3c%\x3d pageCount %\x3e\x3c/div\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c/div\x3e\x3c% } else { %\x3e\x3cimg src\x3d"\x3c%\x3d thumbnail.images[0].url %\x3e" width\x3d"\x3c%\x3d thumbnail.width %\x3e" height\x3d"\x3c%\x3d thumbnail.height %\x3e" \x3e\x3c% } %\x3e\x3c/a\x3e');function yw(){}yw=PA.extend();yw.prototype.initialize=function(a){this.Bf=new nd(window.viewConfig);this.query=a.query;this.render()};
yw.prototype.render=function(){this.$el=this.createElement(this.query,this.model);this.$el.data("view",this);"CANVA"!==this.model.Xc()&&this.$(".info").remove();var a=this.model;null==a.ea()&&null==Rs(a)&&this.$(".price").remove();this.model.restricted||"APPROVED"==this.model.status||(this.$(".info").remove(),this.$(".price").remove(),this.$("img").addClass("inMarketplaceReview"));this.$el.data("searchResult",this.model);return this};
yw.prototype.createElement=function(a,b){var c=b.Sa(),d=c[Tn],e=d.ca(),g=d.A(),d=d.B(),c=c[Oc],h=c.ca(),k=c.A(),l=c.B(),m=$('\x3cli class\x3d"newSearch loading"\x3e\x3ca href\x3d"#"\x3e\x3cimg\x3e\x3c/a\x3e\x3c/li\x3e'),c=$("img",m);Fa(c,e);c.data("screen-url",h).data("screen-width",k).data("screen-height",l).attr("width",g).attr("height",d);b.type===Kc&&c.addClass("svg");var n="";if(this.Bf.cg.get("quickKeywordEditEnabled",void 0)&&a&&/^\w+$/.test(a)){e=a.toLowerCase();g=b.wp();d=!1;if(g)for(h=0;h<
g.length;h++)if(g[h].toLowerCase()==e){d=!0;break}n='\x3cspan class\x3d"superKeyword '+(d?"superHit":"superMiss")+'" title\x3d"'+(d?"Remove superKeyword ":"Add superKeyword ")+"'"+e+"'\" \x3eS\x3c/span\x3e ";m.data("superKeywordAdd",!d);m.data("query",e)}e=Rs(b);g=(e/100).toFixed(0)+" USD";g=null===e?"":0===e?"Free":"$"+g;(d=!!b.oneTimeUseAggregatePriceCents)&&(g='\x3cspan class\x3d"inner"\x3e$\x3c/span\x3e');e=$('\x3cspan class\x3d"price'+("Free"==g?" free":"")+'"\x3e'+g+"\x3c/span\x3e");d&&e.addClass("poa");
g=function(a,b){var c=$('\x3cspan class\x3d"info"\x3e\x3cspan class\x3d"price"\x3e'+b+"\x3c/span\x3e "+n+'\x3cspan class\x3d"moreInfo" title\x3d"Show more info"\x3ei\x3c/span\x3e\x3c/span\x3e');a&&c.find(".price").addClass("poa");return c}(d,g,n);$("a",m).append(e).append(g);c.on("load",function(){m.removeClass("loading")});m.data("result",b);return m};function XA(){}XA=Backbone.View.extend({className:"searchGroup"});f=XA.prototype;f.initialize=function(a){this.Eh=a.Eh;this.op=[];this.xi=a.model;this.listenTo(this.xi,{"results:willFetch":this.jh,"results:didFetch":this.Je,"results:clear":this.Ox});this.L=a.L;this.br=!1;a.el||this.render();this.$el.data("view",this)};f.render=function(){this.$el.html(this.template({title:this.xi.Aa()}));this.$(".gallery").addClass(this.Eh);""===this.xi.Aa()&&this.$("h2").remove();return this};f.jh=function(){};
f.Je=function(a,b,c){function d(a){a.$el.appendTo(l)}function e(a){return a instanceof Qs&&"DESIGN"===a.type}function g(a){return a instanceof SA}function h(a){return a instanceof QA}function k(){l.addClass("templateGallery").removeClass("photoGallery")}var l;a=ob(this.L);c||(l=this.$(".gallery"),this.$el.addClass("hasContent"),0<b.length?(c=b.map(PA.Nt),c.forEach(d),c.some(g)&&l.addClass("gridGallery").removeClass("photoGallery"),c.some(h)&&k(),b.some(e)&&k(),this.op=this.op.concat(c),this.Y(),this.trigger("results:render")):
0===this.xi.ze.length&&(l.remove(),this.$(".noResults").remove(),this.$el.append(this.yh({noResultsMessage:Cb(a)}))))};f.Ox=function(){this.$(".gallery").find("li").each(function(){$(this).data("view").remove()})};f.Y=function(){Il(this.$(".gallery"),!1)};f.compact=function(){Jl(this.$el,!0)};f.W=function(a,b){var c=0===a?0:"";b?this.$el.css("height",a).css("padding",c):this.$el.addClass("doNotTransition").css("height",a).css("padding",c).removeClass("doNotTransition")};
function YA(a,b){a.$el.addClass("doNotTransition").css("height","+\x3d"+b).removeClass("doNotTransition")}f.Lh=function(a){var b=a.Bb();return a.$el.nextAll().toArray().filter(function(a){return $(a).offset().top>=b}).map(function(a){return $(a).data("view")})};function ZA(a,b){var c=a.Lh(b);if(0===c.length)return 0;var d=c.slice(0).sort(function(a,b){return a.Oa()-b.Oa()}),c=c.slice(0).sort(function(a,b){return b.Bb()-a.Bb()}),d=d[0];return c[0].Bb()-d.Oa()}
function $A(a){return a.$el.outerHeight(!0)-a.$el.height()}f.uj=function(){};f.Ys=function(){};f.Er=function(a,b,c){this.op.reduce(function(a,b){b instanceof RA&&c.hasOwnProperty(b.model.F())&&a.push(b);return a},[]).forEach(function(d){VA(d,a,b,c[d.model.F()])})};f.yh=_.template('\x3cp class\x3d"noResults"\x3e\x3c%- noResultsMessage %\x3e\x3c/p\x3e');f.template=_.template('\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e');function aB(){}aB=XA.extend();aB.prototype.initialize=function(a){this.L=a.L};aB.prototype.yh=_.template('\x3cp class\x3d"noResults noDesignResults"\x3eYou haven\'t created any \x3cem\x3edesigns\x3c/em\x3e \x3cbr /\x3eyet.\x3c/p\x3e');function bB(){}bB=XA.extend({});bB.prototype.initialize=function(a){this.Gi=null;this.At=0;XA.prototype.initialize.apply(this,arguments);a.el&&this.$(".gallery li").each(function(){var a=new PA({el:this});$(this).data("view",a)})};
bB.prototype.uj=function(a,b){var c=a.$el,d=this.Lh(a),e=c.height(),e=c.data("originalTop")+e,g=cB(this,e);this.$el.addClass("folderExpanded");c.addClass("folderExpanded");d.forEach(function(a){TA(a,Math.min(b,g),!0)});b>g&&window.setTimeout(function(){d.forEach(function(a){TA(a,b,!1)})},300);this.W(e,!0);this.At=b;null===this.Gi&&(c=ZA(this,a),e=this.$el.next(),this.Gi=$('\x3cdiv class\x3d"spacer"\x3e\x3c/div\x3e'),this.Gi.css("height",c).insertAfter(e))};
bB.prototype.Ys=function(a){var b=this.Lh(a),c=this.At-cB(this);0<c&&b.forEach(function(a){a.Nc(-c,!1)});this.$el.removeClass("folderExpanded");a.$el.removeClass("folderExpanded");b.forEach(function(a){TA(a,0,!0)});var d=this;window.setTimeout(function(){d.compact();d.Gi&&d.Gi.remove();d.Gi=null},360)};function cB(a,b){void 0===b&&(b=a.$el.height());var c=a.$el.parents(".layer").outerHeight(!0),d=a.$el.position().top;return c-(d+b)};function dB(){}dB=XA.extend({className:"inlineFolderGroup searchGroup",template:_.template('\x3cul class\x3d"gallery"\x3e\x3c/ul\x3e')});dB.Yi=150;f=dB.prototype;f.initialize=function(a){this.model=a.model;this.oe=null;XA.prototype.initialize.apply(this,arguments);this.render();this.W(0,!1)};
f.remove=function(){function a(){XA.prototype.remove.apply(b,arguments);b.br=!1}var b=this,c=this.$(".infoPanel .close"),d=0<c.length,e=this.$el.parent();this.br=!0;d&&c.trigger("click");if(this.oe)this.oe.css("opacity",0).one("transitionend",function(){$(this).remove();b.oe=null});if(0<e.length){var g=this.$el.offset(),c=g.top+this.$el.outerHeight(),d=e.offset().top+e.outerHeight(),c=c-d;if(0<c){YA(this,-c);var h=e.outerHeight()-g.top;this.$(".gallery li").each(function(){var a=$(this).data("originalTop");
(a>=h||a<-g.top)&&$(this).remove()})}this.$el.one("transitionend",a).addClass("disappearing")}else a()};f.jh=function(){0===this.xi.ze.length&&su(this.$el);XA.prototype.jh.apply(this,arguments)};f.Je=function(a,b,c){wu(this.$el);XA.prototype.Je.apply(this,arguments);var d=this;window.setTimeout(function(){d.compact()},300)};f.compact=function(){if(0!==this.model.ze.length){var a=this;XA.prototype.compact.apply(this,arguments);window.setTimeout(function(){a.$el.height()<dB.Yi&&a.W(dB.Yi,!0)},300)}};
function eB(a){if(null===a.oe){var b=a.$el.parents(".layer");a.oe=$('\x3cdiv class\x3d"folder header clone"\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this folder"\x3eClose\x3c/a\x3e\x3ch2\x3e\x3cspan\x3e'+_.escape(a.xi.Aa())+"\x3c/span\x3e\x3c/h2\x3e\x3c/div\x3e");a.oe.css("opacity",0).insertAfter(b).delay(20,function(){$(this).css("opacity","")});a.oe.find("a.close").one("touchClick",function(){a.trigger("headerClose:click",a)})}}
function fB(a){if(null!==a.oe){var b=a.oe;a.oe=null;b.css("opacity",0).one("transitionend",function(){$(this).remove()})}};function gB(){}gB=Backbone.View.extend({tagName:"section",className:"layer"});gB.uh=function(a,b){return new XA({model:a,Eh:"infoPanelGallery photoGallery",L:b})};f=gB.prototype;f.events=function(){return{scroll:_.throttle(this.scroll,200)}};
f.initialize=function(a){this.L=a.L;this.Dk=this.model=a.model;this.$a=[];this.Tm=[];this.uh=a.uh||gB.uh;this.Lp=!1;this.listenTo(this.Dk,"searchGroup:add",this.gd);this.listenTo(this.Dk,"searchGroup:remove",this.yk);this.listenTo(this.Dk,"results:willFetch",this.jh);this.listenTo(this.Dk,"results:didFetch",this.Je);this.$el.data("view",this)};
f.render=function(){this.$el.empty();this.$a.forEach(function(a){this.$el.append(a.$el)},this);this.$el.append('\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e');return this};f.scroll=function(){0<this.$a.filter(function(a){return a.br}).length||this.dm()};
f.dm=function(){var a=this.$el.parent(),b=this.$a[this.$a.length-1],c=Bw(this.Dk);if(0!==a.length&&b&&c&&!this.Lp){var d=function(){var c=b.$el.offset().top+b.$el.outerHeight(),d=a.offset().top+a.outerHeight();return c-d};bd(this).read(function(){if(c.ci&&d()<=.33*a.outerHeight()){var b=this.$("\x3e .inner \x3e .searchGroup .gallery li").length;500<b&&bd(this).write(function(){dv(this.$el,b-500)}).done();this.Lp=!0;c.Cc(hB(this))}c.ci||bd(this).write(function(){this.$el.data("userPreparedSearch",
!0)}).done()}).done()}};f.gd=function(a,b,c){(a=this.$a[c-1])&&a.compact();b=new XA({model:b,Eh:"infoPanelGallery photoGallery",L:this.L});this.$a.splice(c,0,b);a?b.$el.insertAfter(a.$el):b.$el.appendTo(this.$el.children(".inner"))};f.yk=function(a,b,c){a=this.$a[c];this.$a.splice(c,1);a.remove()};f.jh=function(a){this.Tm.push(a);su(this.$el)};
f.Je=function(a,b){var c=this.Tm.indexOf(a);-1<c&&this.Tm.splice(c,1);0===this.Tm.length&&wu(this.$el);this.Lp=!1;if(a.ci){var d=this;setTimeout(function(){a===Bw(d.model)&&d.dm()},20*b.length+300)}};function hB(a){a=a.$el.parent();return uu(a,a.height())};function iB(){}iB=gB.extend({});f=iB.prototype;f.events=function(){var a=gB.prototype.events.apply(this,arguments);a["mousedownTouchstart .albumGallery a"]=this.Sx;a["click .albumGallery a"]=function(){return!1};a["mousedown .albumGallery a img"]=function(a){a.preventDefault()};a["touchClick .inlineFolderGroup \x3e .header a.close"]=this.Vs;a.mousedown=this.ay;return a};
f.initialize=function(a){gB.prototype.initialize.call(this,a);this.jj=!1;this.Il=0;this.Tj=$();this.listenTo(E,"infoPanelToggle",this.Tz)};function jB(a){a=a.$a.filter(function(a){return a instanceof dB});return 0<a.length?a[0]:null}
f.scroll=function(a){gB.prototype.scroll.apply(this,arguments);var b=jB(this);b&&bd().read(function(a){var d=parseInt(b.$el.css("margin-top"),10),e=parseInt(b.$el.css("margin-bottom"),10),g=b.$el.outerHeight(!1),d=b.$el.position().top+d,h=0<d,k=d+g<e;a.write(function(){h||k?fB(b):eB(b)})}).done()};f.dm=function(){this.$el.data("userPreparedSearch")?ku.call(this.el,this.L):gB.prototype.dm.apply(this,arguments)};
f.ay=function(a){if(a.target===this.el||"li"===a.target.nodeName.toLowerCase()&&0<$(a.target).parents(".browseCategories").length)return(a=this.$a[0].$("li.folderExpanded").data("view"))&&kB(this,a),!1};f.Sx=function(a){var b=this.$a[0];a=$(a.currentTarget).parent().data("view");var c=b.$el.hasClass("folderExpanded")&&!a.$el.hasClass("folderExpanded");a.$el.hasClass("folderExpanded")?kB(this,a):c?(b=b.$("li.folderExpanded").data("view"),kB(this,b)):this.jj||lB(this,a);return!1};
f.Vs=function(){var a=this.$(".gallery .folderExpanded").data("view");!this.jj&&kB(this,a)};
function lB(a,b){var c=ob(a.L),d=a.$a[0],e=a.model,g=b.$el.children("a"),h=g.attr("title"),g=g.data("query");"marketplace"===g?($(".fileUploadButton").addClass("buttonMarketplace").text(Eb(c)),$("#fileUpload").data("marketplace","marketplace")):($(".fileUploadButton").removeClass("buttonMarketplace").text(Db(c)),$("#fileUpload").removeData("marketplace"));var c=Dw(g),k=new Cw(c,h);Aw(e,k,1);e=a.$a[1];mB(a,dB.Yi);d.uj(b,a.Il);0===ZA(d,b)&&e.$el.addClass("end");a.listenTo(e,"headerClose:click",function(){a.Vs()});
a.Tj.remove();a.Tj=$('\x3cdiv class\x3d"inlineFolderPointer"\x3e\x3c/div\x3e');a.Tj.css("left",b.Kh()+parseInt(a.$el.css("padding-left"),10)).insertBefore(e.$el);su(e.$el);setTimeout(function(){k.Cc(hB(a))},360);a.$el.removeData("userPreparedSearch")}
function kB(a,b){var c=ob(a.L),d=a.$a[0],e=a.model;$(".fileUploadButton").removeClass("buttonMarketplace").text(Db(c));$("#fileUpload").removeData("marketplace");if(1<e.Jf()){a.jj=!0;var c=Bw(e),g=jB(a);a.stopListening(g);e.yk(c);a.Tj&&setTimeout(function(){a.Tj.remove();a.jj=!1},300)}d.Ys(b);mB(a,0);a.$el.data("userPreparedSearch",!0)}function nB(a,b){var c=a.$(".gallery .folderExpanded").data("view");b===c&&(!a.jj&&kB(a,b),window.setTimeout(function(){lB(a,b)},360))}
f.gd=function(a,b,c){(a=this.$a[c-1])&&a.compact();var d=new dB({model:b,Eh:"infoPanelGallery photoGallery",L:this.L});this.$a.splice(c,0,d);d.$el.insertAfter(a.$el).delay(20,function(){d.W(dB.Yi-72,!0)})};f.Je=function(a,b,c){gB.prototype.Je.apply(this,arguments);ww(this,!0)};
function ww(a,b){var c=a.$a[0],d=jB(a),e=c.$("li.folderExpanded").data("view");if(e){var g=$A(d),h=d.$el.data("contentHeight")||0,g=g+h,k=Ru(d.$el),l=Math.max(g,dB.Yi),d=c.$el.find("li");b?c.uj(e,l+k):d.addClass("doNotTransition").delay(20,function(){c.uj(e,l+k);$(this).delay(20,function(){$(this).removeClass("doNotTransition")})});mB(a,l)}}f.Tz=function(a,b){var c=jB(this);if(c&&c.el===a.get(0)){var c=this.$a[0],d=c.$("li.folderExpanded").data("view");c.uj(d,this.Il+b)}};
function mB(a,b){var c=b-a.Il;a.Il=b;a.$a[0].$el.nextAll(".searchGroup:not(.inlineFolderGroup)").find(".infoPanel, .infoPanelPointer").one("transitionend",function(){$(this).removeClass("transitionTop")}).addClass("transitionTop").delay(20,function(){$(this).css("top","+\x3d"+c)})};function Qt(){}Qt=Backbone.View.extend({className:"textControls"});Qt.Bs=1.02;f=Qt.prototype;f.events=function(){return{"mousedownTouchstart a.add":this.jA,"touchClick a.add.editing:not(.active)":this.oy,"touchClick a.add:not(.editing)":this.Qx}};f.initialize=function(a){this.Vn=0;this.Ka=a.Ka;this.L=a.L;this.ll=!1;this.listenTo(this.model,"change:defaultFont",this.aF);this.render()};f.template=_.template("\x3c% if (hasBrandKit) { %\x3e\x3cp\x3e\x3c%- brandFontLabel %\x3e\x3c/p\x3e\x3c% } else { %\x3e\x3cp\x3e\x3c%- fontLabel %\x3e\x3c/p\x3e\x3c% } %\x3e\x3cul\x3e\x3c/ul\x3e");
f.cA=_.template('\x3cli style\x3d"color: \x3c%\x3d color %\x3e; text-align: \x3c%- justification %\x3e;"\x3e\x3ca class\x3d"add" data-style\x3d"\x3c%\x3d style %\x3e"href\x3d"#" style\x3d"color: \x3c%\x3d color %\x3e; font-family: \'\x3c%\x3d fontFamily %\x3e\'; font-size: \x3c%\x3d fontSizePercentage %\x3e%; font-style: \x3c%\x3d italic ? "italic" : "normal"%\x3e; font-weight: \x3c%\x3d bold ? "bold" : "normal"%\x3e;"\x3e\x3c%\x3d placeholderText %\x3e\x3c/a\x3e\x3c/li\x3e');
f.render=function(){var a,b=this;this.$el.html(this.template(function(){var a=ob(b.L);return{hasBrandKit:!!b.Ka,fontLabel:a.format("objectPanelTextPanelFontLabel"),brandFontLabel:a.format("objectPanelTextPanelBrandFontLabel")}}()));a=this.$el.children("ul");for(var c in jb)a.append(oB(this,jb[c]));pB(this);return this};function pB(a){function b(){c++}var c=0;Object.keys(jb).forEach(function(a){a=this.ie(jb[a]).fontFamily;rr(a,b)},a)}function oB(a,b){var c=a.ie(b);return $(a.cA(c))}
f.ie=function(a){var b={title:32,subtitle:18,body:14},c=$.extend(!0,{},this.model.ih[a]),d=$.extend(!0,{},this.model.gj[a]),e=qB(this,a),g={bold:!1,italic:!1,justification:"center",color:"auto",placeholderText:Jb(ob(this.L),a),style:a},c=_.extend({},g,d,c,e);(e=pm(xa,c.fontFamily))?c.fontFamily=e.family:c=_.extend({},g,d);void 0===c.fontSize&&(c.fontSize=b[a]);c.fontSizePercentage=c.fontSize*bb;return c};
function qB(a,b){var c;try{c=Ck(zk(a.Ka)[0])||[]}catch(d){c=[]}return c.filter(function(a){return!!Fk(a)&&a.getName()===b}).map(function(a){a=Fk(a);return{bold:a.Pe(),italic:a.Se(),fontFamily:Hk(a),fontSize:a.Oh()}})[0]}f.aF=function(a,b,c){a=this.$el.find("[data-style\x3d"+b+"]");var d=a.parent(),e=oB(this,b);a.hasClass("active")&&e.find("a").addClass("active");a.hasClass("editing")&&e.find("a").addClass("editing");rr(c.fontFamily,function(){d.replaceWith(e)})};
f.Qx=function(a){var b=this.model,c=$(a.currentTarget),d=c.data("style");a=this.ie(d);a.fontSize*=Da.ee;var e=rB(this,c);e.find("a").css("font-size",a.fontSize*bb+"%");e.css("font-size","100%").css("opacity",0).appendTo("#content");var g=e.width();e.remove();c={style:d,lockedWidth:!1,width:g*Qt.Bs,html:c.text(),placeholderText:c.text()};_.extend(c,a);M();var h=I(b);new Ci(c,function(a){h.addElement(a,!0);Fc(a)});this.ll=!0;return!1};
function rB(a,b){var c=I(a.model).hm(),d=a.ie(b.data("style")),e=b.clone(),g=sB(a),h=parseFloat(b.get(0).style.fontSize||100)/100,d=d.color&&"auto"!==d.color?d.color:"inherit";e.css("width",b.width()).css("height",b.height()).css("white-space","nowrap").css("color",d).css("font-size",g*h*100+"%");g=$('\x3cdiv class\x3d"textControls clone text"\x3e\x3c/div\x3e');g.css("font-size",100*L+"%").css("color",c?"white":"black").append(e);return g}
f.jA=function(a){function b(a){var h=void 0!==a.clientX?a.clientX:a.touches[0].clientX;a=void 0!==a.clientY?a.clientY:a.touches[0].clientY;if(d.ll)return y.off("mousemove|touchmove",b).off("mouseup|touchend",c),l&&l.remove(),g.removeClass("picked"),d.ll=!1,e.css("opacity",1),!1;if(null==l)if(Bu(y)){var aa=Pg(v,w,h,a);if(300<aa||60>aa)l=rB(d,e),e.css("opacity",0),$("#content").append(l),g.addClass("pickedUp");else return!0}else if(4<Math.abs(h-v)||4<Math.abs(a-w))l=rB(d,e),e.css("opacity",0),$("#content").append(l),
g.addClass("pickedUp");null!=l&&(aa=k.top+a-w,l.css("left",k.left+h-v).css("top",aa),aa=Math.min(1,Math.sqrt(Math.pow(h-v,2)+Math.pow(a-w,2))/x),l.css("font-size",100*(1+(p-1)*aa)+"%").css("color",Dg(new Bg,B.r+Math.round(aa*(H.r-B.r)),B.g+Math.round(aa*(H.g-B.g)),B.b+Math.round(aa*(H.b-B.b))).X()),(h<n.left||h>n.left+m.outerWidth()||a<n.top||a>n.top+m.outerHeight())&&l&&!l.hasClass("disappeared")&&!l.hasClass("placing")&&dd(r,l)?(null==z&&(z=new ed(l,q)),gd(z,A,G)):$("#overlays .align").removeClass("on"));
return!1}function c(a){function h(){$(this).remove();e.css("visibility","visible").css("opacity","");g.removeClass("pickedUp")}function k(){setTimeout(function(){e.one("transitionend",function(){$(this).removeClass("reappearing")}).css("visibility","").addClass("reappearing").css("opacity","");g.removeClass("pickedUp")},20)}function p(a){x===a&&(E.off("elementLoaded",q),E.off("elementLoadingError",p))}function q(a){x===a&&(E.off("elementLoaded",q),E.off("elementLoadingError",p),x.appendTo(I(d.model)),
Fc(x),Ec(x),bs(x.C()),l.remove(),k())}y.off("mousemove|touchmove",b).off("mouseup|touchend",c);$("#overlays .align").removeClass("on");$("#content").trigger("mousedown");M();var A=void 0!==a.clientX?a.clientX:a.changedTouches[0].clientX;a=void 0!==a.clientY?a.clientY:a.changedTouches[0].clientY;if(null==l&&4>Math.abs(A-v)&&4>Math.abs(a-w))return!1;if(null!=l)if((A<n.left||A>n.left+m.outerWidth()||a<n.top||a>n.top+m.outerHeight())&&l&&!l.hasClass("disappeared")&&dd(r,l)){A=e.data("style");a={type:"text",
style:A,left:z.N(),top:z.K(),width:z.A()*Qt.Bs,html:e.text(),placeholderText:e.text()};_.extend(a,d.ie(A));a.fontSize*=Da.ee;var x=Cc(a);E.on("elementLoaded",q);E.on("elementLoadingError",p)}else null==l||l.hasClass("disappeared")?null!=l&&l.hasClass("disappeared")&&k():(A=e.offset(),l.addClass("returning"),l.one("transitionend",h).css("left",A.left).css("top",A.top).css("font-size","100%").css("color","white"))}if(3!==a.which){var d=this,e=$(a.currentTarget),g=e.parent("li"),h=$(a.currentTarget).data("style"),
k=e.offset(),l=null,m=$("#objectPanel"),n=m.offset(),h=this.ie(h);h.fontSize*=Da.ee;var p=1/(parseFloat(e.get(0).style.fontSize)/bb*sB(this)/h.fontSize)*L,r=Zu(),q=r.offset(),v=void 0!==a.clientX?a.clientX:a.touches[0].clientX,w=void 0!==a.clientY?a.clientY:a.touches[0].clientY,x=Math.abs(v-(n.left+m.outerWidth())),y=new S($(document));y.on("mousemove|touchmove",b).on("mouseup|touchend",c);var z=null,G=fd(),A={};a=I(this.model).hm();var B=Dg(new Bg,255,255,255),H=new Bg;h.color&&"auto"!==h.color?
H=Q(h.color)||H:a?Dg(H,255,255,255):Dg(H,0,0,0);d.ll=!1;return Vu}};function tB(a,b){var c=a.$el.find("a[data-style\x3d"+b+"]");return c.offset().top+c.height()/2}
function uB(a,b){var c=$.extend(!0,{},a.model.ih[b]),d=$.extend(!0,{},a.model.gj[b]),c=new Ww(c);a.$el.addClass("editing");a.$el.find("a").removeClass("active").addClass("editing");a.$el.find("a[data-style\x3d"+b+"]").addClass("active");a.Le=new vB({model:c,yf:new Ww(d),nc:xa,root:$("#content"),Po:!0,Gp:[wB,xB,yB,zB],$c:a.model,Ka:a.Ka,L:a.L});a.Le.render();a.Le.$el.appendTo("#content").css("left",a.$el.offset().left+a.$el.outerWidth()+20).css("top",tB(a,b)-a.Le.$el.outerHeight()/2);a.Fy=c;a.currentStyle=
b;a.listenTo(a.Fy,"change",a.kB)}f.kB=function(a){var b=this.model;a=a.serialize();var c=$.extend(!0,{},b.ih[this.currentStyle]);Ai(b,this.currentStyle,a);C.register(new zv(1,{style:this.currentStyle,"new":a,old:c}))};
f.oy=function(a){if(!(0<this.Vn)){var b=this;a=$(a.currentTarget);var c=a.data("style"),d=tB(this,c)-this.Le.$el.outerHeight()/2;this.$el.find("a").removeClass("active");a.addClass("active");this.Vn++;this.Le.$el.animate({top:d},300,function(){var a=b.Le;uB(b,c);b.Le.$el.addClass("borderLess");setTimeout(function(){b.Le&&b.Le.$el.removeClass("borderLess");a&&a.remove();b.Vn--},500)});return!1}};
function sB(a){return parseFloat(getComputedStyle(a.el.querySelector("ul")).fontSize)/parseFloat(getComputedStyle(a.el).fontSize)};function AB(){}AB=gB.extend();f=AB.prototype;f.initialize=function(a){this.Ja=a.Ja;this.ng=a.ng;this.Of=this.ap=this.Co=!1;this.Fg=a.Fg;this.mb=0;this.td=a.td;a.model=new zw;gB.prototype.initialize.call(this,a);this.model.gd(BB());this.listenTo(this.model,"results:didFetch",this.hC);this.listenTo(this.$a[0],"results:render",this.Er)};function BB(){var a=al(Yk()).ea();return new Cw(new Mw({Kb:a.F(),Ac:pa,Qa:t.ja.getName(),ps:new eq(va)}))}
function CB(){var a=new Iw(new Ks(va),t.ja);return new Cw(a,"Canva layouts")}f.Cc=function(a){this.Of=!0;this.mb=a;Bw(this.model).Cc(a)};f.hC=function(a){Bw(this.model).ci||this.ap?this.Co=!0:(this.ap=!0,this.model.gd(CB()),(this.Co=0<a.ze.length)||this.$a[0].remove(),Bw(this.model).Cc(this.mb))};f.reset=function(){this.ap=this.Of=!1;for(var a=this.model;Bw(a);)a.yk(Bw(a));this.model.gd(BB())};f.Er=function(){this.Ja&&!this.Fg&&this.$a[0].Er(this.Ja,this.ng,this.td)};function DB(){}DB=gB.extend();DB.uh=function(a,b){return new aB({model:a,Eh:"infoPanelGallery photoGallery",L:b})};DB.prototype.initialize=function(a){this.Of=!1;a.model=new zw;gB.prototype.initialize.call(this,a);var b=new Cw(new Lw({Ac:pa,Ea:a.Ea,Kb:a.Kb}));this.model.gd(b);a.uh=DB.uh(b,a.L)};DB.prototype.Cc=function(a){this.Of=!0;Bw(this.model).Cc(a)};function EB(){}EB=gB.extend();EB.prototype.initialize=function(a){this.Of=!1;a.model=new zw;gB.prototype.initialize.call(this,a);this.model.gd(GB())};function GB(){var a;a=new Iw(new Ks(va),t.ja);return new Cw(a)}EB.prototype.Cc=function(a){this.Of=!0;Bw(this.model).Cc(a)};EB.prototype.reset=function(){var a=Bw(this.model);this.Of=!1;this.model.yk(a);this.model.gd(GB())};function Rt(){}Rt=Backbone.View.extend();f=Rt.prototype;f.initialize=function(a){this.Ja=a.Ja;this.Kb=a.Kb;this.ng=a.ng;this.Fg=a.Fg;this.Zh=void 0;this.td=a.fA.reduce(function(a,c){a[c.template]=Pu(c);return a},{});this.Um=[];this.Cr=!!a.Cr;this.Ik=!!a.Ik;this.Ea=a.Ea;this.L=a.L;this.render();this.Cr?HB(this):IB(this);this.Ik&&JB(this);KB(this);this.$el.data("view",this);this.listenTo(this.model,"resize",this.Pv)};f.events=function(){return{"touchClick .templateGallery .info .moreInfo":this.iy,"touchClick .templateGallery a":this.py}};
f.Fq=_.template('\x3csection class\x3d"tab"\x3e\x3csection class\x3d"layer scrollPane"\x3e\x3cdiv class\x3d"inner"\x3e\x3cdiv class\x3d"searchLoaderHolder"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/section\x3e\x3c/section\x3e');f.template=_.template('\x3c% if (showControls) { %\x3e\x3cdiv class\x3d"layoutsControls"\x3e\x3c% if (showTabs) { %\x3e\x3cul class\x3d"layoutsTabs"\x3e\x3cli\x3e\x3ca href\x3d"#" class\x3d"objectPanelLayoutsTab"\x3eLayouts\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca href\x3d"#" class\x3d"objectPanelDesignsTab"\x3eYour designs\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c/div\x3e\x3c% } %\x3e\x3csection class\x3d"layoutsTabContainer tabContainer"\x3e\x3c/section\x3e');
f.Lq=function(a){var b=this.$(".layoutsControls");a=a.currentTarget.scrollTop;var c=2*(50-a)/100;200>=a?b.css("transform","translateY(-"+a+"px)").css("opacity",c):b.css("transform","translateY(-200px)").css("opacity","0")};function HB(a){var b;b=$(a.Fq());b.addClass("layoutsPanel");b.find(".scrollPane").on("scroll",a.Lq.bind(a));a.$(".tabContainer").append(b);a.Zh=new AB({Ja:a.Ja,ng:a.ng,el:b.find(".layer"),Fg:a.Fg,td:a.td,L:a.L});a.Um.push(a.Zh)}
function JB(a){var b;b=$(a.Fq());b.addClass("designsPanel");b.find(".scrollPane").on("scroll",a.Lq.bind(a));a.$(".tabContainer").append(b);a.Um.push(new DB({el:b.find(".layer"),Ea:a.Ea,Kb:a.Kb,Qa:a.model.ja.getName(),L:a.L}))}function IB(a){var b;b=$(a.Fq());b.find(".scrollPane").on("scroll",a.Lq.bind(a));a.$(".tabContainer").append(b);a.Zh=new EB({el:b.find(".layer"),L:a.L});a.Um.push(a.Zh)}
function KB(a){var b=a.$(".layoutsTabs"),b=new oA({Ag:!1,Jd:a.$(".tabContainer"),Pd:b});b.on("change",a.yC,a);b.init()}f.Cc=function(a){LB(this).Cc(a)};function LB(a){var b=Math.max(0,a.$(".layoutsTabs \x3e .on").index());return a.Um[b]}
f.py=function(a){M();if($(a.target).is(".moreInfo"))return!1;a=$(a.currentTarget);var b=a.parents("li").data("view"),c=b.model;this.$(".gallery li.on").removeClass("on");c.Re?(eA(c),b.$el.addClass("on")):c.Sa?(fA(c),b.$el.addClass("on")):c.je&&(1===c.je().content.pages.length?(dA(this,c),b.$el.addClass("on")):a.hasClass("infoOpen")?Hl():(b=document.createElement("span"),$(b).css("visibility","hidden").css("width",0).css("height",0),a.append(b),eu.call(b,this.L)));return!1};
f.iy=function(a){return eu.call(a.currentTarget,this.L)};function dA(a,b){var c=b.T(0),d=new qg({type:Xm,id:b.F(),version:b.S()}),e=d.serialize();e&&OA(c,e);null!==a.Ja&&a.td.hasOwnProperty(b.F())&&(e={},e[a.td[b.F()].Tl()]="#"+a.Ja,NA(null,c,e));c=new ii(t,c);mw({vo:lw(c),Qa:t.ja,page:c});MB(I(t),ng(c.serialize()),lj(b,0),d)}
function eA(a){var b=I(t),c=og(new mg,a.Re());if(qq(a)){a=b.A();var d=b.B(),e=0<qi(b).length,g=c.elements&&c.elements[0];if(g){var h=g.spacing;void 0===h&&(h=10);_.extend(g,lp(a,d,h,e).serialize())}}MB(b,c)}function fA(a){var b=I(t);a.Kf(function(c){if(c&&c.content&&c.content.pages){var d=new mg({id:a.F(),version:a.S(),price:Rs(a),title:a.Aa(),keywords:a.Te()});$.extend(!0,d,_.omit(c.content.pages[0],"layout"));MB(b,d,a.zg())}});Ps(La,Zs(a))}
function MB(a,b,c,d){var e={"new":b,old:a.bj(),pageIndex:a.V()};yv(a,b,c,d);C.register(new xv(4,e))}f.render=function(){this.$el.html(this.template({showControls:this.Ik,showTabs:this.Ik}));return this};f.Pv=function(){this.Zh.reset();LB(this)===this.Zh&&this.Cc(uu(this.$el,this.$el.height()))};f.yC=function(){LB(this).Of||this.Cc(uu(this.$el,this.$el.height()))};function NB(){}NB=Backbone.View.extend({attributes:{title:"Resize your design"},className:"resizeControl"});NB.zs="a4 adLargeRectangle adLeaderboard adMediumRectangle adWideSkyscraper albumCover blogGraphic blogTitle businessCard card custom emailHeader facebookAd facebookApp facebookCover facebookPost foodDrinkMenu gPlusHeader instagramPost invitation kindleCoverSmall photoCollage pinterest poster posterUS presentation presentationWide realEstateFlyer socialMediaGraphic twitterHeader twitterPost usLetter youtubeChannelArt".split(" ");
NB.Uw=5E3;NB.Ww=40;NB.cE=function(a){return-1<NB.zs.indexOf(a)};function OB(a,b,c){a=a.$(b);b=Number(a.val());b=Math.round(b);b=Math.max(NB.Ww,b);b=Math.min(NB.Uw,b);b=isNaN(b)?c:b;a.val(b)}f=NB.prototype;f.events=function(){return{"change input":this.$u,"change select":this.cB,"keypress input":this.eB}};f.Vl=function(){var a=this.$("select").val(),b=pg(a);"custom"===a&&(b.W(Number(this.$("input[name\x3dheight]").val())),b.Z(Number(this.$("input[name\x3dwidth]").val())));return b};
f.initialize=function(){this.listenTo(this.model,{"page:add":this.render,"page:remove":this.render,resize:this.update})};f.sm=function(){var a;a=this.Vl();_.isEqual(a,this.model.ja)||this.trigger("change",a)};f.cB=function(){var a="custom"===this.$("select").val();a||this.sm();this.$("select").blur();this.$el.toggleClass("resizeControlCustom",a)};f.$u=function(){var a=this.model.ja;OB(this,"input[name\x3dheight]",a.B());OB(this,"input[name\x3dwidth]",a.A());this.sm()};
f.eB=function(a){13===a.which&&this.$u()};f.render=function(){this.$el.html(this.template(this.rc()));this.update();return this};f.rc=function(){var a=1===this.model.Yl();return{options:NB.zs.filter(function(b){return a||md[b].multiPage}).map(function(a){return{value:a,text:md[a].name}}).sort(function(a,c){return a.text.toLowerCase().localeCompare(c.text.toLowerCase())})}};f.template=_.template('\x3cselect\x3e\x3c% options.forEach(function (option) { %\x3e\x3coption value\x3d"\x3c%\x3d option.value %\x3e"\x3e\x3c%- option.text %\x3e\x3c/option\x3e\x3c% }); %\x3e\x3c/select\x3e\x3cspan class\x3d"resizeControlLabel"\x3eResize your design\x3c/span\x3e\x3cdiv class\x3d"resizeControlDimensions"\x3e\x3cinput name\x3d"width" type\x3d"text" title\x3d"Width"\x3e\x3cspan\x3e\x26times;\x3c/span\x3e\x3cinput name\x3d"height" type\x3d"text" title\x3d"Height"\x3e\x26#x2002;-\x26#x2002;Resize\x3c/div\x3e');
f.update=function(){var a=this.model.ja,b=a.getName(),c="custom"===b;this.$("input[name\x3dheight]").val(a.B());this.$("input[name\x3dwidth]").val(a.A());this.$("select").val(b);this.$el.toggleClass("resizeControlCustom",c)};function Wt(a){this.fk=this.fk.bind(this);this.qq=this.qq.bind(this);this.df=this.df.bind(this);this.element=a;this.element.on({dragenter:this.fk,dragover:this.qq,drop:this.df})}_.extend(Wt.prototype,Backbone.Events);Wt.prototype.trigger=Backbone.Events.trigger;Wt.prototype.fk=function(){1===$("#objectPanel \x3e menu \x3e .uploads.on").length||$("#objectPanel \x3e menu \x3e .uploads \x3e a").click();this.trigger("dragenter")};
Wt.prototype.qq=function(a){a.originalEvent.dataTransfer.dropEffect="copy";a.preventDefault()};Wt.prototype.df=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}a.preventDefault();a.stopPropagation();b&&b.length&&this.trigger("drop",b);return!1};function PB(){}PB=Backbone.View.extend({className:"uploadsFolderItem"});f=PB.prototype;f.events=function(){return{click:this.cf,dragstart:this.Jg,mousedown:this.Ng}};f.initialize=function(a){this.wa=a.wa;this.model=a.model;this.root=a.root};f.cf=function(){this.wa.Cs(this.model)};f.Jg=function(a){a.preventDefault();return!1};f.Ng=function(a){return 3===a.which||this.Lr(a)};f.vq=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this;b?setTimeout(c,600):(this.cf(),c())};
f.render=function(){this.$el.addClass("uploadsFolderItemLoading");this.$el.html(this.template());this.zk();return this};f.zk=function(){var a,b,c=this;a=this.model.sb().B()/this.model.sb().A();b=this.$(".uploadsFolderItemThumbnail");b.css("padding-bottom",100*a+"%");a=b.find("img");a.one("load",function(){c.$el.removeClass("uploadsFolderItemLoading")});Fa(a,this.model.sb().ca())};
f.Lr=function(a){var b=this.el.getBoundingClientRect(),c=a.clientX,d=a.clientY,e=this.$el.clone().off(),c=new K(c,d,c,d),b=$c(b);if(this.root){this.$el.addClass("uploadsFolderItemDragging");var d=this.wa,g=this.model;Zc(d,Hc(g),b,e,c,d.Cs.bind(d,g));this.qs(a)}return!1};f.template=_.template('\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e');
f.qs=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(e=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.vq(a,e)}var d=this,e=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function QB(a){this.wa=a.wa;this.nd=a.nd;this.Sc=!1;this.Dp=!0;this.Y=new RB;this.offset=0;this.view=new SB;this.view.on({retry:this.fetch,signIn:this.authorize},this)}f=QB.prototype;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.authorize=function(){Wp(this.nd).then(this.view.tw.bind(this.view,!1)).then(this.fetch.bind(this)).catch(function(){})};
f.Lx=function(){return Xp(this.nd).catch(function(){throw new TB;})};f.fetch=function(){function a(){b.Sc=!1}var b=this;!b.Sc&&b.Dp&&(this.Sc=!0,this.view.dd(!0),this.view.gh(!1),this.mF().bind(this).then(this.Lx).then(this.Ml).finally(a).then(this.bC).catch(TB,this.$B).catch(UB,this.nC).catch(this.cC))};f.wj=function(){this.fetch()};f.Ml=function(){return this.nd.$l(this.offset,25)};f.oc=function(){return this.view.$el};f.le=function(){return this.Y.le()};f.gu=function(){return this.Dp};
f.$B=function(){this.view.dd(!1);this.view.tw(!0)};f.bC=function(a){var b,c=this;b=$(a.map(function(a){return(new PB({wa:c.wa,model:a,root:$(window)})).render()}).map(function(a){return a.el}));Rc(this.wa,a);this.Dp=0<a.length;this.Fm("uploadsItemAppearing",b,2200);this.Y.push(b);this.offset+=a.length;this.view.dd(!1);this.view.fh(1>this.Y.qd().length&&1>a.length);this.trigger("fetch")};f.cC=function(){this.view.dd(!1);this.view.gh(!0)};f.nC=function(){this.view.dd(!1);this.view.gh(!0)};
f.Fm=function(a,b,c){b.addClass(a);b.on("animationend",function e(){$(this).off("animationend",e);$(this).removeClass(a)});setTimeout(function(){b.removeClass(a)},c)};f.remove=function(){this.stopListening()};f.render=function(){this.view.render();this.view.$el.prepend(this.Y.$el);return this};
f.mF=P.method(function(){function a(){return P.try(function(){return"INITIALIZED"===b.nd.lb()||P.delay(500).then(a).cancellable()})}var b=this;return a().timeout(2500).catch(P.TimeoutError,function(){throw new UB;})});function TB(){}TB.prototype=Object.create(Error.prototype);function UB(){}UB.prototype=Object.create(Error.prototype);function SB(){}SB=Backbone.View.extend({className:"facebookPhotos uploadsFolderContent"});f=SB.prototype;f.yh=_.template('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3eIt looks like you don\'t have any Facebook photos.\x3c/p\x3e');f.zh=_.template('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3eHmm, we weren\'t able to fetch your Facebook photos.\x3cbutton class\x3d"button facebookPhotosRetry"\x3eTry again\x3c/button\x3e\x3c/p\x3e');
f.events=function(){return{"click .buttonFacebook":this.lB,"click .facebookPhotosRetry":this.jC}};f.initialize=function(){this.kd=new sA};f.lB=function(){this.trigger("signIn")};f.jC=function(){this.trigger("retry")};f.render=function(){this.$el.append(this.kd.render().$el);return this};f.nE=_.template('\x3cdiv class\x3d"facebookPhotosSignIn"\x3e\x3cp\x3eSign in to your Facebook account to use your photos in your designs.\x3c/p\x3e\x3cbutton class\x3d"button buttonFacebook"\x3eUse Facebook photos\x3c/button\x3e\x3c/div\x3e');
f.dd=function(a){a?this.kd.show():this.kd.hide()};f.fh=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a?1>b.length&&this.$el.append(this.yh()):b.remove()};f.gh=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(this.zh()):b.remove()};f.tw=function(a){var b=this.$(".facebookPhotosSignIn");a?1>b.length&&this.$el.append(this.nE()):b.remove()};function VB(){}VB=Backbone.View.extend({className:"uploadsFolderInfo uploadsInfo"});f=VB.prototype;f.events=function(){return{"click .uploadsInfoTrash":this.trigger.bind(this,"trash")}};f.initialize=function(a){this.oa=a.oa;this.L=a.L;this.Ea=a.Ea};f.render=function(){this.$el.html(this.template(this.rc()));return this};
f.rc=function(){var a=ob(this.L),b=this.oa.hb()===this.Ea,c=this.oa.shared,d;d=this.oa.Mb();d=a.format("objectPanelUploadsPanelFolderInfoHeader",d);return{isOwner:b,isShared:c,headerMessage:d,itemCount:a.format("objectPanelUploadsPanelFolderInfoItemCount",this.oa.itemCount),youSharedMessage:a.format("objectPanelUploadsPanelFolderInfoYouShared"),sharedWithYouMessage:a.format("objectPanelUploadsPanelFolderInfoSharedWithYou"),trashLabel:a.format("objectPanelUploadsPanelFolderInfoTrashLabel")}};
f.template=_.template('\x3ch3\x3e\x3c%- headerMessage %\x3e\x3c/h3\x3e\x3cp class\x3d"uploadsFolderInfoItemCount"\x3e\x3c%- itemCount %\x3e\x3c/p\x3e\x3c% if (isShared \x26\x26 isOwner) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- youSharedMessage %\x3e\x3c/p\x3e\x3c% } else if (isShared) { %\x3e\x3cp class\x3d"uploadsFolderInfoShared"\x3e\x3c%- sharedWithYouMessage %\x3e\x3c/p\x3e\x3c% } %\x3e\x3c% if (isOwner) { %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3e\x3c%- trashLabel %\x3e\x3c/button\x3e\x3c% } %\x3e');function WB(){}WB=Backbone.View.extend({className:"uploadsFolderItemInfo uploadsInfo"});f=WB.prototype;f.events=function(){return{"click .uploadsInfoDownload":this.trigger.bind(this,"download"),"click .uploadsInfoTrash":this.trigger.bind(this,"trash"),"change select":this.SE}};f.initialize=function(a){this.Mo=a.Mo;this.oa=a.oa;this.Ua=a.Ua;this.item=a.item};function XB(a){var b=a.$("select").val();return a.Ua.filter(function(a){return a.F()===b})[0]}
f.render=function(){this.$el.html(this.template(this.rc()));this.$("select").val(this.oa.F());return this};f.rc=function(){return{downloadLink:this.Mo,item:this.item,options:this.Ua.map(function(a){return _.extend({},a,{name:a.Mb()})}).map(this.HC)}};f.SE=function(){this.trigger("move",XB(this))};f.HC=_.template('\x3coption value\x3d"\x3c%- id %\x3e"\x3e\x3c%- name %\x3e\x3c/option\x3e');f.template=_.template('\x3c% if (item.name) { %\x3e\x3ch3\x3e\x3c%- item.name %\x3e\x3c/h3\x3e\x3c% } %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoTrash"\x3eTrash\x3c/button\x3e\x3cselect\x3e\x3c%\x3d options %\x3e\x3c/select\x3e\x3c% if (downloadLink) { %\x3e\x3ca class\x3d"uploadsInfoDownload" title\x3d"Download original file"\x3e\x26#11015;\x3c/a\x3e\x3c% } %\x3e');function YB(){}YB=Backbone.View.extend({className:"uploadsFolderItem"});f=YB.prototype;f.initialize=function(a){this.wa=a.wa;this.disabled=!1;this.model=a.model;this.ei=a.ei;this.Kd=void 0;this.root=a.root;(this.Db=a.Db)&&this.listenTo(this.Db,{complete:this.CC,fail:this.DC,update:this.Aw})};f.events=function(){return{click:this.cf,dragstart:this.Jg,mousedown:this.Ng}};
f.cf=function(a){var b=a.target.classList.contains("uploadsInfoButton");if(!this.disabled)if(b)this.trigger("infoClick",this.model);else{var b=!1,c=this.model.Na();a.target&&$(a.target).is("img")?b=hd(a.target):1===$(a.target).find("img").length&&(b=hd($(a.target).find("img").get(0)));c?this.wa.Es(c,void 0,void 0,b):this.Db&&this.Db.Na()&&this.wa.Fs(this.Db,void 0,void 0,b)}};f.CC=function(){this.Kd.remove();this.Kd=void 0;this.stopListening(this.Db)};
f.DC=function(){this.Rd(!0);this.Kd.$el.addClass("uploadProgressBarFail");this.stopListening(this.Db);setTimeout(this.dw.bind(this),1E3);setTimeout(this.trigger.bind(this,"uploadFail"),5350)};f.Jg=function(a){a.preventDefault();return!1};f.Ng=function(a){var b=a.target.classList.contains("uploadsInfoButton"),c=3==a.which;return this.disabled||c||b||a.ctrlKey||this.Lr(a)};
f.vq=function(a,b){function c(){d.$el.removeClass("uploadsFolderItemDragging")}var d=this,e=this.el.getBoundingClientRect();b?(Yc(this.wa,$c(e)),setTimeout(c,600)):(this.cf(a),c())};
f.render=function(){this.$el.addClass("uploadsFolderItemLoading");this.$el.html(this.template(this.model));this.$el.toggleClass("uploadsFolderItemMovable",this.ei);this.zk();if(this.Db&&!this.Db.ec){var a=this.$(".uploadsControls");this.Kd||(this.Kd=new ZB);this.Kd.render().$el.insertBefore(a)}if(a=this.Db)a=this.Db,a=a.ec&&!a.media;a&&this.dw();return this};
f.zk=function(){function a(){d.off("load",a);e.$el.removeClass("uploadsFolderItemLoading")}var b,c,d,e=this;b=this.model.sb().B()/this.model.sb().A();c=this.$(".uploadsFolderItemThumbnail");c.css("padding-bottom",100*b+"%");d=c.find("img");d.on("load",a);b=this.model.sb().ca();Fa(d,b)};f.show=function(){this.Kd&&this.Aw()};
f.Lr=function(a){var b,c,d=this.model.Na();b=a.clientX;c=a.clientY;var e=this.$el.clone().off();e.find(".uploadProgressBar").remove();e.find(".uploadsControls").remove();this.trigger("pickedUp",this.model,e.find("img"));if(this.root){b=new K(b,c,b,c);c=$c(this.el.getBoundingClientRect());this.$el.addClass("uploadsFolderItemDragging");if(d){var g=this.wa,h;h=d.da().Sa()[Oc];h=Mc({id:d.F(),version:d.da().S(),files:{THUMBNAIL:{url:e.find("img").attr("src")},SCREEN:{url:h.ca(),width:h.A(),height:h.B()}}});
Zc(g,h,c,e,b,g.Es.bind(g,d))}else this.Db&&(d=this.wa,g=this.Db,h=e.find("img").attr("src"),h=Mc({id:g.Na().F(),version:1,files:{THUMBNAIL:{url:h},SCREEN:{url:h,width:g.Hf().width,height:g.Hf().height}}}),Zc(d,h,c,e,b,d.Fs.bind(d,g)));this.qs(a)}return!0};f.template=_.template('\x3cdiv class\x3d"uploadsFolderItemThumbnail"\x3e\x3cimg\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsControls"\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e');
f.Rd=function(a){this.disabled=a};function $B(a,b){a.ei=b;a.$el.toggleClass("uploadsFolderItemMovable",a.ei)}f.dw=function(){this.Kd&&this.Kd.remove();this.Kd=void 0;this.$el.addClass("uploadsFolderItemFailed");this.$el.find("img").attr("title","This upload failed");$B(this,!1);this.Rd(!0)};
f.Ni=P.method(function(a,b){var c=this;return a?P.try(function(){c.$el.toggleClass("doNotAnimate",!!b).addClass("doNotTransition").height(c.$el.height())}).delay(20).then(function(){c.$el.removeClass("doNotTransition").addClass("uploadsFolderItemHidden").height("")}).delay(350):(this.$el.removeClass("doNotAnimate uploadsFolderItemHidden"),P.resolve())});f.Aw=function(){aC(this.Kd,this.Db.xe)};
f.qs=function(a){function b(c){3<Math.sqrt(Math.pow(c.clientX-a.clientX,2)+Math.pow(c.clientY-a.clientY,2))&&(e=!0,d.root.off("mousemove",b))}function c(a){d.root.off("mousemove",b);d.root.off("mouseup",c);d.vq(a,e)}var d=this,e=!1;d.root.on("mouseup",c);d.root.on("mousemove",b)};function bC(a){this.kv=this.Ia=void 0;this.Eg=a.Ea===a.oa.hb();this.wa=a.wa;this.bb=null;this.xa=a.xa;this.Sc=!1;this.oa=a.oa;this.Ua=a.Ua;this.Hb=a.Hb;this.Sj=!1;this.Yc=[];this.Y=new RB;this.tb=a.tb;this.qm=!0;this.ad=a.ad;this.hh=a.hh;this.wb=a.wb;this.listenTo(this.wb,"create",this.WE);this.Ea=a.Ea;this.view=new cC({model:this.oa,disabled:a.disabled});this.listenTo(this.view,{upload:this.Tk,share:this.aE})}f=bC.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;
f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.Rc=function(){this.qu=void 0;this.ic&&(CA(this.Y,this.ic.$el),this.ic=void 0)};f.fetch=function(a){if(!this.Sc&&!this.Sj&&this.qm){var b=(new Yd).An(this.bb).lh(Xc(this.oa));b.includeMetadata=!0;a&&b.Dn(a);this.Sc=!0;this.view.dd(!0);this.Hb.eA(b).bind(this).then(this.MB).catch(this.NB)}};f.wj=function(a){a=this.Y.Zo(a);isFinite(a)?this.fetch(a):this.fetch(25)};f.oc=function(){return this.view.$el};
function dC(a,b){for(var c=0;c<a.Yc.length;c++){var d=a.Yc[c];if(d.model===b||d.Db===b)return d}return null}f.le=function(){return this.Y.le()};function eC(a){return a.wb.Zl(a.oa.F()).filter(function(b){return!dC(a,b)}).filter(function(b){return b.ec&&!b.media?!1:b.ec&&b.Na()?-1===a.hh.indexOf(b.Na().F()):!0})}f.gu=function(){return this.qm};
f.Vu=function(a,b,c){var d=dC(this,a);d&&(this.Rc(),this.view.fh(1===this.Yc.length),b=Cd(Dd(Ed(new Bd,Xc(this.oa)),[a.F()]),Xc(b)),P.settle([this.Hb.mA(b),d.Ni(!0,c)]).then(function(b){b[0].isFulfilled()?this.removeItem(a):fC(this,a)}.bind(this)))};
f.cv=function(a){function b(){var b;b=(new WB({Mo:!!e.xa.Ma.get(uc),oa:e.oa,Ua:e.Ua,item:a})).render();b.on({move:e.Vu.bind(e,a),trash:e.RE.bind(e,a),download:e.Ry.bind(e,a)});return b}function c(){var a;a=(new gC({hd:!1,kg:!0,content:d.$el,target:g.$el})).render();a.on("close",e.Rc,e);return a}var d,e=this,g;a===this.qu?this.Rc():(d=b(),g=dC(this,a),this.Rc(),this.ic=c(),BA(e.Y,g.$el,e.ic.$el),e.ic.show(),this.qu=a,e.trigger("focusChanged",this.ic.Re(),!0))};
f.MB=function(a){var b=this;Tc(this.wa,function(){return(a.qd()||[]).map(function(a){return a.Na()})}());this.bb=a.gc();this.Sc=!1;this.qm=!!this.bb;hC(this,eC(this).map(this.Ov,this));hC(this,a.qd().filter(function(a){return b.Yc.every(function(b){return b.Db&&b.Db.Na()?b.Db.Na().F()!==a.F():!0})}).filter(function(a){return-1===b.hh.indexOf(a.F())}).filter(function(a){return"MEDIA"===a.Yb()&&"FONT"!==a.Na().Yb()}).map(this.oD,this));this.view.dd(!1);this.view.fh(1>this.Yc.length);iC(this.view);this.trigger("fetch")};
function jC(a){function b(){if(!e.Eg)return e.ad.hb(e.oa.hb())}function c(){kC(e.view,!1)}function d(a,b){a&&(e.Eg||b)&&(e.kv=b?b:void 0,e.Ia=a,kC(e.view,!0),lC(e.view,!1,mC(e)))}var e=a,g;g=(new $d).lh(Xc(a.oa));a.Hb.pb(g).then(function(a){var g=a.pb();a=a.wg();g&&(e.oa=g);g="ADMIN"===a;a="OWNER"===a;var l=e.oa.pc(),m=e.oa===nC;!g&&!a||l||m?c():P.all([e.ad.ea(e.oa.ea()),b()]).spread(d).catch(c)}).catch(c)}f.NB=function(){this.Sc=!1;this.Sj=!0;this.view.dd(!1);this.view.gh(!0)};
f.uq=function(a){this.removeItem(a);this.trigger("trash",a.F())};f.FC=function(a){var b=dC(this,a);b&&(b.model=b.model.ro({id:a.Na().F()}),b.Rd(!1),$B(b,!0))};f.Fm=function(a,b,c){b.addClass(a);b.on("animationend",function e(){$(this).off("animationend",e);$(this).removeClass(a)});setTimeout(function(){b.removeClass(a)},c)};function hC(a,b){var c=$(b.map(function(a){return a.el}));a.Yc=a.Yc.concat(b);a.Fm("uploadsItemAppearing",c,2200);a.Y.push(c);b.forEach(function(a){a.show()})}
f.remove=function(){this.Yc.forEach(function(a){a.remove()});this.Zf&&this.Zf.remove();this.stopListening()};f.removeItem=function(a){a=dC(this,a);a.remove();this.Yc.splice(this.Yc.indexOf(a),1);this.view.fh(1>this.Yc.length)};f.render=function(){this.view.render();this.view.$el.prepend(this.Y.$el);return this};f.oD=function(a){a=(new YB({wa:this.wa,model:a,ei:!0,root:$(window)})).render();this.listenTo(a,{infoClick:this.cv,pickedUp:this.trigger.bind(this,"pickedUp")});return a};
f.Ov=function(a){this.listenTo(a,"start",this.FC);a=(new YB({wa:this.wa,model:Vd({id:"",thumbnail:{height:a.Hf().height,url:a.zg(),width:a.Hf().width},type:"MEDIA"}),ei:!1,root:$(window),Db:a})).render();this.listenTo(a,{infoClick:this.cv,pickedUp:this.trigger.bind(this,"pickedUp")});return a};function fC(a,b){var c=dC(a,b);c&&(c.Ni(!1),a.view.fh(!1))}f.WE=function(){function a(a){a.Rd(!0)}var b=eC(this);!this.bb&&this.qm||1>b.length||(b=b.map(this.Ov,this),b.forEach(a),oC(this,b),this.view.fh(!1))};
function oC(a,b){var c=$(b.map(function(a){return a.el}));a.Yc=b.concat(a.Yc);a.Fm("uploadsItemUploading",c,600);a.Y.unshift(c);b.forEach(function(a){a.show()})}f.Tk=function(a){this.wa.Tk(this.oa,a)};
f.aE=function(a,b){function c(a,b){"UNSHARED"===a?mC(d)&&(d.Eg||window.confirm("You will not be able to access this folder or its items after making it private."))&&(pC(d,d.Ia.F(),!1),d.view.Rd(!d.Eg),d.trigger("disabled",!d.Eg)):(pC(d,a,b),d.view.Rd(!1),d.trigger("disabled",!1))}var d=this,e;this.Ia&&(e=d.Eg?"Just me":"Just "+this.kv.Mb(),e=[{id:"UNSHARED",Ur:!mC(this),title:e},{id:this.Ia.F(),Ur:mC(this),title:this.Ia.Mb()||"My team"}],this.Zf&&(d.stopListening(this.Zf),this.Zf.remove()),this.Zf=
new qC({iq:!0,title:"Share folder…"}),rC(this.Zf,e),this.Zf.Br(a,b),this.listenTo(this.Zf,"change",c))};function pC(a,b,c){function d(){lC(e.view,!1,mC(e))}var e=a;c=c?"EDITOR":void 0;lC(e.view,!0);b=Td(a.oa,b,c);a.Hb.cs(b).then(function(a){a&&a.pb()&&a.pb().F()===e.oa.F()?(e.oa=a.pb(),lC(e.view,!1,mC(e))):d()}).catch(d)}function mC(a){return 0<(a.oa.Fh()&&a.oa.Fh().getEntries()||[]).filter(function(b){return a.Ia&&b.ea()===a.Ia.F()&&"EDITOR"===b.wg()}).length}
f.RE=function(a){function b(){return c().then(function(a){return Gs(g.tb,a.F(),a.da().S())})}function c(){return P.try(function(){return a.Na()||Cs(g.tb,a.F(),ys(new $n))})}function d(b){b.isFulfilled()?g.uq(a):fC(g,a)}var e=dC(this,a),g=this;e&&(this.Rc(),P.settle([b(),e.Ni(!0)]).get(0).then(d))};
f.Ry=function(a){var b=this;(function(){var c=a.F(),d=new $n;d.includeImportFileUrl=!0;d=ys(d);return Cs(b.tb,c,d)})().then(function(a){a=a.da().importFileUrl;var b=$("#canvaDownloadIframe");1>b.length&&(b=$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"));b.attr("src",a)})};function cC(){}cC=Backbone.View.extend({className:"uploadsFolderContent"});f=cC.prototype;f.events=function(){return{"change .uploadsFolderContentFileInput":this.mB,"click .uploadsFolderContentUploadButton":this.BC,"click .uploadsFolderContentShareButton:not(.buttonSpinner)":this.oC}};f.initialize=function(a){this.kd=new sA;this.model=a.model;this.disabled=a.disabled};
f.render=function(){var a=this;this.$el.html(this.template());this.$el.toggleClass("uploadsFolderContentChristmas",function(){var b=a.model.Mb().toLowerCase();return-1<["christmas","xmas","x-mas"].indexOf(b)}());this.$el.append(this.kd.render().$el);this.Rd(this.disabled);return this};f.mB=function(){var a;a=this.$(".uploadsFolderContentFileInput")[0].files;a.length&&this.trigger("upload",a)};f.oC=function(a){var b=a.target.getBoundingClientRect();this.trigger("share",b.right,b.top+b.height/2);$(a.target).blur()};
f.BC=function(){this.$(".uploadsFolderContentFileInput").click()};f.dd=function(a){a?this.kd.show():this.kd.hide()};f.Rd=function(a){this.disabled=a;this.$el.toggleClass("uploadsFolderContentDisabled",a);this.$el.find(".uploadsFolderContentUploadButton").prop("disabled",a)};f.fh=function(a){var b=this.$(".uploadsFolderContentEmptyMessage");a?1>b.length&&this.$el.append(this.yh()):b.remove();this.$el.toggleClass("uploadsFolderContentEmpty",a)};
f.gh=function(a){var b=this.$(".uploadsFolderContentErrorMessage");a?1>b.length&&this.$el.append(this.zh()):b.remove()};function kC(a,b){var c=a.$(".uploadsFolderContentShareButton");b?1>c.length&&a.$el.prepend(a.$D()):c.remove();a.$el.toggleClass("uploadsFolderContentShareable",b)}function iC(a){if(1>a.$(".uploadsFolderContentUploadButton").length){var b=$(a.dF()).prop("disabled",a.disabled);a.$el.prepend(b)}}
function lC(a,b,c){a=a.$(".uploadsFolderContentShareButton");a.toggleClass("buttonSpinner",b);a.toggleClass("uploadsFolderContentShareButtonShared",c)}f.yh=_.template('\x3cp class\x3d"uploadsFolderContentEmptyMessage"\x3e...or drag an image from your desktop.\x3c/p\x3e');f.zh=_.template('\x3cp class\x3d"uploadsFolderContentErrorMessage"\x3eOh dear, we weren\'t able to get the content of this folder. Try reopening it.\x3c/p\x3e');f.template=_.template('\x3cinput class\x3d"uploadsFolderContentFileInput" type\x3d"file" accept\x3d"image/jpeg,image/png,image/raw,image/svg+xml,image/x-fuji-raf" multiple\x3e');
f.$D=_.template('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentShareButton"\x3eShare with\x26hellip;\x3cspan class\x3d"spinner"\x3eUpdating\x26hellip;\x3c/span\x3e\x3c/button\x3e');f.dF=_.template('\x3cbutton class\x3d"button buttonBlock uploadsFolderContentUploadButton"\x3eUpload an image\x3c/button\x3e');function sC(){}sC=Backbone.View.extend({className:"uploadsFolder"});f=sC.prototype;f.close=function(){this.$el.removeClass("uploadsFolderOpen")};
f.events=function(){return{"blur .uploadsFolderName \x3e input":this.WB,"click .uploadsFolderName \x3e span":this.VB,"click .uploadsFolderThumbnail":this.ev,dragenter:this.fk,dragleave:this.hB,dragstart:this.Jg,drop:this.df,"mouseover .uploadsFolderThumbnail":this.AC,"mouseout .uploadsFolderThumbnail":this.zC,"focus .uploadsFolderName \x3e input":this.XB,"keypress .uploadsFolderName \x3e input":this.YB}};
f.initialize=function(a){this.hd=a.hd;this.aj=a.aj;this.Ja=a.Ja;this.disabled=!1;this.model=a.model;this.gi=!1;this.zm=-1;this.Mv=!1;this.bn=a.bn};function tC(a,b,c){a=a.el.getBoundingClientRect();return b>=a.left&&b<=a.right&&c>=a.top&&c<=a.bottom}
function uC(a){function b(){return k.model.F().split("").reduce(function(a,b){return a+b.charCodeAt(0)},0)}var c="rgba(159, 109, 218, 1);rgba(250, 204, 51, 1);rgba(235, 78, 135, 1);rgba(80, 154, 210, 1);rgba(243, 149, 48, 1);rgba(226, 70, 51, 1);rgba(126, 198, 100, 1);rgba(49, 70, 146, 1)".split(";"),d=!!a.model.F(),e=!!a.model.sb(),g=!!a.model.pc(),h="LOGOS"===a.model.pc(),k=a;return e?"":h&&a.Ja?"#"+a.Ja:d&&!g?c[b()%c.length]:"rgba(217, 218, 221, 1)"}
function vC(a,b,c){return a.hd&&tC(a,b,c)&&!a.Pf()}f.Pf=function(){return this.$el.hasClass("uploadsFolderOpen")};f.fk=function(a){this.hd&&(this.$el.addClass("uploadsFolderDropping"),this.Pf()||(clearTimeout(this.zm),this.zm=setTimeout(this.ev.bind(this,a),1E3)))};f.hB=function(a){tC(this,a.originalEvent.clientX,a.originalEvent.clientY)||(clearTimeout(this.zm),this.zm=-1,this.$el.removeClass("uploadsFolderDropping"))};f.Jg=function(a){a.preventDefault();return!1};
f.df=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}this.$el.removeClass("uploadsFolderDropping");b&&b.length&&this.hd&&!this.disabled&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",this.model,b))};f.VB=function(){this.disabled||(this.aj?wC(this,!0):this.trigger("click",this.model))};f.WB=function(){this.gi&&(this.gi=!1,xC(this))};f.XB=function(){this.gi=!0};f.YB=function(a){13===a.which&&xC(this)};
f.ev=function(a){this.disabled||(a=a.target.classList.contains("uploadsInfoButton"),this.trigger(a?"infoClick":"click",this.model))};f.AC=function(){this.$el.addClass("uploadsFolderHover")};f.zC=function(){this.$el.removeClass("uploadsFolderHover")};f.open=function(){this.$el.addClass("uploadsFolderOpen")};
f.render=function(){var a=!this.aj||this.disabled;this.gi=!1;this.$el.toggleClass("uploadsFolderAllowDrop",this.hd);this.$el.toggleClass("uploadsFolderStaticName",a);this.$el.attr("title",this.model.Mb());this.$el.html(this.template(this.rc()));this.zk();wC(this,this.Mv);return this};
f.zk=function(){function a(){c.off("load",a);e.$el.removeClass("uploadsFolderLoading")}var b,c,d=!1,e=this;b=this.$(".uploadsFolderThumbnail");b.addClass(function(){var a=e.model.sb();return a&&a.B()>a.A()?"uploadsFolderThumbnailPortrait":"uploadsFolderThumbnailLandscape"}());b.css("background-color",uC(this));b.toggleClass("uploadsFolderThumbnailDefault",!this.model.sb());d="LOGOS"===this.model.pc();c=b.children("img");c.on("load",a);Fa(c,function(){var a=e.model.sb();return a?a.ca():d?"https://static.canva.com/static/images/logos_folder_thumbnail_transparent_bg.png":
"https://static.canva.com/static/images/default_folder_thumbnail_transparent_bg.png"}())};f.rc=function(){return _.extend({},this.model,{name:this.model.Mb(),shared:this.model.shared,showControls:this.bn})};f.show=function(){this.$el.addClass("uploadsFolderLoading")};f.template=_.template('\x3cdiv class\x3d"uploadsFolderThumbnail"\x3e\x3cimg\x3e\x3c% if (showControls) { %\x3e\x3cdiv class\x3d"uploadsControls"\x3e\x3c% if (shared) { %\x3e\x3cspan class\x3d"uploadsInfoShared"\x3eshared\x3c/span\x3e\x3c% } %\x3e\x3cbutton class\x3d"button buttonPlain uploadsInfoButton"\x3ei\x3c/button\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"uploadsFolderName"\x3e\x3cinput type\x3d"text" value\x3d"\x3c%- name %\x3e"\x3e\x3cspan\x3e\x3c%- name %\x3e\x3c/span\x3e\x3c/div\x3e');
f.Rd=function(a){this.disabled=a};f.Ni=P.method(function(a){var b=this;return a?P.try(function(){b.$el.addClass("doNotTransition");b.$el.height(b.$el.height())}).delay(20).then(function(){b.$el.removeClass("doNotTransition");b.$el.addClass("uploadsFolderHidden");b.$el.height("")}).delay(300):(this.$el.removeClass("uploadsFolderHidden"),P.resolve())});
function wC(a,b){var c;a.gi=!1;a.Mv=b;a.$el.toggleClass("uploadsFolderRenaming",b);b&&(c=a.$(".uploadsFolderName \x3e input"),c.val(a.model.getName()),c.select(),a.gi=!0)}function yC(a){var b;b=a.$(".uploadsFolderThumbnail");b.css("background-color","rgba(217, 218, 221, 1)");setTimeout(function(){b.css("background-color",uC(a))},20)}function xC(a){var b=a.$(".uploadsFolderName \x3e input").val().trim()||"Untitled";a.trigger("rename",a.model,b)};function zC(a){this.Ja=a.Ja;this.wa=a.wa;this.bb=null;this.Qo=this.zl=void 0;this.nd=a.nd;this.tj=a.tj;this.xa=a.xa;this.Sc=!1;this.Hb=a.Hb;this.pd=[];this.Sj=!1;this.Y=new RB;this.listenTo(this.Y,"redraw",this.QB);this.tb=a.tb;this.L=a.L;this.Pu=!0;this.Ic=AC(this);this.ym=this.ym.bind(this);this.ad=a.ad;this.hh=[];this.wb=a.wb;this.Ea=a.Ea;this.wl=[];this.view=new BC({root:a.root});this.listenTo(this.view,{close:this.$A,drop:this.df,drag:this.gB,dragScroll:this.iB})}
function CC(a,b,c){return a.pd.filter(function(a){return!DC(this,a.model)&&vC(a,b,c)}.bind(a))[0]}zC.prototype.$A=function(){this.Rc()};
zC.prototype.gB=function(a,b){function c(){d&&e.view.qg.addClass("uploadsFolderItemCloneOverTarget").removeClass("uploadsFolderItemCloneNotOverTarget")}var d,e=this;EC(this,a,b);d=CC(this,a,b);d!==this.zl&&(this.zl&&this.view.qg.addClass("uploadsFolderItemCloneNotOverTarget").removeClass("uploadsFolderItemCloneOverTarget"),this.zl=d,this.Qo&&clearTimeout(this.Qo),this.Qo=setTimeout(c,300))};zC.prototype.iB=function(a){this.Iq&&this.trigger("dragScroll",a)};
zC.prototype.df=function(a,b){function c(){FC(g.view,"uploadsFolderItemCloneDropping");e.$el.toggleClass("uploadsFolderDroppedOn",!0);setTimeout(function(){e.$el.toggleClass("uploadsFolderDroppedOn",!1)},500)}var d,e,g=this,h=this.Iq,k=this.vv,l=this.uv;EC(this,-1,-1);this.Iq=this.uv=this.vv=this.zl=void 0;d=(e=CC(this,a,b))&&e.model;h&&d&&d!==l&&!DC(g,d)?(c(),k.Vu(h,d,!0)):g.Rf||FC(this.view,"uploadsFolderItemCloneHidden")};
var nC=Jd({brand:"",id:"FACEBOOK",itemCount:0,modifiedDate:0,name:"Facebook",systemFolder:null,thumbnail:{height:200,url:"https://static.canva.com/static/images/upload_folder_facebook.png",width:200},user:""});f=zC.prototype;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
f.Rc=function(){var a;this.pu=void 0;this.ic&&(CA(this.Y,this.ic.$el),this.Uz=this.ic.oi,this.ic=void 0,GC(this)||this.Fi());this.Rf&&(a=this.pb(this.Rf),this.Ch.remove(),this.Ch=void 0,HC(this,a).close(),this.Rf=void 0,IC(this.view,!1))};f.ct=function(a){var b=sC,c=a.hb()===this.Ea,d=!!a.pc();a=new b({hd:!0,aj:c&&!d,Ja:this.Ja,model:a,bn:!a.pc()});this.listenTo(a,{click:this.sq,drop:this.Ew,infoClick:this.sB,rename:this.nD});a.render().show();return a};
f.xo=function(a){var b;b=(new de).dg(a.getName()).Xi("MEDIA").En(this.Ea);this.Hb.xo(b).then(this.pB.bind(this,a)).catch(this.qB.bind(this,a))};
function JC(a,b){function c(){var a;a=new QB({wa:e.wa,nd:e.nd});a.fetch();a.render();return a}function d(a){return!(!a.F()&&!a.pc())}var e=a;switch(b){case nC:return c();default:return function(){var a;a=new bC({wa:e.wa,xa:e.xa,oa:b,Ua:e.Ih().filter(d),Hb:e.Hb,tb:e.tb,ad:e.ad,hh:e.hh,wb:e.wb,Ea:e.Ea,disabled:DC(e,b)});e.tj&&jC(a);a.fetch(25);e.listenTo(a,{trash:e.uq,pickedUp:e.LB.bind(e,a,b),focusChanged:e.trigger.bind(e,"focusChanged"),disabled:e.rB.bind(e,b)});a.render();return a}()}}
function AC(a){var b;b=new KC({L:a.L});a.listenTo(b,"click",a.ZB);return b}f.fetch=function(a){var b;this.Sc||this.Sj||!this.Pu||(b=(new be).An(this.bb),b.folderTypes=["MEDIA"],b.includeSystemFolders=!0,b.includeThumbnails=!0,b=b.En(this.Ea),a&&b.Dn(a),this.Sc=!0,this.view.dd(!0),this.Hb.vz(b).bind(this).then(this.wB).catch(this.xB))};f.wj=function(a){a=this.Y.Zo(a);isFinite(a)?this.fetch(a):this.fetch(25)};f.pb=function(a){return this.Ih().filter(function(b){return b.F()===a})[0]};f.Ih=function(){return this.pd.map(function(a){return a.model})};
f.le=function(){return this.Y.le()};function LC(a){return a.Ih().filter(function(a){return(a=a.pc())&&"LOGOS"===a})[0]}function MC(a){return a.Ih().filter(function(a){return(a=a.pc())&&"UNFOLDERED"===a})[0]}
function GC(a){function b(){var a=HC(h,nC);return!a||g.eq(1).is(a.$el)||g.eq(2).is(a.$el)}function c(a){return a.childNodes.length}function d(){var a=MC(h),a=a&&HC(h,a);return!a||g.first().is(a.$el)||g.eq(1).is(a.$el)}function e(){var a=LC(h),a=a&&HC(h,a);return!a||g.first().is(a.$el)}var g=a.Y.qd(),h=a;return function(){var a=h.Y.$el.find(".uploadsLayoutColumn").get().map(c),b=[].concat(a).sort().reverse();if(b=_.isEqual(a,b))b=2>Math.max.apply(Math,a)-Math.min.apply(Math,a);return b}()&&b()&&g.last().is(h.Ic.$el)&&
d()&&e()}f.oc=function(){return this.view.$el};function HC(a,b){return a.pd.filter(function(a){return a.model===b})[0]}function NC(a){return a.Rf?a.pb(a.Rf):void 0}function DC(a,b){return _.contains(a.wl,b.F())}f.sq=function(a){a.F()===this.Rf?this.Rc():(this.Rc(),HC(this,a).open(),IC(this.view,!0),this.Ch=JC(this,a),this.Rf=a.F(),OC(this,{kg:!1,content:this.Ch.oc(),oa:a}),this.trigger("open"),this.trigger("focusChanged",HC(this,a).$el))};
f.pB=function(a,b){var c,d;c=b.pb();d=HC(this,a);d.model=c;d.Rd(!1);d.render();yC(d)};f.qB=function(a){a=HC(this,a);this.stopListening(a);this.pd.splice(this.pd.indexOf(a),1);this.Y.remove(a.$el);this.Fi()};f.sB=function(a){var b=a.F()===this.pu;this.Rc();b||(this.pu=a.F(),b=(new VB({oa:a,L:this.L,Ea:this.Ea})).render(),b.on("trash",this.QE.bind(this,a)),OC(this,{kg:!0,content:b.$el,oa:a}),this.trigger("focusChanged",this.ic.Re(),!0))};
f.uB=function(a){var b;b=this.pb(a.F());b=HC(this,b);b.model=a;b.render()};f.wB=function(a){var b;b=a.Ih();b.length&&PC(this,b);this.pb(nC.F())||(b=new sC({hd:!1,aj:!1,Ja:this.Ja,model:nC,bn:!1}),this.listenTo(b,"click",this.sq),b.render().show(),this.pd.push(b),this.Y.push(b.$el));this.Y.push(this.Ic.$el);this.bb=a.gc();this.Sc=!1;this.Pu=!!this.bb;this.Fi();this.view.dd(!1);this.trigger("fetch")};f.xB=function(){this.Sc=!1;this.Sj=!0;this.view.dd(!1);this.view.gh(!0)};
f.rB=function(a,b){b?this.wl.push(a.F()):this.wl=_.without(this.wl,a.F())};f.uq=function(a){this.hh.push(a)};f.LB=function(a,b,c,d){this.vv=a;this.uv=b;this.Iq=c;this.view.qg=d};f.QB=function(){this.Rc();this.Fi()};
f.ZB=function(){var a;a=Jd({name:"Untitled",user:this.Ea});a=this.ct(a);this.pd.push(a);this.Ic.$el.replaceWith(a.el);a.Rd(!0);wC(a,!0);this.stopListening(this.Ic);this.Ic.remove();this.Y.remove(this.Ic.$el);this.Ic=AC(this);QC(this.Ic.render());this.Y.Dm(this.Ic.$el)||this.Y.push(this.Ic.$el);this.trigger("focusChanged",this.Ic.$el);null!=F&&F.track("new_upload_folder")};f.ym=function(){this.Y.ra()};f.gv=function(){var a=MC(this),b=a&&a.F()===this.Rf;a&&!b&&this.sq(a)};
function PC(a,b){var c;c=b.map(a.ct,a);a.pd=a.pd.concat(c);c=$(c.map(function(a){return a.el}));a.Y.push(c)}f.remove=function(){$(window).off("resize",this.ym);this.stopListening();this.view.remove()};f.nD=function(a,b){var c,d;c=a.ro({name:b});d=HC(this,a);d.model=c;d.render();wC(d,!1);a.F()?(c=(new Pd).lh(Xc(a)).dg(b),this.Hb.cs(c).catch(this.uB.bind(this,a))):this.xo(c)};f.render=function(){this.Ic.render();this.view.render();this.view.$el.prepend(this.Y.$el);return this};
function EC(a,b,c){a.pd.forEach(function(a){DC(this,a.model)||a.$el.toggleClass("uploadsFolderDropping",vC(a,b,c))}.bind(a))}f.show=function(){$(window).on("resize",this.ym)};function OC(a,b){var c=b.oa===nC,d=HC(a,b.oa).$el;a.ic=(new gC({hd:!c,kg:b.kg,content:b.content,oi:a.Uz,target:d})).render();a.ic.on({close:a.Rc,drop:a.Ew.bind(a,b.oa)},a);BA(a.Y,d,a.ic.$el);a.ic.show()}
f.Fi=function(){function a(){var a=LC(e);if(a=a&&HC(e,a))d.splice(d.indexOf(a.el),1),d.unshift(a.el)}function b(){var a=HC(e,nC);a&&(d.splice(d.indexOf(a.el),1),d.unshift(a.el))}function c(){var a=MC(e);if(a=a&&HC(e,a))d.splice(d.indexOf(a.el),1),d.unshift(a.el)}var d,e=this;this.ic||(d=this.Y.qd().detach().toArray(),d.splice(d.indexOf(e.Ic.el),1),d.push(e.Ic.el),b(),c(),a(),this.Y.push($(d)))};
f.QE=function(a){function b(){var b=a.itemCount;return window.confirm(["Trashing this folder will also trash the",b,"upload"+(1===b?"":"s"),"within"].join(" "))}var c;0<a.itemCount&&!b()||(this.Rc(),c=Sd((new Pd).lh(Xc(a))),P.settle([this.Hb.cs(c),HC(this,a).Ni(!0).bind(this).then(this.Fi)]).then(function(b){b[0].isFulfilled()?(b=HC(this,a),b.remove(),this.stopListening(b),this.pd.splice(this.pd.indexOf(b),1)):(HC(this,a).Ni(!1),this.Fi())}.bind(this)))};
f.Ew=function(a,b){DC(this,a)||this.wa.Tk(a,b)};function BC(){}BC=Backbone.View.extend({className:"uploadsFolders"});BC.prototype.initialize=function(a){this.kd=new sA;this.qg=$();this.root=a.root||$(window)};BC.prototype.events=function(){return{mousedown:this.Ng}};BC.Tw=50;BC.gx=100;BC.hx=5;f=BC.prototype;
f.Ng=function(a){function b(){function b(a){var h=a.clientX;a=a.clientY;d.trigger("drag",h,a);h<BC.Tw?(e||d.trigger("close"),e=!0,d.trigger("dragScroll",0)):h>g?d.trigger("dragScroll",0):Math.abs(l-a)>BC.hx?d.trigger("dragScroll",c(h,a)):d.trigger("dragScroll",0);return!1}function k(a){d.root.off("mousemove",b);d.root.off("mouseup",k);d.trigger("dragScroll",0);d.trigger("drop",a.clientX,a.clientY)}var l=a.clientY;d.root.on("mousemove",b);d.root.on("mouseup",k);return!1}function c(a,b){var c=0,e=0,
c=BC.gx,g=new K(a,b,0,0),e=d.$el.parent(".scrollPane").get(0).getBoundingClientRect(),p=$c(e),e=g.K()-(p.K()+c),c=g.sa()-(p.sa()-c);return 0>e?Math.max(Math.floor(e/10),-10):0<c?Math.min(Math.ceil(c/10),10):0}var d=this,e=!1,g=this.el.getBoundingClientRect().right;return function(){var b=0<$(a.target).parents(".uploadsFolderItemMovable").length,c=$(a.target).hasClass("uploadsFolderItemMovable");return 3==a.which||!(c||b)}()||b()};f.render=function(){this.kd.render();this.$el.append(this.kd.$el);return this};
function FC(a,b){var c,d;c=a.qg.clone();c.removeClass().addClass(b);d=a.qg.get(0).getBoundingClientRect();c.css("top",d.top+"px").css("left",d.left+"px").css("width",d.width+"px").css("height",d.height+"px");$("body").append(c);a.qg.remove();a.qg=$();setTimeout(function(){c.remove()},500)}f.dd=function(a){a?this.kd.show():this.kd.hide()};f.gh=function(a){var b=this.$(".uploadsFoldersError");a?1>b.length&&this.$el.append(this.zh()):b.remove()};
function IC(a,b){a.$el.toggleClass("uploadsFoldersFolderOpen",b)}f.zh=_.template('\x3cp class\x3d"uploadsFoldersError"\x3eWhoops! We couldn\'t fetch your uploads.\x3c/p\x3e');function gC(){}gC=Backbone.View.extend({className:"inlineContent"});gC.Xw=14.14;f=gC.prototype;f.events=function(){return{"click .inlineContentClose":this.trigger.bind(this,"close"),drop:this.df}};f.initialize=function(a){this.hd=a.hd;this.Hs=!1;this.kg=!!a.kg;this.content=a.content;this.oi=a.oi;this.target=a.target};f.Re=function(){return this.content};
f.df=function(a){var b;try{b=a.originalEvent.dataTransfer.files}catch(c){}b&&b.length&&this.hd&&(a.preventDefault(),a.stopPropagation(),this.trigger("drop",b))};
function RC(a){function b(){var a=gC.Xw/2,b=d.target.offset().left+d.target.outerWidth()/2,e=d.$el.offset().left;c(b-e-a)}function c(a){d.oi=a;e.css("transform","translateX("+a+"px) rotate(-45deg)")}var d=a,e;e=a.$(".inlineContentPointer");e.addClass("doNotTransition");void 0!==a.oi?c(a.oi):b();window.setTimeout(function(){e.removeClass("doNotTransition");b()},20)}
f.render=function(){this.$el.html(this.template(this.rc()));this.$el.toggleClass("inlineContentAppearing",!this.Hs);this.$(".inlineContentContent").append(this.content);return this};f.rc=function(){return{closeButton:this.kg}};f.show=function(){this.Hs=!0;RC(this);SC(this)};
function SC(a){var b;P.try(function(){a.$el.height("auto");b=a.$el.height();a.$el.height(0)}).delay(20).then(function(){a.$el.removeClass("inlineContentAppearing");a.$el.height(b)}).delay(200).then(function(){a.$el.addClass("doNotTransition");a.$el.height("")}).delay(20).then(function(){a.$el.removeClass("doNotTransition")})}f.template=_.template('\x3cdiv class\x3d"inlineContentPointer"\x3e\x3c/div\x3e\x3c% if (closeButton) { %\x3e\x3ca class\x3d"inlineContentClose" href\x3d"#" title\x3d"Close"\x3e\x3c/a\x3e\x3c% } %\x3e\x3cdiv class\x3d"inlineContentContent"\x3e\x3c/div\x3e');function RB(){xA.call(this,{yc:function(a){return Math.floor(a/90)},Ge:"uploadsLayoutColumn"});this.listenTo(this,{afterSplit:this.nx,beforeMerge:this.xx,beforeSplit:this.yx})}RB.prototype=Object.create(xA.prototype);RB.prototype.nx=function(a,b){b.addClass("doNotTransition");b.each(function(b,d){d=$(d);d.css("margin-top",TC(a.eq(b))-d.offset().top)}.bind(this));b.height();b.removeClass("doNotTransition");setTimeout(function(){a.children().add(b).add(b.children()).css("margin-top","")},20)};
RB.prototype.yx=function(a){UC(a.children())};function TC(a){function b(a){return a.offset().top+a.outerHeight()}return a.children().length?b(a.children().last()):b(a)}function UC(a){var b=a.get().map(function(a){return window.getComputedStyle(a)});a.each(function(a,d){d.style.marginTop=d.previousSibling?Math.max(parseInt(b[a-1].marginBottom,10)||0,parseInt(b[a].marginTop,10)||0)+"px":(parseInt(b[a].marginTop,10)||0)+"px"})}
RB.prototype.xx=function(a,b){var c;c=b.children();c.addClass("doNotTransition");UC(c);(function(){return b.get().map(function(a){return a.firstChild})})().forEach(function(b,c){b&&(b=$(b),b.css("margin-top",b.offset().top-TC(a.eq(c))).addClass("closing-transition").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){$(this).removeClass("closing-transition")}))}.bind(this));c.height();c.removeClass("doNotTransition");setTimeout(function(){c.css("margin-top",
"")},20)};function KC(){}KC=Backbone.View.extend({className:"newUploadsFolder"});KC.prototype.events=function(){return{click:this.trigger.bind(this,"click")}};KC.prototype.initialize=function(a){this.L=a.L};function QC(a){a.$el.addClass("newUploadsFolderAppearing");setTimeout(function(){this.$el.removeClass("newUploadsFolderAppearing")}.bind(a),450)}KC.prototype.render=function(){var a=ob(this.L);this.$el.html(this.template({label:a.format("objectPanelUploadsPanelNewFolderButtonLabel")}));return this};
KC.prototype.template=_.template('\x3cdiv class\x3d"newUploadsFolderThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"newUploadsFolderLabel"\x3e\x3c%- label %\x3e\x3c/p\x3e');function Vt(a){this.wa=a.wa;this.xh=0;this.element=$("\x3cdiv\x3e").addClass("layer scrollPane uploadsPanel");this.Ua=new zC({Ja:a.Ja,wa:a.wa,tj:a.tj,nd:a.nd,xa:a.xa,Hb:a.Hb,tb:a.tb,L:a.L,ad:a.ad,wb:a.wb,Ea:a.Ea});this.Ua.on({fetch:this.lo,open:this.tB,dragScroll:this.vB,focusChanged:this.nB},this);this.Ua.once("fetch",this.Ua.gv,this.Ua);this.Fu=-1;this.listenTo(a.Vy,{dragenter:this.jB,drop:this.fF})}f=Vt.prototype;f.listenTo=Backbone.Events.listenTo;
f.vB=function(a){a!==this.xh?(this.xh=a,this.Rm&&clearInterval(this.Rm),0!==this.xh&&(this.Rm=setInterval(this.TC.bind(this),10))):0===a&&this.Rm&&clearInterval(this.Rm)};
f.nB=function(a,b){var c=this.element.height(),d=EA(this.Wg,a,{Jp:!0}),e=c+d-a.outerHeight(!0),c=c/3,g=null;this.element.find(".closing-transition").each(function(a,b){var c=parseInt(b.style.marginTop,10)-10;if(EA(this.Wg,$(b),{Jp:!0})<d&&0<c)return e-=c,d-=c,!1}.bind(this));if(b&&0<d)g=this.element.scrollTop()+d+10;else if(!b&&e>c||0>e)g=this.element.scrollTop()+e-c;null!==g&&this.element.animate({scrollTop:g},200,"linear")};
f.lo=function(){var a=this.Ua.Ch,b=a&&a.le();a&&a.gu()&&b&&800>EA(this.Wg,b)&&0===this.xh?this.Ua.Ch.wj(800):(a=this.Ua.le())&&800>EA(this.Wg,a)&&this.Ua.wj(800)};f.oc=function(){return this.element};f.jB=function(){var a=NC(this.Ua);a&&a!==nC||this.Ua.gv()};f.tB=function(){this.Ua.Ch.on("fetch",this.lo,this)};f.lC=function(){var a=this.Wg.Df.scrollTop();a>this.Fu&&this.lo();this.Fu=a};
f.TC=function(){var a=1*this.element.scrollTop();(function(){return 0===a&&0>this.xh})()||this.element.scrollTop(a+this.xh)};f.render=function(){this.Ua.oc().appendTo(this.element);this.Ua.render();return this};f.show=function(){var a=Number(this.element.height()),b=800;isNaN(a)||(b+=a);var a=this.element,a=$(a),c=a.data("CANVA_SCROLL_TARGET");c||(c=new DA(a),c.lm(),a.data("CANVA_SCROLL_TARGET",c));this.Wg=c;this.Wg.on("scroll",this.lC,this);this.Wg.lm();this.Ua.show();this.Ua.wj(b)};
f.fF=function(a){var b=NC(this.Ua);b&&!DC(this.Ua,b)&&this.wa.Tk(b,a)};function ZB(){}ZB=Backbone.View.extend({className:"uploadProgressBar"});ZB.prototype.initialize=function(){this.tv=0};ZB.prototype.render=function(){this.$el.html(this.template());aC(this,this.tv);return this};function aC(a,b){var c;c=a.$(".uploadProgressBarFill");c.css("transform","translateX("+Math.max(c.height()/a.$el.width()*100,b)+"%)");a.tv=b}ZB.prototype.template=_.template('\x3cdiv class\x3d"uploadProgressBarFill"\x3e\x3c/div\x3e');function Xt(a){this.$el=$('\x3cdiv class\x3d"uploadProgressPorthole"\x3e\x3cdiv class\x3d"uploadProgressPortholeFill"\x3e\x3c/div\x3e\x3c/div\x3e');this.root=a.root;this.root.append(this.$el);this.Jq=this.xe=0;this.Ji=Date.now();this.pw=0;this.wb=a.wb}f=Xt.prototype;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
f.start=function(){this.Ji=Date.now()-100;this.stopListening(this.wb);this.listenTo(this.wb,{create:this.rE,fail:this.fE})};f.rE=function(){this.Jq=setTimeout(this.Au.bind(this),50)};
f.Au=function(){function a(){.025>Math.random()&&(c.$el.addClass("showRubberDucky"),setTimeout(function(){c.$el.removeClass("showRubberDucky")},9E3))}var b=nt(this.wb,this.Ji),c=this;clearTimeout(this.pw);clearTimeout(this.Jq);this.root.addClass("showUploadsProgressPorthole");100===b?this.finish():(this.xe=Math.round(.7*b+.05),YC(this),a(),this.Jq=setTimeout(this.Au.bind(this),1E3))};
f.finish=function(){var a=this;this.pw=setTimeout(function(){a.Ji=Date.now()-2E3-100;a.xe=100;YC(a);setTimeout(a.reset.bind(a),1100)},2E3)};f.fE=function(a){var b=this.$el.find(".uploadProgressPortholeFill");b.addClass("uploadProgressPortholeFillFailure");setTimeout(function(){b.removeClass("uploadProgressPortholeFillFailure")},650);a&&it.show(a)};
function YC(a){var b=a.$el.find(".uploadProgressPortholeFill"),c="translateY("+(100-a.xe)+"%)";b.css("transform",c+" rotate(2deg)");setTimeout(function(){b.css("transform",c+" rotate(-2deg)")},1050);setTimeout(function(){b.css("transform",c)},2100)}f.reset=function(){this.xe=0;this.Ji=Date.now();this.root&&this.root.removeClass("showUploadsProgressPorthole");YC(this)};f.remove=function(){this.reset();this.stopListening(this.wb);this.$el.remove()};function Tt(){}Tt=Backbone.View.extend({});Tt.prototype.initialize=function(a){var b=this,c=new zw;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new Cw(new Hw);c.gd(d);this.Ze=new iB({model:c,el:this.$(".layer"),L:a.L});c=new bB({model:d,el:this.$(".browseCategories"),L:a.L});this.Ze.$a.push(c);!a.el&&this.render()};function Ut(){}Ut=Backbone.View.extend({});Ut.prototype.initialize=function(a){var b=this,c=new zw;this.listenTo(c,"results:didFetch",function(a,c,d){b.trigger("results:didFetch",a,c,d)});var d=new Cw(new Hw);c.gd(d);this.Ze=new iB({model:c,el:this.$(".layer"),L:a.L});c=new bB({model:d,el:this.$(".browseCategories"),L:a.L});this.Ze.$a.push(c);!a.el&&this.render()};function Yt(){}Yt=Backbone.View.extend();f=Yt.prototype;f.events=function(){return{"click .buttonFacebook":this.hF,"click .buttonGoogleDrive":this.iF,"click .fileUploadButton":this.by}};
f.initialize=function(a){this.L=a.L;this.fm=this.Bg=this.Vj=this.gm=this.iu=!1;a=ob(this.L);a=$(this.Dx({googleDrive:!!wa.Ma.get(oc),marketplace:!!wa.Ma.get(bc),uploadButtonLabel:Db(a),dragIn:a.format("objectPanelUploadsPanelDragIn"),uploadsFolder:a.format("objectPanelUploadsPanelUploadsFolderLabel"),uploadsFolderTitle:a.format("objectPanelUploadsPanelUploadsFolderTitle"),uploadsFolderImageAlt:Ib(a,"Upload"),marketplaceFolder:a.format("objectPanelUploadsPanelMarketplaceFolderLabel"),marketplaceFolderTitle:a.format("objectPanelUploadsPanelMarketplaceFolderTitle"),
marketplaceFolderImageAlt:Ib(a,"Marketplace"),facebookFolderImageAlt:Ib(a,"Facebook"),googleFolderImageAlt:Ib(a,"Google Drive")}));var b=$(this.LD());this.$(".layer").children(".inner").append(a).append(b);a=new zw;this.listenTo(a,"results:willFetch",this.jh);this.listenTo(a,"results:didFetch",this.Je);b=new Cw(new Hw);a.gd(b);this.Ze=new iB({model:a,el:this.$(".layer"),L:this.L});a=new bB({model:b,el:this.$(".browseCategories"),L:this.L});this.Ze.$a.push(a);ZC(this);$C(this)};f.jh=function(){this.$(".inlineFolderGroup").addClass("fetching").removeClass("fetched")};
f.Je=function(a,b,c){var d=ob(this.L),e=this.$(".inlineFolderGroup"),g=a.Aa()===this.$("a.google").attr("title"),h=a.Aa()===this.$("a.facebook").attr("title");!h||this.Bg||c?h&&this.Bg&&!c&&0===a.ze.length?this.$(".noResults").text(Hb(d,"Facebook")):!g||this.fm||c?g&&this.fm&&!c&&0===a.ze.length?this.$(".noResults").text(Hb(d,"Google")):a.ze.length!==b.length||c||(g=a.Aa()===this.$("a.uploads").attr("title"),h=a.Aa()===this.$("a.marketplace").attr("title"),g&&0===b.length&&this.$(".noResults").text(d.format("objectPanelUploadsPanelOwnUploadsForDesigns")),
h&&0===b.length&&this.$(".noResults").text(d.format("objectPanelUploadsPanelOwnUploadsForMarketplace"))):(g=$('\x3cbutton class\x3d"button buttonGoogle buttonGoogleDrive"\x3e').text(Fb(d,"Google")),this.$(".noResults").text(Gb(d,"Google")).after(g)):(g=$('\x3cbutton class\x3d"button buttonFacebook"\x3e').text(Fb(d,"Facebook")),this.$(".noResults").text(Gb(d,"Facebook")).after(g));e.removeClass("fetching").addClass("fetched");this.trigger("results:didFetch",a,b,c)};
function $C(a){var b=a.$("li a.uploads").parents("li").data("view"),c=a.$("li a.marketplace").parents("li").data("view"),d=hr(gr((new ir).eg(!0).sf(!1),[Ic,Kc]).kh(),!1).Wk(0,1);kr(sa,d,function(d,g){a.iu=200===d&&!!g.media&&0<g.media.length;rt()?lB(a.Ze,c):a.iu&&lB(a.Ze,b)})}
function ZC(a){function b(){yc.hb()?c.Bg=!0:Sp(yc).then(function(){c.Bg=!0}).catch(function(){c.Bg=!1})}var c=a,d=0,e=window.setInterval(function(){"INITIALIZED"===yc.lb()&&(window.clearInterval(e),b());d++;5<d&&(window.clearInterval(e),c.Bg=!1)},500)}
f.by=function(a){function b(a){$("#fileUpload").data("marketplacePaidMedia",1===a);$u()}$("#fileUpload").removeData("marketplacePaidMedia");$(a.target).hasClass("buttonMarketplace")?($("#fileUpload").data("marketplace","marketplace"),(new aD({Pm:b})).Md($(a.target))):($("#fileUpload").removeData("marketplace"),$u());return!1};
f.iF=function(){function a(){bD(d);c.Vj=!1;nB(c.Ze,g)}function b(){bD(d);c.Vj=!1}var c=this,d=this.$("button.buttonGoogleDrive"),e=0<this.$("li.folderExpanded .google").length,g=this.$("li a.google").parents("li").data("view");e&&this.fm||this.Vj||(this.Vj=!0,F&&F.track("google_links"),cD(d),zc.Js(!0).then(a).fail(b))};
f.hF=function(){function a(){$p();bD(d);c.gm=!1;nB(c.Ze,h)}function b(){bD(d);c.gm=!1}var c=this,d=this.$("button.buttonFacebook"),e=0<this.$("li.folderExpanded .facebook").length,g=0<this.$("li.folderExpanded .google").length,h=this.$("li a.facebook").parents("li").data("view");e&&this.Bg||this.gm||g&&this.fm||this.Vj||(this.gm=!0,F&&F.track("facebook_links"),cD(d),Wp(yc).then(a).catch(b))};function cD(a){a.addClass("buttonSpinner");a.append('\x3cspan class\x3d"spinner"/\x3e')}
function bD(a){$(".spinner",a).remove();a.removeClass("buttonSpinner")}f.Dx=_.template('\x3csection class\x3d"uploadButtonAndMessage"\x3e\x3cbutton class\x3d"button buttonBlock fileUploadButton"\x3e\x3c%- uploadButtonLabel %\x3e\x3c/button\x3e\x3cp\x3e\x3c%- dragIn %\x3e\x3c/p\x3e\x3c/section\x3e\x3cdiv class\x3d"browseCategories"\x3e\x3cul class\x3d"gallery photoGallery albumGallery categories"\x3e\x3cli\x3e\x3ca href\x3d"#" data-query\x3d"uploads" title\x3d"\x3c%- uploadsFolderTitle %\x3e" class\x3d"uploads"\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cimg src\x3d"https://static.canva.com/static/images/upload_folder_thumbnail.png" width\x3d"200" height\x3d"200" alt\x3d"\x3c%- uploadsFolderImageAlt %\x3e"\x3e\x3cspan class\x3d"text"\x3e\x3c%- uploadsFolder %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c% if (marketplace) { %\x3e\x3cli\x3e\x3ca href\x3d"#" data-query\x3d"marketplace" title\x3d"marketplaceFolderTitle" class\x3d"marketplace"\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cimg src\x3d"https://static.canva.com/static/images/marketplace_folder_thumbnail.png" width\x3d"200" height\x3d"200" alt\x3d"\x3c%- marketplaceFolderImageAlt %\x3e"\x3e\x3cspan class\x3d"text"\x3e\x3c%- marketplaceFolder %\x3e\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c% } %\x3e\x3cli\x3e\x3ca href\x3d"#" data-query\x3d"facebook" title\x3d"Facebook" class\x3d"facebook"\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cimg src\x3d"https://static.canva.com/static/images/upload_folder_facebook.png" width\x3d"200" height\x3d"200" alt\x3d"\x3c%- facebookFolderImageAlt %\x3e"\x3e\x3cspan class\x3d"text"\x3eFacebook\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c% if (googleDrive) { %\x3e\x3cli\x3e\x3ca href\x3d"#" data-query\x3d"google" title\x3d"Google Drive" class\x3d"google"\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cspan class\x3d"page on"\x3e\x3c/span\x3e\x3cimg src\x3d"https://static.canva.com/static/images/upload_folder_google_drive.png" width\x3d"200" height\x3d"200" alt\x3d"\x3c%- googleFolderImageAlt %\x3e"\x3e\x3cspan class\x3d"text"\x3eGoogle Drive\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c% } %\x3e\x3c/ul\x3e\x3c/div\x3e');
f.LD=_.template('\x3cdiv class\x3d"searchGroup"\x3e\x3cul class\x3d"gallery infoPanelGallery photoGallery"\x3e\x3c/ul\x3e\x3c/div\x3e');function qC(a){this.yp=a.yp||$(document);this.items=[];this.Nf=void 0;this.iq=!!a.iq;this.ns=a.ns||$("body");this.title=a.title;this.view=this.ql()}f=qC.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.trigger=Backbone.Events.trigger;function dD(a){function b(){d.yp.off("keydown",b);c.off("click",b);c.remove();d.view.hide();d.Nf=void 0;return!1}var c=$('\x3cdiv class\x3d"contextMenuMask" /\x3e'),d=a;a.Nf=b;c.on("click",b);a.yp.on("keydown",b);a.ns.append(c)}
f.ql=function(){var a=new eD;a.on("toggle",this.ME.bind(this));return a};f.remove=function(){this.Nf&&this.Nf();this.view.remove()};function rC(a,b){a.items=b;a.view.render({items:a.items,title:a.title})}f.Br=function(a,b){this.Nf&&this.Nf();this.ns.append(this.view.oc());this.iq&&dD(this);this.view.Br(a,b)};f.ME=function(a){var b=this.items.filter(function(b){return b.title===a})[0];this.Nf&&this.Nf();b&&this.trigger("change",b.id,!b.Ur)};function eD(){}eD=Backbone.View.extend({className:"contextMenu"});f=eD.prototype;f.events=function(){return{"click .contextMenuItem":this.IB}};f.oc=function(){return this.$el};f.hide=function(){var a=this.$el;a.removeClass("contextMenuOn").addClass("contextMenuOff");setTimeout(function(){a.css("left","-9999em").css("top","-9999em")}.bind(this),400)};f.IB=function(a){this.trigger("toggle",$(a.target).text())};
f.render=function(a){var b=this.$el,c=$('\x3cstrong class\x3d"contextMenuInfo"/\x3e').text(a.title),d=$('\x3cul class\x3d"contextMenuItems"/\x3e');a.items.forEach(function(a){var b=$('\x3cli class\x3d"contextMenuItem"/\x3e').text(a.title);a.Ur&&b.addClass("contextMenuItemTicked");d.append(b)});b.empty().append(c).append(d);return this};f.Br=function(a,b){this.$el.css("left",a).css("top",b).removeClass("contextMenuOff").addClass("contextMenuOn")};function fD(a){this.items=[];this.Lu=a.Lu||Infinity;this.lq=a.lq||0;this.placeholder=a.placeholder;this.cd=a.cd;this.root=a.root;this.view=new gD({hl:!!a.hl,Dd:a.Dd,dj:a.dj,Oj:a.Oj||"",placeholder:a.placeholder});this.view.render(this.items);this.view.oc().appendTo(this.root);this.listenTo(this.view,{add:this.add,submit:this.submit});for(a=0;a<this.lq;a++)this.add()}f=fD.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;_.extend(fD.prototype,Backbone.Events);f=fD.prototype;f.add=function(a,b){var c=new hD({changed:void 0!==a,focus:!!b,placeholder:this.placeholder,cd:this.cd,title:a||""});this.items.push(c);this.view.render(this.items);this.items.length>=this.Lu&&this.view.Xh.remove();this.listenTo(c,{empty:this.JB.bind(this,c)})};
f.accept=function(a){this.items.forEach(function(b){if(b.toString()===a){b.stopListening(b.view);var c=b.view,d=!b.Mn;c.$el.removeClass("dynamicListItemRejected");iD(c,"dynamicListItemAccepted",d);b.Mn=!0}});jD(this)};function jD(a){0===a.Wc().length&&a.view.Or.toggleClass("buttonSpinner",!1)}f.Wc=function(){return this.items.filter(function(a){return!a.Mn&&!a.isRejected()&&!a.Nr}).filter(function(a){return a.hasChanged()})};
f.reject=function(a){this.items.forEach(function(b){if(b.toString()===a){b.stopListening(b.view);var c=b.view,d=!b.ar;c.$el.removeClass("dynamicListItemAccepted");iD(c,"dynamicListItemRejected",d);b.ar=!0}});jD(this)};f.remove=function(a){var b=this.items.indexOf(a);a.remove();this.stopListening(a);0<=b&&this.items.splice(b,1)};f.JB=function(a){this.items.length>this.lq&&this.remove(a)};
f.submit=function(){function a(a){return a.hasChanged()}function b(a){a.stopListening(a.view);iD(a.view,"dynamicListItemSubmitted",!a.Nr);a.Nr=!0}function c(a){this.trigger("item",a.Aa(),a.getSelection())}setTimeout(function(){jD(this);this.Wc().forEach(c,this);this.items.filter(a).forEach(b);this.trigger("submit")}.bind(this),500)};function gD(){}gD=Backbone.View.extend({className:"dynamicList"});f=gD.prototype;f.initialize=function(a){this.hl=a.hl;this.Dd=a.Dd;this.dj=a.dj;this.Oj=a.Oj||"";this.aq=!1;this.Bu=0;this.Qq=!1;this.placeholder=a.placeholder};f.events=function(){return{"click .dynamicListItemAdder button":this.EB,"input .dynamicListItemAdder input":this.GB,"keydown .dynamicListItem input":this.KB,"keydown .dynamicListItemAdder input":this.HB,"keydown .buttonSubmit:not(:disabled)":this.vA,"mousedown .buttonSubmit:not(:disabled)":this.wA}};
f.oc=function(){return this.$el};function kD(a){function b(){this.Xh.addClass("dynamicListItemAdded");setTimeout(c.bind(this),300);this.trigger("add",d.val(),!0);d.val("");this.Qq=this.aq=!1}function c(){this.Xh.removeClass("dynamicListItemAdded")}var d=a.Xh.find("input"),e=Date.now();500<e-a.Bu&&(a.Bu=e,a.Qq?setTimeout(b.bind(a),300):b.call(a))}f.submit=function(){this.Xh.find("input").blur();this.Or.toggleClass("buttonSpinner",!0);this.Qq=!0;this.trigger("submit")};f.EB=function(){kD(this)};
f.GB=function(){this.aq=!0;kD(this)};f.vA=function(a){13===a.which&&this.submit()};f.wA=function(){this.submit()};f.HB=function(a){if(13===a.which||9===a.which)this.aq?kD(this):a.shiftKey||this.$el.find(".buttonSubmit").focus()};f.KB=function(a){if(13===a.which||9===a.which)return a.shiftKey?$(a.target).parent().prev().find("input").focus():$(a.target).parent().next().find("input").focus(),!1};
f.render=function(a){var b=lD(this);this.Oj&&this.$el.append(this.Lz||(this.Lz=$('\x3ch3 class\x3d"dynamicListHeading"\x3e\x3c/h3\x3e').text(this.Oj)));this.dj&&this.$el.append(this.Cx||(this.Cx=$('\x3cp class\x3d"dynamicListBlurb"\x3e\x3c/p\x3e').text(this.dj)));this.$el.append(b);a.forEach(function(a){mD(a);b.append(a.view.oc())});b.append(this.Xh||(this.Xh=nD(this)));this.$el.append(this.Or||(this.Or=oD(this)));return this};
function lD(a){a=a.$el.find("ul");0===a.length&&(a=$('\x3cul class\x3d"dynamicListItems"\x3e'));return a}function nD(a){var b,c=$('\x3cli class\x3d"dynamicListItem dynamicListItemAdder"\x3e\x3c/li\x3e');a.hl?b=$('\x3cbutton class\x3d"dynamicListItemAdderButton textInput"\x3e+ Add another\x3c/button\x3e'):(b=$('\x3cinput class\x3d"dynamicListItemValue textInput" value\x3d"" autocomplete\x3d"off" /\x3e'),b.attr("placeholder",a.placeholder));c.append(b);return c}
function oD(a){var b=$('\x3cbutton class\x3d"button buttonBlock buttonSubmit"\x3e\x3c/button\x3e');b.text(a.Dd);b.append('\x3cdiv class\x3d"spinner" /\x3e');return b};function hD(a){function b(a){return!0===a.selected}this.Mn=!1;this.changed=a.changed;this.focus=a.focus;this.placeholder=a.placeholder;this.Nr=this.ar=!1;this.selection=void 0;this.cd=a.cd;this.title=a.title;this.view=new pD;this.listenTo(this.view,{change:this.change,commit:this.wy,select:this.select});this.cd&&(this.selection=(this.cd.filter(b)[0]||{}).value,this.changed&&this.cd&&qD(this.view,this.cd))}hD.prototype.listenTo=Backbone.Events.listenTo;hD.prototype.stopListening=Backbone.Events.stopListening;
hD.prototype.trigger=Backbone.Events.trigger;_.extend(hD.prototype,Backbone.Events);f=hD.prototype;f.change=function(a){this.title=a;!this.changed&&this.cd&&this.cd&&qD(this.view,this.cd);this.changed=!0};f.wy=function(){this.hasChanged()&&(this.isEmpty()?this.trigger("empty"):this.trigger("commit"))};f.Aa=function(){return this.title};f.getSelection=function(){return this.selection};f.hasChanged=function(){return this.changed};f.isEmpty=function(){return""===this.title};f.isRejected=function(){return!!this.ar};
f.select=function(a){a!==this.selection&&(rD(this,a),this.changed=!0)};function rD(a,b){a.cd.forEach(function(a){a.value===b&&(this.selection=b)},a)}f.remove=function(){sD(this.view);this.stopListening(this.view)};function mD(a){function b(){c.view.focus()}var c=a;a.view.render(a.title,a.placeholder);a.focus&&setTimeout(b,0)}f.toString=function(){return this.title};function pD(){}pD=Backbone.View.extend({tagName:"li",className:"dynamicListItem"});f=pD.prototype;f.events=function(){return{"blur input":this.yB,"focus input":this.AB,"input input":this.BB,"keypress input":this.CB,"click input":this.zB,"change select":this.mC}};f.focus=function(){var a,b;b=this.$el.find("input").get(0);a=b.value.length;b.createTextRange?b.focus():b.setSelectionRange&&(b.selectionStart||0===b.selectionStart)?(b.focus(),b.setSelectionRange(a,a)):b.focus()};f.oc=function(){return this.$el};
function sD(a){a.$el.addClass("dynamicListItemRemoved");window.setTimeout(function(){this.remove();this.off()}.bind(a),300)}f.yB=function(){this.trigger("commit")};f.AB=function(a){$(a.target).select();a.preventDefault();return!1};f.BB=function(a){a=$(a.target).val();this.trigger("change",a)};f.CB=function(a){13!==a.which&&9!==a.which||this.trigger("commit")};f.zB=function(a){$(a.target).select();a.preventDefault();return!1};f.mC=function(a){a=$(a.target).val();this.trigger("select",a)};
f.render=function(a,b){var c="dyn"+Date.now();this.input||(this.input=$('\x3cinput autocomplete\x3d"off" class\x3d"dynamicListItemValue textInput" /\x3e').attr("name",c).attr("placeholder",b),this.$el.empty(),this.$el.append(this.input));this.input.val(a);this.Xg&&this.$el.append(this.Xg);return this};
function qD(a,b){function c(a){var b=$("\x3coption\x3e");b.val(a.value).text(a.text).prop("selected",a.selected);this.select.append(b)}function d(){this.Xg.removeClass("dynamicListItemCategoryAppear")}a.Xg||(a.Xg=$('\x3cspan class\x3d"select dynamicListItemCategory"\x3e\x3c/span\x3e'),a.Xg.addClass("dynamicListItemCategoryAppear"),setTimeout(d.bind(a),350),a.select=$("\x3cselect\x3e\x3c/select\x3e"),a.Xg.append(a.select),b.forEach(c,a));a.$el.append(a.Xg)}
function iD(a,b,c){c&&(a.$el.addClass("dynamicListItemMarked"),setTimeout(function(){a.$el.removeClass("dynamicListItemMarked")},350));a.$el.find("input").prop("disabled",!0);a.$el.find("select").prop("disabled",!0);a.$el.addClass(b)};function tD(){}tD=Backbone.View.extend({className:"dropdownPane"});tD.prototype.initialize=function(){this.once("show",this.render)};tD.prototype.show=function(){this.$el.hasClass("focus")||(this.trigger("show",this),this.$el.siblings().removeClass("focus"),this.$el.addClass("focus"))};function uD(){}uD=W.extend({className:"dropdownMenuPopoverContainer"});f=uD.prototype;f.initialize=function(a){W.prototype.initialize.call(this,a);this.mi=[];this.uf=null;this.on("show",this.gE);this.on("remove",this.lD)};f.render=function(){W.prototype.render.call(this);this.$("h2, .buttonContainer").remove();var a=this.$(".content");this.mi.forEach(function(b){b.$el.appendTo(a)});return this};function vD(a,b){a.listenTo(b,"show",a.TD);a.listenTo(b,"show",a.Vg);a.mi.push(b)}
f.Vg=function(a){var b=window.innerHeight-108,c=a.$el.hasClass("focus");c&&a.$el.removeClass("focus");var d=a.$el.prop("offsetHeight");c&&a.$el.addClass("focus");this.$(".content").css("height",Math.min(d,b))};f.Si=function(){W.prototype.Si.call(this);this.uf&&this.Vg(this.uf);return this};f.TD=function(a){this.uf=a};f.gE=function(){0<this.mi.length&&this.mi[0].show()};f.lD=function(){this.uf=null;this.mi.forEach(function(a){a.remove()});this.mi.length=0};function Bz(){}Bz=uD.extend();f=Bz.prototype;
f.initialize=function(a){uD.prototype.initialize.call(this,a);this.Ud=a.Ud;this.document=a.document;this.xa=a.xa;this.ka=a.ka;this.Qa=this.document.Ul();this.jk=null;this.Mp=this.Qp=!1;this.Ko=a.Ko;this.hp=a.hp;this.L=a.L;var b=wD,c=this.Qa.displayName,d=this.Qa.displayDimensions,e=!!this.xa.Ma.get(gc),g=!!this.xa.Ma.get(tc);a=a.Hg;var h=this.L;h.$d||(h.$d=new Qb(h.yb));this.It=new b({ak:c,Fo:d,Xo:e,Yo:g,Hg:a,$d:h.$d});this.ae=new xD({Xd:this.Qa.id});this.et=new yD({Bo:ki(this.document),zo:li(this.document)});
this.Zc=new zD({Xd:this.Qa.id});vD(this,this.It);vD(this,this.ae);vD(this,this.et);vD(this,this.Zc);this.listenTo(this.It,"show",this.XE);this.Ht()};
f.events=function(){var a=uD.prototype.events.call(this);a["touchClick .documentSaveButton"]=this.YA;a["touchClick .documentCopyButton"]=this.CA;a["touchClick .documentResizePaneButton"]=this.GA;a["touchClick .documentResizeButton"]=this.FA;a["touchClick .customDimensionsPaneButton"]=this.DA;a["keydown .customDimensionsWidth, .customDimensionsHeight"]=this.OB;a["blur .customDimensionsWidth, .customDimensionsHeight"]=this.uA;a["touchClick .customDimensionsResizeButton"]=this.EA;a["touchClick .magicResizePaneButton"]=
this.SA;a["change .magicResizePane input"]=this.yA;a["touchClick .magicResizeButton:enabled"]=this.RA;a["click .button.retry"]=this.Ht;return a};f.Ck=function(a){this.trigger("documentResizeRequested",a)};function AD(a){var b=BD(a.$(".customDimensionsWidth")),c=BD(a.$(".customDimensionsHeight")),d=ki(a.document),e=li(a.document);b===d&&c===e?a.cancel():(d=pg("custom"),d.Z(b),d.W(c),a.Ck(d),a.ok())}function CD(a){a.jk||(a.jk=Ll(3E4),a.jk.finally(function(){a.jk=null}));return a.jk}
f.Ht=function(){this.yw({});Hj(this.Ko,this.hp).bind(this).then(function(a){return Oj(a)}).then(Bz.bD).then(this.yw).catch(this.Jz)};f.yw=function(a){this.ae.sr(a);this.uf===this.ae&&(this.ae.render(),this.Vg(this.ae));this.Zc.sr(a);this.uf===this.Zc&&(this.Zc.render(),this.Vg(this.Zc),DD(this))};f.Jz=function(){this.ae.tr();this.uf===this.ae&&(this.ae.render(),this.Vg(this.ae));this.Zc.tr();this.uf===this.Zc&&(this.Zc.render(),this.Vg(this.Zc))};
f.XE=function(){if(!this.Mp){var a=this;this.Mp=!0;CD(this).then(function(){var b=a.$(".documentCopyButton");b.prop("disabled",!1);b.removeClass("disabled");b.parent().removeAttr("title");a.Mp=!1})}};function BD(a){var b=parseFloat(a.prop("value")),c=0,c=40>b?40:5E3<b?5E3:Math.round(b);a.val(String(c));return c}
function DD(a){a.Qp||(a.Qp=!0,CD(a).then(function(){var b=0<a.$(".magicResizePane input:checked").length;a.$(".magicResizeButton").prop("disabled",!b).toggleClass("disabled",!b);a.Qp=!1}))}f.YA=function(a){var b=this;a=$(a.currentTarget);a.addClass("active");a.one("animationend",function(){b.trigger("documentSaveRequested");b.ok()})};f.CA=function(){var a=this.ka.ya();window.open(gA(a,"remix",vj(this.ka)),"");this.ok()};f.GA=function(){this.ae.show()};
f.FA=function(a){var b=this;a=$(a.currentTarget);var c=a.prop("value");a.addClass("active");a.one("animationend",function(){c===b.document.ja.getName()?b.cancel():(b.Ck(pg(c)),b.ok())})};f.DA=function(){this.et.show()};f.OB=function(a){13===a.keyCode&&AD(this)};f.uA=function(a){BD($(a.currentTarget))};f.EA=function(){AD(this)};f.SA=function(){this.Zc.show();DD(this)};f.yA=function(){DD(this)};
f.RA=function(a){var b=[],c=this.$(".magicResizePane input:checked:enabled");a=$(a.currentTarget);a.blur();a.prop("disabled",!0);c.toArray().forEach(function(a){var c=this.ka.ya();(a=window.open(gA(c,"remix",vj(this.ka))+"?resizeTo\x3d"+encodeURIComponent(a.value),""))&&b.push(a)},this);this.Zc.$(".errorMessage").remove();b.length===c.length?this.ok():(b.forEach(function(a){a.close()}),a.prop("disabled",!1),this.Fr());null!=F&&F.track("magic_resize")};
f.Fr=function(){ED.AE(this.Ud)?(new ED({Ud:this.Ud})).show():(this.Zc.Fr(),this.Vg(this.Zc))};Bz.bD=function(a){var b={PIXELS:"px",INCHES:"in",CENTIMETERS:"cm",MILLIMETERS:"mm"};a=a.map(function(a){var d=a.Hf(),e=b[d.units];return{id:a.F(),displayName:a.getName(),displayDimensions:d.A()+e+" × "+d.B()+e,category:a.category}});return a=_.groupBy(a,"category")};function wD(){}
wD=tD.extend({className:"dropdownPane fileMenuPane",template:_.template('\x3cheader\x3e\x3ch3 class\x3d"fileMenuPaneTitle"\x3e\x3c%- data.layoutName %\x3e\x3c/h3\x3e\x3cdiv class\x3d"documentDimensions"\x3e\x3c%- data.documentDimensions %\x3e\x3c/div\x3e\x3c% if (data.enableDocumentResize) { %\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizePaneButton"\x3e\x3c%- data.changeDimensionsLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% if (data.enableMagicResize) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button magicResizePaneButton"\x3e\x3c%- data.magicResizeLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c% } %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c/header\x3e\x3csection\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button documentSaveButton" data-syncstatus\x3d"Last saved \x3c%- data.lastSavedDuration %\x3e ago"\x3e\x3c%- data.saveLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3cli title\x3d"\x3c%- data.waitingForSaveTitle %\x3e"\x3e\x3cbutton class\x3d"button documentCopyButton disabled" disabled\x3e\x3c%- data.makeACopyLabel %\x3e\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/section\x3e',null,
{variable:"data"})});wD.prototype.initialize=function(a){tD.prototype.initialize.call(this);this.ak=a.ak;this.Fo=a.Fo;this.Xo=a.Xo;this.Yo=a.Yo;this.Hg=a.Hg;this.$d=a.$d};
wD.prototype.render=function(){this.$el.html(this.template({documentDimensions:this.Fo,enableDocumentResize:this.Xo,enableMagicResize:this.Yo,lastSavedDuration:moment(this.Hg).fromNow(!0),layoutName:this.ak,magicResizeLabel:this.$d.format("editorFileMenuPaneMagicResize"),changeDimensionsLabel:this.$d.format("editorFileMenuPaneChangeDimensions"),saveLabel:this.$d.save(),makeACopyLabel:this.$d.format("editorFileMenuPaneMakeACopy"),waitingForSaveTitle:this.$d.format("editorFileMenuPaneWaitingForSave")}));
return this};function xD(){}
xD=tD.extend({className:"dropdownPane documentResizePane",template:_.template('\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3cul class\x3d"menuActionsList"\x3e\x3cli\x3e\x3cbutton class\x3d"button customDimensionsPaneButton"\x3eUse custom dimensions...\x3c/button\x3e\x3c/li\x3e\x3c/ul\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3eThe list of design types could not be loaded.\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3eTry loading again?\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3eFetching design types...\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuActionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3cli\x3e\x3cbutton class\x3d"button documentResizeButton" value\x3d"\x3c%- documentType.id %\x3e"\x3e\x3c%- documentType.displayName %\x3e \x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c/button\x3e\x3c/li\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e',null,
{variable:"data"})});xD.prototype.initialize=function(a){tD.prototype.initialize.call(this);this.nj={};this.Xd=a.Xd;this.vg=!1};xD.prototype.render=function(){this.$el.html(this.template({documentTypes:this.nj,fetchFailed:this.vg}));if("custom"!==this.Xd)for(var a=this.$(".documentResizeButton"),b=0;b<a.length;b++)if(a[b].value===this.Xd){a.eq(b).addClass("selected");break}return this};xD.prototype.sr=function(a){this.vg=!1;this.nj=a};xD.prototype.tr=function(){this.vg=!0};function yD(){}
yD=tD.extend({className:"dropdownPane customDimensionsPane",template:_.template('\x3cfieldset\x3e\x3cinput class\x3d"customDimensionsWidth" type\x3d"number" value\x3d"\x3c%- data.defaultWidth %\x3e" min\x3d"40" max\x3d"5000" step\x3d"10"\x3e \x26times; \x3cinput class\x3d"customDimensionsHeight" type\x3d"number" value\x3d"\x3c%- data.defaultHeight %\x3e" min\x3d"40" max\x3d"5000" step\x3d"10"\x3e px\x3c/fieldset\x3e\x3cfooter\x3e\x3cbutton class\x3d"button customDimensionsResizeButton"\x3eResize!\x3c/button\x3e\x3c/footer\x3e',null,
{variable:"data"})});yD.prototype.initialize=function(a){tD.prototype.initialize.call(this);this.Bo=a.Bo;this.zo=a.zo;this.on("show",this.yz)};yD.prototype.render=function(){this.$el.html(this.template({defaultWidth:Math.ceil(this.Bo),defaultHeight:Math.ceil(this.zo)}));return this};yD.prototype.yz=function(){var a=this;this.$el.one("transitionend",function(){a.$(".customDimensionsWidth").focus()})};function zD(){}
zD=tD.extend({className:"dropdownPane magicResizePane",template:_.template('\x3cheader\x3e\x3ch3\x3eCopy and resize to these formats:\x3c/h3\x3e\x3c/header\x3e\x3csection class\x3d"scrollParent"\x3e\x3cdiv class\x3d"scrollContent"\x3e\x3c% if (data.fetchFailed) { %\x3e\x3cdiv class\x3d"notification error message"\x3eThe list of design types could not be loaded.\x3cbr\x3e\x3cbutton class\x3d"button retry"\x3eTry loading again?\x3c/button\x3e\x3c/div\x3e\x3c% } else if (Object.keys(data.documentTypes).length \x3d\x3d\x3d 0) { %\x3e\x3cp class\x3d"documentTypeLoading"\x3eFetching design types...\x3c/p\x3e\x3c% } else { %\x3e\x3c% for (var sectionName in data.documentTypes) { %\x3e\x3ch4\x3e\x3c%- sectionName %\x3e\x3c/h4\x3e\x3cul class\x3d"menuOptionsList"\x3e\x3c% data.documentTypes[sectionName].forEach(function (documentType) { %\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox" value\x3d"\x3c%- documentType.id %\x3e"\x3e \x3c%- documentType.displayName %\x3e \x3c% if (documentType.id \x3d\x3d data.currentDocumentTypeId) { %\x3e\x3cspan class\x3d"documentTypeCurrentDesign menuOptionsListSubLabel"\x3eCurrent design size\x3c/span\x3e\x3c% } else { %\x3e\x3cspan class\x3d"documentTypeDimensions menuOptionsListSubLabel"\x3e\x3c%- documentType.displayDimensions %\x3e\x3c/span\x3e\x3c% } %\x3e\x3c/label\x3e\x3c% }); %\x3e\x3c/ul\x3e\x3c% } %\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/section\x3e\x3cfooter\x3e\x3cbutton class\x3d"button magicResizeButton disabled" disabled\x3e\x3cimg class\x3d"iconWand" src\x3d"https://static.canva.com/static/images/icon_wand.svg" alt\x3d"Magic wand" /\x3e\x3cimg class\x3d"iconWand black" src\x3d"https://static.canva.com/static/images/icon_wand_black.svg" alt\x3d"Magic wand" /\x3e Abracadabra – Resize!\x3c/button\x3e\x3c/footer\x3e',null,
{variable:"data"}),YC:_.template('\x3cp class\x3d"errorMessage"\x3e\x3cstrong\x3eOh snap – it looks like your browser’s popup blocker has prevented some tabs from opening!\x3c/strong\x3e Make sure Canva is allowed to open multiple tabs and try again.\x3c/p\x3e',null,{variable:"data"})});f=zD.prototype;f.initialize=function(a){tD.prototype.initialize.call(this);this.Xd=a.Xd;this.nj={};this.vg=!1};
f.render=function(){this.$el.html(this.template({documentTypes:this.nj,currentDocumentTypeId:this.Xd,fetchFailed:this.vg}));this.$('input:not([value\x3d"'+this.Xd+'"])').slice(0,3).prop("checked",!0);this.$('input[value\x3d"'+this.Xd+'"]').prop("disabled",!0).parent("label").addClass("menuOptionsListDisabled");return this};f.sr=function(a){this.vg=!1;this.nj=a};f.tr=function(){this.vg=!0};f.Fr=function(){this.$("footer").prepend(this.YC())};function aD(){}aD=W.extend();f=aD.prototype;f.events=function(){var a=W.prototype.events.call(this);a["touchClick .buttonPaid"]=this.VA;a["touchClick .buttonFree"]=this.PA;return a};f.initialize=function(a){this.Pm=a.Pm;var b={title:"Please select a price",content:$(aD.gg()),ce:""};W.prototype.initialize.call(this,_.extend({},b,a))};f.render=function(){W.prototype.render.call(this);this.$(".buttonContainer").remove();return this};
f.VA=function(){$("#fileUpload").data("marketplacePaidMedia",!0);this.Pm(1);this.remove()};f.PA=function(){this.Pm(0);this.remove()};aD.gg=_.template('\x3cp\x3eWhat price would you like to charge for these images?\x3c/p\x3e\x3cdiv class\x3d"priceButtons"\x3e\x3cbutton class\x3d"button buttonBlock buttonPaid"\x3e$1.00\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock buttonFree"\x3eFREE\x3c/button\x3e\x3c/div\x3e');function FD(a){this.model=a.model}FD=W.extend();f=FD.prototype;f.events=function(){var a=W.prototype.events.call(this);a["touchClick .downloadPng"]=this.IA;a["touchClick .downloadStandardPdf"]=this.KA;a["touchClick .downloadPrintPdf"]=this.JA;a["touchClick .downloadJpg"]=this.HA;a["touchClick .optionsToggle \x3e a"]=this.UA;a["change .pageRangeOption \x3e input"]=this.zA;a["input .pageRange"]=this.DB;return a};
f.initialize=function(a){this.xa=a.xa;this.Nd=a.Nd;var b=this.L=a.L;b.Wb||(b.Wb=new Ub(b.yb));this.Wb=b.Wb;a=_.defaults(a,{ce:"",content:$(FD.gg({displayRemoveCanvasOption:!!this.xa.Ma.get(vc),jpgLabel:this.Wb.format("exportPopOverJpgButton"),pngLabel:this.Wb.format("exportPopOverPngButton"),pdfStandardLabel:this.Wb.format("exportPopOverPdfStandardButton"),pdfPrintLabel:this.Wb.format("exportPopOverPdfPrintButton"),allPagesLabel:this.Wb.ox(),pagesInRangeLabel:this.Wb.format("exportPopOverInRangePagesLabel"),
invalidPageRange:this.Wb.Vz("\x3cbr\x3e"),pagesInRangePlaceholder:this.Wb.format("exportPopOverInRangePagesPlaceholder"),publishWithCropMarks:this.Wb.jD(),makeBackgroundTransparent:this.Wb.gA(),options:this.Wb.format("exportPopOverOptions")})),title:this.Wb.title()});W.prototype.initialize.call(this,a)};
f.render=function(){function a(){zi(this.model)||($("\x3cb\x3e").text("OK, all done!").appendTo(this.$(".error")),this.$(".exportButtons \x3e button").removeClass("disabled").prop("disabled",!1),this.stopListening(this.model,"change",a))}W.prototype.render.call(this);this.$(".dialog").addClass("exportDialog");this.$(".buttonContainer").remove();var b="";this.model.isEmpty()?b=this.Wb.format("exportPopOverEmptyDesignError"):zi(this.model)&&(b=this.Wb.format("exportPopOverDownloadsInProgressError"),
this.listenTo(this.model,"change",a));b&&($("\x3cp\x3e").addClass("error").text(b).insertBefore(this.$(".exportButtons")),this.$(".exportButtons \x3e button").addClass("disabled").prop("disabled",!0));return this};
function GD(a,b,c){var d=[],e=a.$(".pageRange").val(),g=oi(a.model).length;if(FD.Ln.test(e))for(var e=e.split(","),h=0;h<e.length;h++){var k=e[h].split("-"),l=parseInt(k[0],10);if(!isNaN(l)){var m=l=Math.max(1,Math.min(l,g));1<k.length&&(m=parseInt(k[1],10),m=isNaN(m)?g:Math.max(1,Math.min(m,g)));var k=l,n=m;n<k&&(k=m,n=l);for(l=0;d[l]<k;)l++;for(;k<=n;)d[l]!==k&&d.splice(l,0,k),l++,k++}}g=!!a.$(".cropsAndBleed \x3e input").prop("checked");e="JPG"!=b?!!a.$(".removeCanvas \x3e input").prop("checked"):
!1;switch(a.model.ja.getName()){case "facebookCover":a="JPG"==b?100:null;break;default:a=null}return{outputType:b,pageRange:d,includeCrops:g,includeBleed:g,removeCanvas:e,targetImageSizeKb:a,mediaDpi:c}}function HD(a,b){var c=a.model.ja,c=new ID({pt:c.A(),mt:c.B(),Dq:oi(a.model).length,Nd:a.Nd,L:a.L});JD(c,b);KD(c,c.O.Kl);c.show();LD(c);a.ok()}
function MD(a){var b=a.$(".pageRange"),c=a.$(".pageRangeError");a=b.val().trim();""===a||FD.Ln.test(a)?(b.removeClass("hasError"),c.removeClass("on")):(b.addClass("hasError"),c.addClass("on"),b.one("blur",function(){c.removeClass("on")}))}f.IA=function(a){a.preventDefault();HD(this,GD(this,"PNG",96))};f.KA=function(a){a.preventDefault();HD(this,GD(this,"PDF",96))};f.JA=function(a){a.preventDefault();HD(this,GD(this,"PDF",300))};f.HA=function(a){a.preventDefault();HD(this,GD(this,"JPG",96))};
f.UA=function(a){a.preventDefault();a=this.$(".exportOptions");var b=this.$(".optionsToggle");b.hasClass("on")?(a.css("height","0"),a.addClass("hidden"),b.removeClass("on")):(a.css("height",a.find(".inner").prop("clientHeight")+"px"),a.removeClass("hidden"),b.addClass("on"),a=this.$(".pageRange"),""===a.val().trim()&&a.val(""),a=a.val(),FD.Ln.test(a)||this.$(".pageRangeOption \x3e input").eq(0).prop("checked",!0))};
f.zA=function(){var a=this.$(".pageRange");this.$(".pageRangeOption \x3e input").eq(1).prop("checked")?(a.focus().select(),MD(this)):a.removeClass("hasError")};f.DB=function(){this.$(".pageRangeOption \x3e input").eq(1).prop("checked",!0);MD(this)};FD.Ln=/^\s*\d+\s*(?:-\s*(?:\d+\s*)?)?(?:,\s*(?:\d+\s*(?:-\s*(?:\d+\s*)?)?)?)*$/;FD.gg=_.template('\x3cdiv class\x3d"exportButtons"\x3e\x3cbutton class\x3d"button buttonBlock downloadJpg"\x3e\x3c%- jpgLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock downloadPng"\x3e\x3c%- pngLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock downloadStandardPdf"\x3e\x3c%- pdfStandardLabel %\x3e\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock downloadPrintPdf"\x3e\x3c%- pdfPrintLabel %\x3e\x3c/button\x3e\x3c/div\x3e\x3cdiv class\x3d"exportOptions hidden"\x3e\x3cdiv class\x3d"inner"\x3e\x3cdiv class\x3d"toggle"\x3e\x3clabel class\x3d"pageRangeOption"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" value\x3d"all" checked\x3e \x3c%- allPagesLabel %\x3e\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e\x3clabel class\x3d"pageRangeOption pageRangeOptionEnter"\x3e\x3cinput type\x3d"radio" name\x3d"pageRangeOption" value\x3d"custom"\x3e \x3c%- pagesInRangeLabel %\x3e\x3c/label\x3e\x3cinput type\x3d"text" class\x3d"pageRange textInput" placeholder\x3d"\x3c%- pagesInRangePlaceholder %\x3e"\x3e\x3cspan class\x3d"pageRangeError"\x3e\x3c%- invalidPageRange %\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"toggle"\x3e\x3clabel class\x3d"cropsAndBleed"\x3e\x3cinput type\x3d"checkbox" name\x3d"cropsAndBleed"\x3e \x3c%- publishWithCropMarks %\x3e\x3c/label\x3e\x3c/div\x3e\x3c% if (displayRemoveCanvasOption) { %\x3e\x3cdiv class\x3d"toggle"\x3e\x3clabel class\x3d"removeCanvas"\x3e\x3cinput type\x3d"checkbox" name\x3d"removeCanvas"\x3e \x3c%- makeBackgroundTransparent %\x3e \x3c/label\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"optionsToggle"\x3e\x3ca href\x3d"#"\x3e\x3c%- options %\x3e \x3cspan class\x3d"icon arrow"\x3e\x26#xe003;\x3c/span\x3e\x3c/a\x3e\x3c/div\x3e');function ND(){}ND=W.extend();ND.prototype.events=function(){var a=W.prototype.events.call(this);a["touchClick .resubmitLayout"]=this.XA;return a};ND.prototype.initialize=function(a){this.xD=a.resubmit;var b="in layout review";this.options.forSale&&(b="for sale as a layout");b={title:b.charAt(0).toUpperCase()+b.slice(1),content:$(ND.gg({status:b})),ce:""};W.prototype.initialize.call(this,_.extend({},b,a))};
ND.prototype.render=function(){W.prototype.render.call(this);this.$(".buttonContainer").remove();return this};ND.prototype.XA=function(){this.xD();this.remove()};ND.gg=_.template('\x3cp\x3eThis design is \x3c%- status %\x3e.\x3c/p\x3e\x3cbr\x3e\x3cdiv class\x3d"layoutThumbnail"\x3e\x3c/div\x3e\x3cdiv class\x3d"exportButtons"\x3e\x3cbutton class\x3d"button buttonBlock resubmitLayout"\x3eResubmit\x3c/button\x3e\x3c/div\x3e');function OD(){}OD=Backbone.View.extend({className:"shareViaEmailForm",tagName:"form"});OD.prototype.events=function(){return{"click button":this.send,submit:this.send}};OD.prototype.initialize=function(a){this.mode=a.mode;this.Me=a.Me;this.Ub=a.Ub};OD.prototype.render=function(){this.$el.html(OD.template({sendLabel:this.Ub.send(),placeholder:this.Ub.format("shareViewEmailInputPlaceholder")}));return this};
OD.prototype.send=function(a){a.preventDefault();a=this.$("input").val().replace(/[ ,;]+/g,",").split(",").map(Kp).filter(Boolean);0===a.length?alert("Enter some email addresses!"):(this.$("button").prop("disabled",!0),this.trigger("sendClicked",{emailAddresses:a,mode:this.mode,extension:this.Me}))};OD.template=_.template('\x3cinput class\x3d"textInput" placeholder\x3d"\x3c%- placeholder %\x3e" type\x3d"text"\x3e\x3cbutton class\x3d"button"\x3e\x3c%- sendLabel %\x3e\x3c/button\x3e');function PD(){}PD=W.extend({className:"descriptionPopOver"});f=PD.prototype;f.initialize=function(a){var b={title:"Design title",content:$("\x3ctextarea\x3e").addClass("textInput")};a=_.extend({},b,a);W.prototype.initialize.call(this,a);this.on("hide",this.dB)};f.events=function(){var a=W.prototype.events.apply(this,arguments);a["keydown textarea"]=this.PB;return a};
f.render=function(){W.prototype.render.call(this);var a=this.model.Aa();$y(a)?this.$("textarea").val(""):this.$("textarea").val(a.yg());return this};f.Md=function(a){W.prototype.Md.call(this,a);this.$("textarea").autosize({append:""}).focus().select();return this};f.dB=function(a){var b=this.$("textarea"),c=this.model.Aa(),b=b.val().trim();2!==a&&0!==a||b===c.yg()||(F&&(a=F,a.track("design",{title:b,source:"typed",template:a.Qa})),az(c,b))};
f.PB=function(a){var b=a.altKey||a.shiftKey;13!=a.which||b||(a.preventDefault(),this.ok())};function QD(){}QD=cl.extend({id:"exportDialog"});f=QD.prototype;f.events=function(){var a=cl.prototype.events.call(this);a["touchClick .startExport"]=this.dh;return a};f.initialize=function(a){a=_.defaults({},a,{Kg:$.noop,Lg:$.noop});cl.prototype.initialize.call(this,a);this.sg=new RD(ra);this.listenTo(this.sg,"change:state",this.hk);this.Kg=this.Kg||a.Kg;this.Lg=this.Lg||a.Lg};f.rp=function(){return kk(jk(ik(new hk,u.ya()),u.vb()),gk(ek(dk(new bk,96))).Xi("PREVIEW"))};
f.hk=function(a,b){if("complete"===b)this.Lg();else if("error"===b){var c="I ran into trouble publishing the following design: "+hA(u.ya());fl(this,"Whoops");this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button startExport"\x3eTry again\x3c/button\x3e\x3c/div\x3e');this.$(".exporting").html('\x3cp\x3eOur publishing elves ran into a problem. Try to publish your design again.\x3c/p\x3e\x3cp\x3eIf you still get an error then email us at \x3ca href\x3d"mailto:support@canva.com?subject\x3dPublishing%20Error\x26body\x3d'+
encodeURIComponent(c)+'" target\x3d"_blank"\x3esupport@canva.com\x3c/a\x3e.\x3c/p\x3e')}else"exporting"===b&&SD(this)};f.remove=function(){cl.prototype.remove.call(this);this.sg.cancel()};f.render=function(){cl.prototype.render.call(this);this.$(".content").append('\x3cdiv class\x3d"exporting"\x3e');return this};f.show=function(){cl.prototype.show.call(this);this.dh();return this};
function SD(a){var b=a.$(".exporting"),c=0,d=$('\x3cdiv class\x3d"progress"\x3e\x3c/div\x3e'),e=$('\x3cdiv class\x3d"progressValue"\x3e\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e\x3c/div\x3e');e.css("width","2%");d.append(e);b.empty();a.Kg();b.prepend(d);a.$(".buttonContainer").remove();var g=window.setInterval(function(){c++;50<Math.floor(100*Math.random())&&e.css("width",10*c+"%");10===c&&(e.css("width","100%"),window.clearInterval(g))},400)}f.dh=function(){this.sg.Nm(this.rp())};function TD(){}
TD=QD.extend({className:"shareExport"});f=TD.prototype;f.events=function(){var a;a=QD.prototype.events.call(this);a["touchClick .share"]=this.GC;return a};f.initialize=function(a){QD.prototype.initialize.call(this,_.extend({title:"Share on "+this.options.name},a))};f.Kg=function(){this.$(".exporting").html("\x3cp\x3ePlease wait while your design is prepared for sharing on "+this.options.name+".\x3c/p\x3e")};
f.Lg=function(){this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button share"\x3eShare it now\x3c/button\x3e\x3c/p\x3e');this.$(".exporting").html("\x3cp\x3eGood news! Your design is ready.\x3c/p\x3e")};f.GC=function(a){a.preventDefault();UD.openWindow(this.options.link,this.options.width,this.options.height);this.ok()};function UD(){}UD=Backbone.View.extend({className:"shareView"});f=UD.prototype;f.events=function(){return{"touchClick .buttonFacebook":this.NA,"touchClick .buttonTwitter":this.ZA,"touchClick .shareButtonEmail":this.MA,"touchClick .shareButtonPinterest":this.WA,"touchClick .shareButtonLinkedIn":this.QA,"change .shareOptions input":this.AA,"focus .shareLink input":this.oB,"mousedown .shareLink input":this.UB}};
f.initialize=function(a){this.location=a.location;this.uu=null;var b=u.context.Bj().view;if(b){var c=u.ya();this.uu=jA(gA(c,"share")+"?role\x3dVIEWER\x26token\x3d"+encodeURIComponent(b),c,this.location,"link")}this.tu=null;if(b=wj())c=u.ya(),this.tu=jA(gA(c,"share")+"?role\x3dEDITOR\x26token\x3d"+encodeURIComponent(b),c,this.location,"link");this.bE=iA(u.ya(),this.location,"link");b=u.ya();this.DD=gA(b,"screen",vj(u));this.cz=a.emailButton;this.kE=a.showSharingOptions;this.sj=new OD({mode:"default",
Me:vj(u),Ub:a.shareViewMessages});this.xa=a.features;this.Ub=a.shareViewMessages;this.vw=["Take a look at my new @Canva creation!","Check out my new @Canva design!","I just made this fantastic design with @Canva!","How great does my new @Canva design look?"]};
f.render=function(){Backbone.View.prototype.render.call(this);var a=UD.gg;this.$el.append(a({emailButton:this.cz,showSharingOptions:this.kE,showFacebook:!!this.xa.Ma.get(ic),showTwitter:!!this.xa.Ma.get(jc),showEmail:!!this.xa.Ma.get(kc),showLinkedIn:!!this.xa.Ma.get(mc),showPinterest:!!this.xa.Ma.get(lc),shareOnFacebookTitle:this.Ub.Ar(),shareOnTwitterTitle:this.Ub.format("shareViewShareOnTwitter"),shareOnPinterestTitle:this.Ub.format("shareViewShareOnPinterest"),postLabel:this.Ub.post(),tweetLabel:this.Ub.format("shareViewTweet"),
pinItLabel:this.Ub.format("shareViewPinIt"),shareLabel:this.Ub.zr(),emailLabel:this.Ub.email(),linkLabel:this.Ub.link(),shareAsEditableDesign:this.Ub.ZD()}));this.$(".shareEmail").append(this.sj.render().el);this.listenTo(this.sj,"sendClicked",this.LA);this.listenTo(this,"emailSendingError",this.Ly);this.$("#shareLinkDefault").val(this.bE);this.$("#shareLinkViewer").val(this.uu||"");this.$("#shareLinkEditor").val(this.tu||"");return this};
f.Yf=function(a,b,c,d){this.trigger("shareClicked",{type:a,link:b,height:c,width:d})};f.NA=function(a){a.preventDefault();a="https://www.facebook.com/sharer/sharer.php?u\x3d"+encodeURIComponent(iA(u.ya(),this.location,"facebook"));this.Yf("facebook",a,550,420)};
f.ZA=function(a){a.preventDefault();a=this.vw[Math.floor(Math.random()*this.vw.length)];a="https://twitter.com/intent/tweet?url\x3d"+encodeURIComponent(iA(u.ya(),this.location,"twitter"))+"\x26text\x3d"+encodeURIComponent(a);this.Yf("twitter",a,550,420)};f.WA=function(a){a.preventDefault();a="http://pinterest.com/pin/create/button/?url\x3d"+encodeURIComponent(iA(u.ya(),this.location,"pinterest"))+"\x26media\x3d"+encodeURIComponent(this.DD);this.Yf("pinterest",a,316,744)};
f.QA=function(a){a.preventDefault();a="https://www.linkedin.com/shareArticle?mini\x3dtrue\x26url\x3d"+encodeURIComponent(iA(u.ya(),this.location,"linkedin"));this.Yf("linkedin",a,606,445)};f.MA=function(a){a.preventDefault();this.$(".shareEmail").show();this.trigger("shareViewResize")};f.LA=function(a){this.trigger("emailSend",a)};
f.AA=function(a){this.$(".shareLink").removeClass("default editor");if(a.currentTarget.checked){a=this.sj;var b=wj()||null;a.mode="editor";a.Me=b;this.$(".shareLink").addClass("editor");this.$(".shareLink label").attr("for","shareLinkEditor")}else a=this.sj,b=vj(u)||null,a.mode="default",a.Me=b,this.$(".shareLink").addClass("default"),this.$(".shareLink label").attr("for","shareLinkDefault")};f.oB=function(a){$(a.currentTarget).select()};f.UB=function(a){$(a.currentTarget).focus();a.preventDefault()};
f.Ly=function(a){var b=this.sj.$("button");b.prop("disabled",!1);b.attr("class","");this.$(".shareEmail h2").append('\x3cp class\x3d"error"\x3e'+a+"\x3c/p\x3e");this.trigger("shareViewResize")};UD.gg=_.template('\x3cdiv class\x3d"shareButtons"\x3e\x3c% if (showFacebook) { %\x3e\x3cbutton class\x3d"button buttonFacebook" title\x3d"\x3c%- shareOnFacebookTitle %\x3e"\x3e\x3c%- postLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (showTwitter) { %\x3e\x3cbutton class\x3d"button buttonTwitter" title\x3d"\x3c%- shareOnTwitterTitle %\x3e"\x3e\x3c%- tweetLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (showPinterest) { %\x3e\x3cbutton class\x3d"button shareButtonPinterest" title\x3d"\x3c%- shareOnPinterestTitle %\x3e"\x3e\x3c%- pinItLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (showLinkedIn) { %\x3e\x3cbutton class\x3d"button shareButtonLinkedIn" title\x3d"\x3c%- shareOnLinkedInTitle %\x3e"\x3e\x3c%- shareLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c% if (emailButton \x26\x26 showEmail) { %\x3e\x3cbutton class\x3d"button shareButtonEmail"\x3e\x3c%- emailLabel %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c/div\x3e\x3cdiv class\x3d"shareEmail" style\x3d"\x3c% if (!emailButton) { %\x3e display: block; \x3c% } %\x3e"\x3e\x3ch2\x3e\x3c%- emailLabel %\x3e\x3c/h2\x3e\x3c/div\x3e\x3c% if (showSharingOptions) { %\x3e\x3cdiv class\x3d"shareOptions toggle"\x3e\x3clabel\x3e\x3cinput type\x3d"checkbox"\x3e \x3c%- shareAsEditableDesign %\x3e\x3c/label\x3e\x3c/div\x3e\x3c% } %\x3e\x3cdiv class\x3d"shareLink default"\x3e\x3clabel for\x3d"shareLinkDefault"\x3e\x3c%- linkLabel %\x3e\x3c/label\x3e\x3cinput id\x3d"shareLinkDefault" readonly type\x3d"text"\x3e\x3cinput id\x3d"shareLinkEditor" readonly type\x3d"text"\x3e\x3cinput id\x3d"shareLinkViewer" readonly type\x3d"hidden"\x3e\x3c/div\x3e');
UD.openWindow=function(a,b,c){window.open(a,"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d"+b+",height\x3d"+c+",left\x3d445,top\x3d240")};function VD(){}VD=QD.extend({className:"shareExport shareViaEmail"});f=VD.prototype;f.events=function(){var a=QD.prototype.events.call(this);a["click .retryEmail"]=this.yD;return a};f.initialize=function(a){QD.prototype.initialize.call(this,{title:"Emailing..."});this.Go=a.Go;this.mode=a.mode;this.Me=a.Me;this.rj=a.rj;this.Ir=new Uk(a.Qj)};f.rp=function(){var a;a=QD.prototype.rp.call(this);a.vp().pages=[1];return a};f.Kg=function(){fl(this,"Emailing your design");this.$(".exporting").html("\x3cp\x3ePlease wait while your design is sent.\x3c/p\x3e")};
f.Lg=function(){WD(this)};f.yD=function(a){a.preventDefault();WD(this);SD(this)};function WD(a){Vk(a.Ir,a.Go,a.rj,a.mode,a.Me,"sharebutton").bind(a).then(a.lE).catch(a.eE)}
f.eE=function(){var a="I ran into trouble emailing the following design: "+hA(u.ya());fl(this,"Whoops");this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button retryEmail"\x3eTry again\x3c/button\x3e\x3c/div\x3e');this.$(".exporting").html('\x3cp\x3eOur email elves ran into a problem. Try sending your design again.\x3c/p\x3e\x3cp\x3eIf you still get an error then email us at \x3ca href\x3d"mailto:support@canva.com?subject\x3dEmail%20Error\x26body\x3d'+encodeURIComponent(a)+
'" target\x3d"_blank"\x3esupport@canva.com\x3c/a\x3e.\x3c/p\x3e')};f.lE=function(){var a=this.rj.length,b=this.rj[0],a="Good news! Your design has been sent to "+(1===a?b:a+" people")+".";fl(this,"Good news!");this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOK\x3c/button\x3e\x3c/div\x3e');this.$(".done").focus();this.$(".exporting").html("\x3cp\x3e"+a+"\x3c/p\x3e")};function XD(){}XD=QD.extend({className:"shareOnFacebook"});f=XD.prototype;f.events=function(){var a=QD.prototype.events.call(this);a["touchClick .share"]=this.Ar;return a};f.initialize=function(){QD.prototype.initialize.call(this,{title:"Share on Facebook"})};f.Kg=function(){fl(this,"Preparing your design");this.$(".exporting").html("\x3cp\x3ePlease wait while your design is prepared for sharing on Facebook.\x3c/p\x3e")};
f.Lg=function(){fl(this,"Good news!");this.$(".content").append('\x3cp class\x3d"buttonContainer"\x3e\x3ca href\x3d"#" target\x3d"_blank" class\x3d"button share"\x3eShare it now\x3c/button\x3e\x3c/div\x3e');this.$(".exporting").html("\x3cp\x3eYour design is ready to share.\x3c/p\x3e")};f.Ar=function(a){a.preventDefault();a=iA(u.ya(),"v1","facebook");window.open("https://www.facebook.com/sharer/sharer.php?u\x3d"+encodeURIComponent(a),"","scrollbars\x3dyes,resizable\x3dyes,toolbar\x3dno,location\x3dyes,width\x3d550,height\x3d420,left\x3d445,top\x3d240")};function YD(){}YD=W.extend();f=YD.prototype;f.defaults=function(){return{title:"Share",ce:""}};f.initialize=function(a){a=_.extend(this.defaults(),a);W.prototype.initialize.call(this,a);this.Ci=new UD({location:"sharebutton",emailButton:!1,showSharingOptions:!(!wj()||!u.context.Bj().view),features:ac(),shareViewMessages:Ab(a.L)});this.listenTo(this.Ci,{shareClicked:this.Yf,emailSend:this.Vo})};
f.render=function(){W.prototype.render.call(this);this.$(".dialog").addClass("shareDialog");this.$(".buttonContainer").remove();this.$(".content").append(this.Ci.render().el);return this};f.Yf=function(a){this.ok();var b={facebook:"Facebook",linkedin:"LinkedIn",pinterest:"Pinterest",twitter:"Twitter"}[a.type];if(void 0===b)throw Error("Sharing type "+a.type+" not handled.");this.mz=new TD(_.extend({name:b},a));this.mz.show();F&&He(a.type,"sharebutton")};
f.Vo=function(a){this.ok();var b=a.emailAddresses;(new VD({Go:u.ya(),mode:a.mode,Me:a.extension,rj:b,Qj:va})).show();F&&He("email","sharebutton")};function Cz(){}Cz=Backbone.View.extend({el:"#canvaDocument"});Cz.Hy=function(){$("#addNewPage").remove();Cz.mx=!0};f=Cz.prototype;f.events=function(){return{"click #addNewPage":this.Px,"click \x3e .inner \x3e .page":function(){return!1},"mousedownTouchstart \x3e .inner \x3e .page":this.nq,mousemove:this.mousemove,mouseout:this.mouseout,scroll:this.FD}};f.remove=function(){this.undelegateEvents();this.stopListening();this.qa.forEach(function(a){a.remove()})};
f.initialize=function(a){this.listenTo(this.model,{"page:add":this.KC,"page:move":this.LC,"page:remove":this.MC,resize:this.ip});this.listenTo(E,{"pageView:copyButton:click":this.ov,"pageView:deleteButton:click":this.ov,"pageView:toolbar:mouseout":this.PC});this.qa=[];var b=this;this.model.O.forEach(function(a){b.qa.push(new ZD({model:a}))});this.L=a.L;this.Hd=this.Pj=this.Zb=this.Sq=0;this.Wn=!1;this.kA=bd(this);this.ee=function(){var a=b.model.O[0],a=Math.max(a.A(),a.B());return Math.max(1,Math.min(a/
1024))}();this.render()};
f.render=function(){var a=this.$el.children(".inner"),b=this;this.qa.forEach(function(c,d){c.render();a.append(c.$el);c.Be($D(b,d));c.$el.addClass("on")});var c=this.qa[this.qa.length-1].$el,d=this.$("#addNewPage");Cz.mx?(d.hide(),this.$el.removeClass("multiPage")):(d.css("top",$D(this,this.qa.length)),d.insertAfter(c),this.$el.removeClass("multiPage"),this.model.ja.multiPage&&(this.$el.addClass("multiPage"),1<this.model.O.length&&30<=this.model.O.length&&this.$("#addNewPage").addClass("off")));var c=
$D(this,0),d=aE(this),e=wy();a.css("height",c+d+($(window).height()-e.sa()));this.ip();return this};f.Px=function(a){a=$(a.currentTarget);if(!a.is(":animated")&&!a.is(".off")){a=pi(this.model);var b=vv(a.serialize(!0));b.pageIndex=T(this.model,a);C.register(new xv(1,b))}bE(this);return!1};
f.FD=function(){var a=this.$el.scrollTop()||0,b=$D(this,0),c=wy(),d;d=this.model;d=T(d,I(d));var e=this.qa[d].$el.offset(),g=this.Sq<a?"down":"up",h=-1;E.trigger("documentView:scroll",a);Tg();this.Sq=1*a;cE(this);window.clearTimeout(this.Pj);if(!this.$el.hasClass("modifying")){d=$(window).height();if(Ay>d/2)for(c=0;c<this.qa.length-1;c++){h=b+c*(Ay+By);if(h<a){if(e=h+Ay-a,0>=e){h=c+1;continue}}else e=a+d-h;h=e>a+d-(h+Ay)?c:c+1;break}else"up"==g&&e.top+Ay>c.sa()?h=Math.floor((a+$(window).height()-
(b-By))/(Ay+By))-1:"down"==g&&0>e.top&&(h=Math.ceil((a-b)/(Ay+By)));0==a?h=0:a>=this.$el.children(".inner").height()-this.$el.prop("clientHeight")&&(h=this.model.O.length-1);0<=h&&(h=Math.min(this.model.O.length-1,h),h=Math.max(0,h),ji(this.model,h))}};f.mousemove=function(a){this.kA.read(function(){var b=(void 0!==a.clientY?a.clientY:a.touches[0].clientY)+this.$el.scrollTop();this.qa.forEach(function(a){var d=a.ba();bd().write(function(){b>d.K()&&b<d.sa()?a.$el.addClass("pseudoHover"):a.$el.removeClass("pseudoHover")}).done()})})};
f.mouseout=function(a){-1<$(a.relatedTarget||a.toElement).parents().addBack().index(this.$el.children(".inner"))||this.qa.forEach(function(a){a.$el.removeClass("pseudoHover")})};
f.nq=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.touches[0].clientX)-e;a=(void 0!==a.clientY?a.clientY:a.touches[0].clientY)-g;if(k||4<Math.abs(b)||4<Math.abs(a)){k||(k=!0,d.$el.addClass("dragging doNotAnimate"),ji(p,T(p,r)));for(var b=-1,c=0;c<m.length&&!(h+a<m[c]);c++)b++;0>b&&(b=0);si(p,r,b);b=a=h+a;a<y?(b=(y-a)/(y-w),b=2>=b?y-(y-a)*(1-b/4):w):a>z&&(b=(a-z)/(x-z),b=2>=b?z+(a-z)*(1-b/4):x);d.Be(b)}return!1}function c(){l.off("mousemove|touchmove",b).off("mouseup|touchend",c);
if(k){d.$el.removeClass("doNotAnimate");var a=r.V(),e=$D(v,a);d.$el.animate({top:e},500,"easeOutBack",function(){d.Be(e);d.$el.removeClass("dragging")});C.register(new xv(5,{pageIndex:a,oldPageIndex:q}))}}if(!(0==$(a.target).parents(".pageToolbar").addBack(".pageToolbar").length||0<$(a.target).parents("a").addBack("a").length)){var d=null;this.qa.forEach(function(b){b.$el.get(0)==a.currentTarget&&(d=b)});var e=void 0!==a.clientX?a.clientX:a.touches[0].clientX,g=void 0!==a.clientY?a.clientY:a.touches[0].clientY,
h=d.fb(),k=!1,l=new S($(document));l.on("mousemove|touchmove",b).on("mouseup|touchend",c);for(var m=[],n=0;n<this.qa.length;n++)m.push($D(this,n)-Ay/2);var p=this.model,r=d.model,q=T(p,r),v=this,w=$D(this,-1),x=$D(this,this.qa.length),y=$D(this,0),z=$D(this,this.qa.length-1);return!1}};
f.MC=function(a,b,c){M();var d=this,e=this.qa[c];window.clearTimeout(this.Pj);this.Zb&&ji(a,Math.min(a.O.length-1,c));b={height:0,top:$D(this,c)+this.Hd*(Ay+By)};this.Zb&&c==a.O.length&&(b.top+=Ay);this.$el.addClass("modifying");e.$el.addClass("removing").animate(b,{duration:500,de:"easeOutSine",queue:!1,complete:function(){e.remove();d.$el.removeClass("modifying");d.Zb?Vu&&(d.Pj=window.setTimeout(function(){cE(d)},1E3)):dE(d)}});this.qa.splice(c,1);eE(this,c);this.$el.hasClass("holding")||fE(this,
c)};
f.KC=function(a,b,c,d){30<=this.model.O.length&&this.$("#addNewPage").addClass("off");M();a=!0;!1===d&&(a=!1);d=T(this.model,b);c=b.B()*L;var e=this.qa[0];this.qa.splice(d,0,new ZD({model:b}));var g=this.qa[d];b=e.Za();var h=this,k=$D(this,d,this.model.O.length-1);gE(g,b,k+this.Hd*(Ay+By));g.$el.addClass("on").css("height",0);window.clearTimeout(this.Pj);this.Zb?ji(this.model,d-1):a&&ji(this.model,d);0==d?g.$el.insertBefore(e.$el):g.$el.insertAfter(this.qa[d-1].$el);h.$el.addClass("modifying");var l=
$D(this,d);g.$el.animate({height:c,top:l},{duration:500,de:"easeOutSine",queue:!1,complete:function(){g.Be(l);h.$el.removeClass("modifying");h.Zb&&Vu&&(h.Pj=window.setTimeout(function(){cE(h)},1E3))}}).css("overflow","");eE(this,d);a&&!this.$el.hasClass("holding")&&fE(this,d)};
f.LC=function(a,b,c,d){function e(a,b){return function(){a.Be(b)}}a=this.qa[c];b=this.qa[d];c<d?a.$el.insertAfter(b.$el):c>d&&a.$el.insertBefore(b.$el);this.qa.splice(d,0,this.qa.splice(c,1)[0]);c>d&&(a=c,c=d,d=a);for(;c<=d;c++)a=this.qa[c],a.$el.hasClass("dragging")||(b=$D(this,c),a.$el.animate({top:b},500,e(a,b)));fE(this,d)};f.ov=function(){this.Zb=this.Zb||this.model.O.length;this.$el.addClass("holding");30>=this.model.O.length&&this.$("#addNewPage").removeClass("off")};f.PC=function(){cE(this)};
function cE(a){a.Zb&&!a.$el.hasClass("modifying")&&(a.Zb=0,a.Hd=0,eE(a,0,!0),a.$el.removeClass("holding"))}function dE(a){if(!Fl){var b=wy(),c=a.qa[0],d=hE(c),e=iE(c),g;d.A()<=b.A()?(g=b.N()+Math.round((b.A()-d.A())/2),a.$el.children(".inner").css("width","")):(g=b.N()+b.A()/6,a.$el.children(".inner").css("width",g+e.A()+g));a.qa.forEach(function(b,c){var d=$D(a,c);gE(b,g,d)});e=iE(c);a.$("#addNewPage").css("top",$D(a,a.qa.length)).css("left",e.N()).css("width",e.A())}}
function $D(a,b,c){var d=ug(a.model.ja)*L;void 0===c&&(c=a.model.O.length);a.Zb&&(c=a.Zb);var e=wy(),g=Math.round(50*L);a=aE(a,c);c=e.K();Fl?c=0:a<=e.B()&&(c+=(e.B()-a)/2);return c+(d+g)*b}function aE(a,b){var c,d=ug(a.model.ja)*L;void 0===b&&(b=a.model.O.length);void 0===c&&(c=zy);a.Zb&&(b=Math.max(a.Zb,b));c=yy[c];var e=a.$("#addNewPage"),d=b*d+50*(b-1)*c;a.model.Tp()&&!$("body").hasClass("blockDocument")&&(d+=50*c+e.outerHeight());return Math.round(d)}
function jE(a,b){var c=wy(),d=aE(a);d>c.B()?(d=$D(a,0)+d+(a.$el.prop("clientHeight")-c.sa()),Ay>c.B()&&(d+=c.A()/6)):d=a.$el.prop("clientHeight");b?a.$el.children(".inner").animate({height:d},{duration:500,de:"easeOutSine",queue:!1}):a.$el.children(".inner").css("height",d)}
function eE(a,b,c){var d=ug(a.model.ja);void 0===b&&(b=0);void 0===c&&(c=0<a.Zb);jE(a,c);var e=0;a.Zb&&b==a.model.O.length?(c=(a.Hd||a.Zb)-b,a.Hd!=c-1&&(c=a.Hd+1,a.Hd=b),e+=(d+50*L)*c,a.Hd=c):a.Hd&&(c=a.Hd,e+=(d+50*L)*c);a.$("#addNewPage").animate({top:$D(a,a.qa.length)+e},{duration:500,de:"easeOutSine",queue:!1});var g=a.$el.scrollTop()||0,h=g+a.$el.prop("clientHeight");a.qa.forEach(function(a,b){var c=$D(this,b)+e,n=c+d;!this.Zb&&!this.Hd||n>g&&c<h?a.$el.addClass("transitioning").animate({top:c},
{duration:500,de:"easeOutSine",queue:!1,complete:function(){a.Be(c)}}):a.Be(c)},a);window.setTimeout(function(){for(var b=0;b<a.qa.length;b++)a.qa[b].$el.removeClass("transitioning")},500)}
function fE(a,b){b=Math.max(0,Math.min(a.qa.length-1,b));var c=a.$el.scrollTop()||0;if(b==a.qa.length-1)c=wy(),c=$D(a,a.model.O.length)+a.$("#addNewPage").height()-c.sa();else{var d=$D(a,b),e=d+Ay,g=a.$el.prop("clientHeight"),g=c+g;g<e?c+=e-g+48:c>e&&(c-=c-d+48)}a.Wn||c==a.$el.scrollTop()||(a.Wn=!0,a.$el.animate({scrollTop:c},500,"easeOutSine",function(){a.Wn=!1}))}
f.ip=function(a){a=a||I(this.model);var b=wy(),c=zy,d=iE(this.qa[a.V()]).scale(1/L),c=d.A(),e=d.B();if(Fl||0===c||0===e)c=yy.indexOf(1);else{d=b.A()/c;t&&t.Tp&&t.Tp()?(d=(b.A()-$(".pageToolbar").outerWidth(!0))/c,(e+50)*d>b.B()-this.$("#addNewPage").outerHeight()&&(d=(b.B()-this.$("#addNewPage").outerHeight())/(e+50))):e*d>b.B()&&(d=b.B()/e);-1==fb.indexOf(Kl)&&(b=yy.indexOf(Kl),yy.splice(b,1));Kl=Math.min(d,1);for(b=yy.length-1;0<=b;b--)if(Kl<yy[b]){yy.splice(b+1,0,Kl);break}else if(Kl==yy[b])break;
c=yy.indexOf(Kl)}Cy(this,c,a)};function np(a){for(var b=Da,c=0;c<b.qa.length;c++)if(b.qa[c].model==a)return b.qa[c].ba();return null}
function Cy(a,b,c){c=c||I(a.model);a.$el.addClass("zooming");c=a.qa[c.V()];zy=b;L=yy[b];By=Math.round(50*L);Ay=Math.round(hE(c).B());tx();E.trigger("documentView:zoom",b);dE(a);jE(a,!1);b=wy();var d=a.$el.children(".inner").width();c=kE(c);d>b.A()&&(d=Math.round(c.N()+c.A()/2),d=Math.round(d-b.N()-b.A()/2),c.A()<b.A()&&(d+=(b.A()-c.A())/2),a.$el.scrollLeft(d));aE(a)>b.B()&&(c=Math.round(c.K()+c.B()/2),a.Sq=1*(a.$el.scrollTop()||0),a.$el.scrollTop(Math.round(c-b.sa()/2)));a.model.fa().forEach(function(a){a.ra()});
Yr(ub(a.L));a.$el.removeClass("zooming")}function bE(a){a.$el.focus().blur();window.getSelection().removeAllRanges()};function ci(){}ci=W.extend();f=ci.prototype;
f.initialize=function(a){a=_.defaults({},a,{Ei:!0,title:"View your designs",ce:"Got it, thanks!",position:"topLeft",ud:{left:10,top:-10},anchor:$("#editorLogo"),Qr:5});this.method=a.method||(.5<Math.random()?"onboarding:complete":"session:sync");this.nw=0;this.Qr=a.Qr;this.anchor=a.anchor;switch(this.method){case "onboarding:complete":a.content=$('\x3cp class\x3d"viewYourDesigns"\x3eYour design will be saved automatically to your homepage. When you\x26rsquo;ve finished designing, click here to view your designs.\x3c/p\x3e');break;
case "session:sync":a.content=$('\x3cp class\x3d"viewYourDesigns"\x3eYour design is now saved to your homepage. When you\x26rsquo;ve finished designing, click here to view your designs.\x3c/p\x3e')}this.xp=this.xp.bind(this);this.listenTo(E,this.method,this.handleEvent.bind(this));W.prototype.initialize.call(this,a)};f.handleEvent=function(){switch(this.method){case "onboarding:complete":lE(this);break;case "session:sync":this.nw++,this.nw==this.Qr&&lE(this)}};f.xp=function(){F&&Fe("homepage")};
function lE(a){a.Md(a.anchor);a.anchor.on("click",a.xp)}f.Wl=function(){return mE};f.remove=function(){switch(this.method){case "onboarding:complete":F&&Ie("layout_onboarding_complete_view_designs","view_designs_dialog");break;case "session:sync":F&&Ie("five_saves_view_designs","view_designs_dialog")}cl.prototype.remove.call(this)};function nE(a,b,c){this.context=a;this.active=!!c;this.Wa=b}nE.prototype.getContext=function(){return this.context};
function oE(a){switch(a.context){case "PUBLIC_STREAM":return a.Wa.format("editorControlsPublicationPublic");case "TEAM_STREAM":return a.Wa.format("editorControlsPublicationShowing");case "TEAM_TEMPLATE":return a.Wa.format("editorControlsPublicationTemplated");case "MARKETPLACE_LAYOUT":return a.Wa.format("editorControlsPublicationMarketplace");default:throw Error("Unknown EditorConfig.PublicationContext "+a.context);}}
function pE(a){switch(a.context){case "PUBLIC_STREAM":return a.Wa.format("editorControlsPublicationMakeActivePublic");case "TEAM_STREAM":return a.Wa.format("editorControlsPublicationMakeActiveShowTeam");case "TEAM_TEMPLATE":return a.Wa.format("editorControlsPublicationMakeActivePublishAsTemplate");case "MARKETPLACE_LAYOUT":return a.Wa.format("editorControlsPublicationMakeActivePublishAsLayout");default:throw Error("Unknown EditorConfig.PublicationContext "+a.context);}}
nE.prototype.toggle=function(a){return new nE(this.context,this.Wa,void 0!==a?a:!this.active)};var qE={PUBLIC_STREAM:2,TEAM_STREAM:0,TEAM_TEMPLATE:1},rE={PUBLIC_STREAM:"switchMakePublic",TEAM_STREAM:"switchShowTeam",TEAM_TEMPLATE:"switchPublishTemplate",MARKETPLACE_LAYOUT:"switchPublishLayout"};function sE(){}sE=W.extend({className:"docPublisherPopOver"});sE.prototype.initialize=function(a){W.prototype.initialize.call(this,a);this.Wa=a.Wa};
function tE(a,b){function c(a,c){return new nE(b[c].getContext(),d.Wa,lA(a))}var d=a,e=b.map(function(a){return new kA({on:a.active})}),g=e.map(function(a,c){var e=$(d.BE({label:pE(b[c])}));e.addClass(rE[b[c].context]);a.render().$el.appendTo(e);return e}),h=a.$(".buttonContainer");g.forEach(function(a){a.insertBefore(h)});return new P(function(a,b){d.once("hide",function(d){return 2===d?a(e.map(c)):b(new uE)})})}sE.prototype.zh=_.template('\x3cp class\x3d"error"\x3e\x3c%- message %\x3e\x3c/p\x3e');
sE.prototype.BE=_.template('\x3cdiv class\x3d"switchContainer"\x3e\x3clabel\x3e\x3c%- label %\x3e\x3c/label\x3e\x3c/div\x3e');function vE(a){this.analytics=a.analytics;this.document=a.document;this.ka=a.ka;this.Rb=a.Rb;this.Ff=a.Ff;this.ri=[];var b={};b.PUBLIC_STREAM=this.si.bind(this);b.TEAM_STREAM=this.co.bind(this);b.TEAM_TEMPLATE=this.Pk.bind(this);b.MARKETPLACE_LAYOUT=this.hD.bind(this);this.gD=b;b={};b.PUBLIC_STREAM=this.Ri.bind(this);b.TEAM_STREAM=this.fo.bind(this);b.TEAM_TEMPLATE=this.Sk.bind(this);this.VE=b;this.cj=this.$k=null;this.Wa=a.Wa}f=vE.prototype;f.on=Backbone.Events.on;f.once=Backbone.Events.once;
f.trigger=Backbone.Events.trigger;f.listenTo=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;f.Qs=function(a){return 0<a.filter(function(a){return a.active}).length&&this.document.isEmpty()?P.reject(Error("You cannot publish a design that has no content.")):P.resolve(a)};function wE(a,b){var c=a.Wa;a.cj=b.cg.get("associatedMedia",null);a.ri=rd(b).map(function(a){return new nE(a,c,0<=b.cg.get("activePublicationContexts",[]).indexOf(a))});return a}
function xE(a){return[].concat(a.ri).map(Object.freeze)}
f.Bw=function(a){function b(){return a.some(function(a){return a.active})}var c=this,d=function(){return a.map(function(a,b){var d=a.active?c.gD:c.VE;return a.active!==c.ri[b].active&&d[a.getContext()]})}();if(0===d.filter(function(a){return!!a}).length)return P.resolve(a);this.trigger("processingStateChange",!0);return Ll(1E3).then(function(){var e=d.map(function(a){return a?a():P.resolve(null)});return P.settle(e).then(function(d){var e=d.filter(function(a){return a.isRejected()});c.ri=d.map(function(b,
d){return(b.isFulfilled()?a:c.ri)[d]});if(0<e.length)throw e[0].reason();b()&&yE(c);return c.ri})}).finally(function(){c.trigger("processingStateChange",!1)})};function AE(a){var b=(new $n).Wi(!0);return a.cj?Cs(sa,a.cj,b).then(function(a){return a.da().lb()}):null!==a.cj?P.resolve("PENDING_REVIEW"):P.resolve(null)}f.co=function(){return this.ka.si("BRAND")};
f.si=function(){return this.ka.si("GLOBAL").tap(function(){var a=this.analytics,b=this.ka.ya();a.track("design_public",{design:b,template:a.Qa});a.increment("Public designs",1)}.bind(this))};f.Pk=function(){return this.ka.Pk().tap(function(){var a=this.analytics,b=this.ka.ya();a.track("design_templatify",{design:b,template:a.Qa})}.bind(this))};f.fo=function(){return this.ka.Ri("BRAND")};
f.Ri=function(){return this.ka.Ri("GLOBAL").tap(function(){var a=this.analytics,b=this.ka.ya();a.track("design_private",{design:b,template:a.Qa});a.increment("Public designs",-1)}.bind(this))};f.Sk=function(){return this.ka.Sk().tap(function(){var a=this.analytics,b=this.ka.ya();a.track("design_untemplatify",{design:b,template:a.Qa})}.bind(this))};
f.hD=function(){var a=this;return $y(this.document.Aa())?P.reject(Error("You cannot publish an untitled design as a layout - please title your design.")):function(){function b(a){return!!a.Y}return a.document.fa().some(function(a){return(a.origin?a.origin.Yb():"CANVA")===Wm})||a.document.O.some(b)}()?P.reject(Error("You cannot publish a design based from an existing layout.")):new P(function(b,c){function d(c,d){"submitted"==d&&(iv(),b(new nE("MARKETPLACE_LAYOUT",a.Wa,!0)))}var e=new BE(a.ka,a.Rb),
g=new CE({workflow:e});e.on("change:state",d);g.on("remove",function(){e.off("change:state",d);c(Error("No action specified"))});g.show()})};function DE(a){var b=dk(ek(gk(new bk)).Xi("THUMBNAIL"),96);return new P(function(c,d){var e=kk(jk(ik(new hk,a.ka.ya()),a.ka.vb()),b);a.Ff.th(e,c,d)})}function yE(a){function b(){c.$k=null}var c=a;a.$k||(a.$k=DE(a),a.$k.finally(b))}
function uE(){Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor);this.message="Cancelled document publication"}uE.prototype=Object.create(Error.prototype);uE.prototype.constructor=uE;function EE(a,b){return a.cg.get("editorActions",[]).map(function(a){return(a=FE[a]||null)?a(b):null})}
var FE={UPGRADE:function(a){var b=new GE({Wa:wb(a.L)});b.on("click",function(){var b=new HE,b=new IE({analytics:a.analytics,Ia:al(Yk()).ea(),lk:JE(b),sc:Vy(),jd:qa,profiles:ta,nl:!1,L:a.L});b.on("signup",function(){window.location="/brand/onboarding/upgrader"});KE(b);F.track("upgrade_cta_clicked",{location:"editor",variant:void 0})});return b},SHARE:function(a){var b=wb(a.L),c=new Backbone.View({tagName:"button",className:"button editorActionShare",events:{touchClick:function(b){(new YD({model:a.document,
L:a.L})).Md($(b.target))}}});c.$el.text(b.zr());return c},EXPORT:function(a){var b=wb(a.L),c=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{touchClick:function(b){(new FD({model:a.document,xa:a.xa,Nd:"DESIGN_TUTORIAL"===a.yb.Id(),L:a.L})).Md($(b.target))}}});c.$el.text(b.download());return c}};FE.PUBLISH_TO_STREAM=function(a){function b(){return xE(l).filter(function(a){return a.active}).sort(function(a,b){var c=qE[a.getContext()]||0,d=qE[b.getContext()]||0;return c===d?0:c>d?-1:1})[0]}function c(a){null!==a&&("APPROVED"===a?m.$el.addClass("publishToStreamSwitchForSale"):(m.$el.addClass("publishToStreamSwitchInReview"),iv()))}function d(a){a instanceof Error||(a=Error("There was an error flipping the switch"));(new ll({title:"Publishing error",content:$("\x3cp\x3e"+a.message+"\x3c/p\x3e")})).show().$el.addClass("docPublisherError")}
function e(b){var c=wb(a.L),e=xE(l).map(function(a,d){return new nE(a.getContext(),c,b&&0===d?b:a.active)}),h=new sE({ce:c.format("editorControlsPublicationSaveChanges"),Wa:c}),k=h.remove.bind(h);return tE(h.Md(m.$el),e).then(l.Qs.bind(l)).then(l.Bw.bind(l)).finally(g).tap(k).catch(uE,k).catch(d)}function g(){var a=b()||xE(l)[0];if(a){n=!0;try{var c=m,d=oE(a);c.gk=d;c.$(".switchLabelOn").text(d);m.toggle(a.active)}finally{n=!1}}}function h(a){var b=xE(l).map(function(b){return b.toggle(a)});return l.Qs(b).then(l.Bw.bind(l)).finally(g).catch(d)}
var k=rd(a.yb),l=wE(new vE({analytics:a.analytics,ka:a.ka,document:a.document,Rb:a.Rb,Ff:a.Ff,Wa:wb(a.L)}),a.yb),m=function(){var a=xE(l),c=a[0],d=b()||c;(a=d?new kA({on:d.active,gk:oE(d),rm:pE(c),qh:1===a.length||!d.active}):null)&&a.$el.addClass("publishToStreamSwitch");return a}(),n=!1;if(!m)return null;0<=k.indexOf("MARKETPLACE_LAYOUT")&&AE(l).then(c);m.on("toggle",function(a){var b=xE(l),c=1<b.length?e:h;m.qh=1===b.length||!a;if(!n)return c(a)});m.on("click",function(){m.qh||e()});l.on("processingStateChange",
function(a){m.$el.toggleClass("switchProcessing",a)});return m};function GE(){}GE=Backbone.View.extend({tagName:"button",className:"button buttonUpgrade"});GE.prototype.initialize=function(a){this.Wa=a.Wa};GE.prototype.events=function(){return{touchClick:this.trigger.bind(this,"click")}};GE.prototype.render=function(){this.$el.html(this.template({upgrade:this.Wa.cF()}));return this};GE.prototype.template=_.template('\x3cdiv class\x3d"buttonUpgradeSparkle"\x3e\x26starf;\x3c% _.times(5, function() { %\x3e\x3cspan\x3e\x3c/span\x3e\x3c% }); %\x3e\x3c/div\x3e\x3c%- upgrade %\x3e');function Dz(){}Dz=Backbone.View.extend({el:"#editorControls"});Dz.prototype.initialize=function(a){this.listenTo(this.model,"change:title",this.Vr);this.listenTo(this.model,"resize",this.Vr);this.listenTo(this.model,"change",this.Oy);this.listenTo(E,"documentView:scroll",this.Py);this.listenTo(E,"documentView:zoom",this.Qy);this.listenTo(E,"session:sync",this.or);this.xa=a.xa;this.Bf=a.Bf;this.ka=a.ka;this.Io=2;this.Jo=!1;this.Hg=Date.now();this.tn=a.tn;this.Nn=a.Nn;this.wo=a.wo;this.L=a.L;this.render()};
Dz.prototype.events=function(){return{"click #documentFileMenuButton":this.Vx,"click #documentTitle .content":this.Zx,"mousedown #documentTitle .content":function(a){a.stopPropagation();a.preventDefault();return!1},"touchClick #documentFileMenuUndoButton":this.Yx,"touchClick #documentFileMenuRedoButton":this.Xx,"touchClick #editorLogo":this.Wx}};Dz.Iy=function(){$(".helpMenuButton").remove();Dz.Mz=!0};Dz.Ky=function(){$("#yourDesigns").remove();Dz.qF=!0};
Dz.YD=function(a){$("#documentTitle").addClass("nonInteractive");$("#documentTitle .content").text(a);Dz.iw=a};Dz.Fp=function(){return void 0!==Dz.iw};Dz.zz=function(a){return"profileHeader"===a.model.ja.name?new LE(a):new Dz(a)};f=Dz.prototype;f.remove=function(){this.undelegateEvents();this.stopListening();return this};
f.render=function(){this.Vr();Dz.Mz&&this.$(".helpMenuButton").remove();Dz.Fp()&&(this.$("#documentTitle").addClass("nonInteractive"),this.$("#documentTitle .content").text(Dz.iw));Dz.qF&&this.$("#yourDesigns").remove();!this.xa.Ma.get(sc)&&this.xa.Ma.get(gc)&&ME(this);this.Nn.forEach(function(a,b){var c=a&&$("\x3cli\x3e\x3c/li\x3e");a&&(a.render().$el.addClass("prerollAnimation prerollDelay"+(b+3)).appendTo(c),$("#documentMenu").append(c))});return this};
function ME(a){if(NB.cE(a.model.ja.getName())){var b=$('\x3cli\x3e\x3cdiv class\x3d"resizeControlContainer"\x3e\x3c/div\x3e\x3c/li\x3e'),c=new NB({model:a.model});c.render();c.$el.appendTo(b.find(".resizeControlContainer"));b.appendTo(a.$("#primaryNavigation"));a.listenTo(c,"change",a.Ck)}}f.Vx=function(a){a=$(a.target);var b=this.wo();b.Md(a);this.listenTo(b,"documentSaveRequested",this.CD);this.listenTo(b,"documentResizeRequested",this.Ck)};f.Zx=function(a){Dz.Fp()||(new PD({model:this.model})).Md($(a.currentTarget))};
f.Yx=function(){$("#documentBlocker").hasClass("on")||is()};f.Xx=function(){$("#documentBlocker").hasClass("on")||hs()};f.Wx=function(){-1!=od.indexOf(this.Bf.Id())&&F&&F.Qk("minichallenge_leave");this.$el.off("mouseout","#documentMenu li")};
f.Oy=function(){0<C.ac.length?this.$("#primaryNavigation").removeClass("undoDisabled"):(this.$("#primaryNavigation").addClass("undoDisabled"),this.$("#documentFileMenuUndoButton").blur());0<C.ti.length?this.$("#primaryNavigation").removeClass("redoDisabled"):(this.$("#primaryNavigation").addClass("redoDisabled"),this.$("#documentFileMenuRedoButton").blur())};f.Qy=function(){$("#zoomText").text(Math.round(1E3*L)/10+"%")};f.Py=function(a){var b=this.$("#documentMenu");a?b.addClass("dark"):b.removeClass("dark")};
f.Vr=function(){var a=this.model.Aa();Dz.Fp()||(this.$("#documentTitle .content").text(dw(a)),this.tn&&this.tn(dw(a,{Sz:!0})))};
f.or=function(a){function b(a){var b=wb(c.L),g=$("#documentSyncStatus");0===a&&null!=c.ka.tf?g.text(b.format("editorControlsUnsavedChanges")):1===a?g.text(b.format("editorControlsSaving")):2===a?g.text(b.format("editorControlsAllChangesSaved")):g.text("")}var c=this;2===a&&(this.Hg=Date.now());this.Io=a;this.Jo||(b(a),window.setTimeout(function(){c.Io!==a&&b(c.Io);c.Jo=!1},600),this.Jo=!0)};f.CD=function(){this.ka.save();null==this.ka.tf||this.ka.ne()||(this.or(1),this.or(2))};
f.Ck=function(a){var b=new zv(2,{"new":{designType:a.getName(),height:a.B(),width:a.A()},old:this.model.serialize(!0)}),c=this.model.Aa();c.Qa=kd(a.getName());c.trigger("change");M();C.register(b);b.ef()};function LE(){}LE=Dz.extend({});
LE.prototype.initialize=function(a){Dz.prototype.initialize.apply(this,arguments);$("head").find("meta[name\x3dauthorUsername]").attr("content");$(".editorActionShare").hide();this.stopListening(this.model,"change:title");this.$(".editorActionExport").text("Publish");this.render()};function NE(a){this.Ka=a.Ka;this.rw=!!a.rw;this.Tr=!!a.Tr}
NE.prototype.inject=function(){var a=this.Gd(),a=a&&a.X(),b=[],c;OE(this)&&(c=document.createElement("style"),c.id="editorTheme",document.head.appendChild(c),a&&(b.push(PE(".editorControlsInner","background-color",a)),b.push(PE(".switchProcessing .switchHandle","color",a)),this.Tr&&(b.push(PE(".menuActionsList .button","background-color","transparent")),b.push(PE(".menuActionsList .button:hover","background-color",a)),b.push(PE(".menuOptionsList label:hover","background-color",a)),b.push(PE(".menuActionsList .button:active",
"background-color",a)),b.push(PE("#objectPanel \x3e menu a:hover","color",a,!0)),b.push(PE("#objectPanel \x3e menu a:hover svg","fill",a,!0))),this.rw&&b.push(PE(".buttonThemeable:not(.disabled)","background-color",a))),b.forEach(c.sheet.insertRule.bind(c.sheet)))};function PE(a,b,c,d){var e=[".isBranded"];d&&e.push(".isLightTheme");return e.join("")+" "+a+" { "+b+": "+c+"; }"}NE.prototype.Gd=function(){var a=OE(this)&&this.Ka.Gd();return a?Q(ch(a)):null};
function OE(a){return!(!a.Ka||!a.Ka.Gd())}function QE(a){var b=OE(a)&&a.Ka.Gd(),b=b&&Q(ch(b));return OE(a)?!!(b&&208<Hg(b)):!1};function Ez(){}Ez=Backbone.View.extend({tagName:"div",id:"overlays",template:_.template('\x3cdiv class\x3d"mask"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"vertical align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"horizontal align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotation align"\x3e\x3c/div\x3e\x3cdiv class\x3d"rotationGuide"\x3e\x3c/div\x3e\x3c/div\x3e')});
f=Ez.prototype;f.initialize=function(a){this.Zd=a.Zd;this.L=a.L;E.on("documentView:zoom",this.Ak,this);this.listenTo(this.model,{"page:change:selected":this.render,resize:this.Ak});a=_.bind(this.mq,this);var b=_.bind(this.jt,this),c=_.bind(this.ut,this);this.Zd.$el.on("mousedown",a);this.Zd.$el.on("touchstart",b);this.Zd.$el.on("touchend",c);this.$el.html(this.template());this.render();this.$el.prependTo(this.Zd.$el.children(".inner"))};
f.remove=function(){Backbone.View.prototype.remove.call(this);this.Zd.$el.off("mousedown",this.mq);this.Zd.$el.off("touchstart",this.jt);this.Zd.$el.off("touchsend",this.ut)};f.render=function(){this.model.fa().forEach(function(a){a.Cb&&a.ua()});return this};f.Ak=function(){var a=sg(this.model.ja);this.$el.css("left",-a*L)};f.jt=function(){this.yu=!0};f.ut=function(){this.yu=!1};
f.mq=function(a,b){function c(a){m||a.shiftKey||M();m=!0;var b=e(a)-r;a=g(a)-q;0>b&&y.css("left",v+b);0>a&&y.css("top",w+a);y.css("display","").css("width",Math.abs(b)).css("height",Math.abs(a));$(G).each(function(a,b){Yz.call(b)});return!1}function d(a){z.off("mousemove|touchmove",c).off("mouseup|touchend",d);$("#marquee").remove();a.shiftKey&&x.forEach(Wz);m&&(a=t.pa(),0===a.length?M():1==a.length?(M(),Ec(a[0])):Yr(ub(h.L)))}function e(a){a=void 0!==a.clientX?a.clientX:a.touches[0].clientX;a-=p.left;
return a+=n*L}function g(a){a=void 0!==a.clientY?a.clientY:a.touches[0].clientY;return a-=p.top}var h=this;if(h.yu||3==a.which||a.ctrlKey)return!0;var k=$(a.target).is("#content, #canvaDocument, #canvaDocument \x3e .inner, .bg, .elements"),l=$(a.target).is(".elements .background.image.element, .elements .background.image.element img");if(!(k||l||b)||0<$(".dd-container.on").length)return!0;var m=!1,n=sg(this.model.ja),p=$("#canvaDocument").offset(),r=e(a),q=g(a),k=document.getElementById("canvaDocument"),
v=r+k.scrollLeft,w=q+k.scrollTop,x=t.pa();$(a.target).is("input")||$("*:focus").blur();a.shiftKey||M();var y=$('\x3cdiv id\x3d"marquee"\x3e\x3c/div\x3e');y.css("display","none").css("left",v).css("top",w).appendTo(this.$el);var z=new S($(document));z.on("mousemove|touchmove",c).on("mouseup|touchend",d);var G=$("#content .element");bE(h.Zd);a.preventDefault()};function ZD(){}ZD=Backbone.View.extend({tagName:"section",className:"page",template:_.template('\x3cdiv class\x3d"crops"\x3e\x3cdiv class\x3d"tlcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"trcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"brcrop"\x3e\x3c/div\x3e\x3cdiv class\x3d"blcrop"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"elements"\x3e\x3c/div\x3e\x3cmenu class\x3d"pageToolbar \x3c%\x3d pageToolbarClass %\x3e"\x3e\x3cli class\x3d"pageToolbarUp \x3c%\x3d isFirst ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"Move page up"\x3eMove page up\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDown \x3c%\x3d isLast ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"Move page down"\x3eMove page down\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarCopy \x3c%\x3d isPageNumMax ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"Copy this page"\x3eCopy this page\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageToolbarDelete \x3c%\x3d isFirst \x26\x26 isLast ? "disabled" : "enabled" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"Delete this page"\x3eDelete this page\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"pageNumber"\x3e\x3c%\x3d pageNumber %\x3e\x3c/li\x3e\x3c/menu\x3e')});
ZD.Jy=function(){$(".pageToolbar").addClass("disabled").hide();$(".pageToolbarCopy").removeClass("enabled").addClass("disabled");ZD.OC=!0};f=ZD.prototype;f.events=function(){return{"mousedownTouchstart \x3e .elements":this.nq,"mouseout .pageToolbar":this.lA,"touchClick .pageToolbarCopy.enabled":this.sy,"touchClick .pageToolbarDelete.enabled":this.ty,"touchClick .pageToolbarDown.enabled":this.uy,"touchClick .pageToolbarUp.enabled":this.vy,touchClick:this.jy}};
f.initialize=function(){this.listenTo(E,"documentView:zoom",this.Lo);this.listenTo(this.model,{change:this.Ay,"change:background":this.Ls,"change:selected":this.Uv,"change:preview":this.dD,"element:add":this.Zy,"element:move":this.az,"element:remove":this.bz,resize:this.vD,willchange:this.By});this.listenTo(this.model.Fa,{"page:add":this.Ho,"page:move":this.Ho,"page:remove":this.Ho});this.render()};
f.render=function(){var a=this.model.Fa,b=this.model.V();this.$el.html(this.template({pageNumber:b+1,isFirst:a&&0==b,isLast:a&&b==a.O.length-1,isPageNumMax:a&&30<=a.O.length,pageToolbarClass:ZD.OC?"disabled":""}));this.Lo();this.Uv(0,T(a,I(a))===b);this.model.aa=this.$el;this.Ls();return this};f.Za=function(){return this.model.Za()};f.rr=function(a){var b=sg(this.model.Fa.ja)*L;this.model.rr(a);this.$el.css("left",a-b)};f.fb=function(){return this.model.fb()};
f.Be=function(a){var b=tg(this.model.Fa.ja)*L;this.model.Be(a);this.$el.css("top",a-b)};function gE(a,b,c){a.rr(b);a.Be(c)}
f.nq=function(a){function b(a){var b=(void 0!==a.clientX?a.clientX:a.touches[0].clientX)-e;a=(void 0!==a.clientY?a.clientY:a.touches[0].clientY)-g;!h&&(4<Math.abs(b)||4<Math.abs(a))&&(h=!0)}function c(){k.off("mousemove|touchmove",b).off("mouseup|touchend",c);h||0<d.pa().length||qi(d).forEach(function(a){Ec(a)})}if(function(){var b=a.target===a.currentTarget,c=0!==$(a.target).parent(".imageWrapper").parent(".element.background.image").addBack(".element.background.image").length,d=0!==$(a.target).parent(".element.background.image").addBack(".element.background.image").length;
return b||c||d}()){var d=this.model;if(!(0<d.pa().length)){var e=void 0!==a.clientX?a.clientX:a.touches[0].clientX,g=void 0!==a.clientY?a.clientY:a.touches[0].clientY,h=!1,k=new S($(document));k.on("mousemove|touchmove",b).on("mouseup|touchend",c)}}};f.jy=function(a){if(!(0<$(a.target).parents(".pageToolbar").length)){a=this.model.Fa;var b=T(a,this.model);ji(a,b)}};
f.vy=function(){var a=this.model.Fa;if(a){var b=this.model.V();1>b||(si(a,this.model,b-1),C.register(new xv(5,{pageIndex:b-1,oldPageIndex:b})),bE(Da))}};f.uy=function(){var a=this.model.Fa;if(a){var b=this.model.V();b>=a.O.length-1||(si(a,this.model,b+1),C.register(new xv(5,{pageIndex:b+1,oldPageIndex:b})),bE(Da))}};
f.sy=function(){E.trigger("pageView:copyButton:click");var a=this.model.V(),b=this.model.clone();si(this.model.Fa,b,a+1);b=vv(b.serialize(!0));b.pageIndex=a+1;C.register(new xv(1,b));bE(Da)};f.ty=function(){E.trigger("pageView:deleteButton:click");var a=this.model.V();this.model.remove();var b=vv(this.model.serialize());b.pageIndex=a;C.register(new xv(2,b));bE(Da)};f.lA=function(a){0==$(a.relatedTarget||a.toElement).parents(".pageToolbar").addBack(".pageToolbar").length&&E.trigger("pageView:toolbar:mouseout")};
f.By=function(){this.mk&&this.mk.remove();this.mk=this.$el.clone();this.mk.addClass("doNotAnimate").insertAfter(this.$el)};f.Ay=function(){var a=this;this.$el.one("animationend",function(){a.$el.addClass("on").css("opacity","");a.mk.remove()}).css("opacity",1).removeClass("on").insertAfter(this.mk)};f.Ls=function(){this.model.hm()?this.$el.addClass("dark"):this.$el.removeClass("dark")};f.Uv=function(a,b){this.$el.toggleClass("selected",b)};
f.Zy=function(a,b,c,d){function e(){M();g.removeClass("dropping");Ec(b);g.hasClass("text")&&bs(g,!0)}var g=b.C(),h=RE(this,b),h=h&&h.C();c&&(g.one("animationend",e),b.setPosition((a.A()-b.A())/2,(a.B()-b.B())/2),g.addClass("dropping"));d&&g.addClass("appearing");b instanceof jn?g.appendTo(this.$el):h&&h.closest(".page").length?g.insertBefore(h):g.appendTo(this.$el.children(".elements"));b.Cb=this.$el;b.ra()};
function RE(a,b){var c=a.model.elements.indexOf(b);return a.model.fa().slice(c+1).filter(function(a){return!(a instanceof jn)})[0]}f.bz=function(a,b,c,d){var e=b.C();b.Ld();d?e.addClass("disappearing").delay(300,function(){e.remove()}):e.remove()};f.az=function(a,b){var c=b.C(),d=RE(this,b);d?c.insertBefore(d.C()):c.appendTo(this.$el.children(".elements"))};
f.Ho=function(){this.$(".pageNumber").text((this.model.V()+1).toString());this.$("li").removeClass("disabled").addClass("enabled");var a=this.model.Fa,b=this.model.V(),c=a&&0==b,a=a&&b==a.O.length-1;c&&this.$(".pageToolbarUp").removeClass("enabled").addClass("disabled");a&&this.$(".pageToolbarDown").removeClass("enabled").addClass("disabled");c&&a&&this.$(".pageToolbarDelete").removeClass("enabled").addClass("disabled");30<=Da.model.O.length&&this.$(".pageToolbarCopy").removeClass("enabled").addClass("disabled")};
f.Lo=function(){var a=this.model.B()*L,b=this.$(".pageToolbar");this.$el.css("width",this.model.A()*L).css("height",a);if(300<a){b.addClass("vertical");var c=a/2+Ca+190;c>a?b.css("margin-top",+Ca-(c-a)):b.css("margin-top","")}else b.removeClass("vertical").css("margin-top","")};f.ba=function(){var a=this.$(".pageToolbar"),a=a.is(":visible")?Math.round(a.outerWidth(!0)):0;return fg(kE(this),a,0)};
function hE(a){var b=a.$(".pageToolbar"),b=b.is(":visible")?Math.round(b.outerWidth(!0)):0;return fg(iE(a),b,0)}function kE(a){return new K(a.Za(),a.fb(),parseInt(a.$el.css("width"),10),parseInt(a.$el.css("height"),10))}
function iE(a){if(!a.model||!a.model.Fa)return new K(0,0,0,0);var b=a.model.Fa.ja,c=vg(b)-b.A(),d=ug(b)-b.B(),c=parseInt(a.$el.css("width"),10)+Math.round(c*L),d=parseInt(a.$el.css("height"),10)+Math.round(d*L);if(isNaN(c)||!isFinite(c)||0>=c)c=b.A();if(isNaN(d)||!isFinite(d)||0>=d)d=b.B();return new K(a.Za(),a.fb(),c,d)}f.vD=function(){this.Lo();this.model.fa().forEach(function(a){a.ra()})};
f.dD=function(){var a=this.model.Rq;a?this.$el.css("background-image","url("+a+")").css("background-size","cover"):this.$el.css("background-image","none").css("background-size","")};function ED(){}ED=cl.extend({className:"popupBlocked"});ED.Zw={Chrome:!0,IE:!0};ED.AE=function(a){return a in ED.Zw};f=ED.prototype;f.initialize=function(a){cl.prototype.initialize.call(this,{Di:!1,Ei:!1});this.Ud=a.Ud};f.events=function(){return{"click .popupBlockedFileMenuLink":this.ok}};
f.render=function(){cl.prototype.render.call(this);this.$(".content").html(this.Nz());var a=this.$(".popupBlockedStepDirections").eq(0);if("Chrome"===this.Ud)a.append(this.Nx),this.$el.addClass("popupBlockedChrome");else if("IE"===this.Ud)a.append(this.Rz),this.$el.addClass("popupBlockedIE");else throw Error('Unsupported browser "'+this.Ud+'"');return this};
f.show=function(){cl.prototype.show.call(this);var a=this.$el.parent().prevAll(".modalContent:not(.modalContentPreviousSibling)");a.addClass("modalContentPreviousSibling");this.once("remove",function(){a.removeClass("modalContentPreviousSibling")});return this};f.Nz=_.template('\x3cheader class\x3d"popupBlockedHeader"\x3e\x3ch1 class\x3d"popupBlockedTitle"\x3eYou\x26rsquo;re almost there!\x3c/h1\x3e\x3ch2 class\x3d"popupBlockedSubTitle"\x3eCanva just needs permission to open multiple tabs in your browser.\x3c/h2\x3e\x3c/header\x3e\x3col class\x3d"popupBlockedSteps"\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3eStep 1\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3e\x3c/p\x3e\x3c/li\x3e\x3cli class\x3d"popupBlockedStep"\x3e\x3ch3 class\x3d"popupBlockedStepLabel"\x3eStep 2\x3c/h3\x3e\x3cp class\x3d"popupBlockedStepDirections"\x3eTry resizing again by hitting the magic button in the \x3cbutton class\x3d"buttonLink button popupBlockedFileMenuLink"\x3eFile menu\x3c/button\x3e\x3c/p\x3e\x3c/li\x3e\x3c/ol\x3e');
f.Nx=_.template("\x3cspan\x3eClick the pop-up blocker icon at the top of your browser and allow pop-ups.\x3c/span\x3e");f.Rz=_.template("\x3cspan\x3eClick \x3cstrong\x3e\x26lsquo;Options for this site\x26rsquo;\x3c/strong\x3e and then \x3cstrong\x3e\x26lsquo;Always allow\x26rsquo;\x3c/strong\x3e in the Internet Explorer alert below.\x3c/span\x3e");function CE(){}
CE=Backbone.View.extend({id:"submitLayoutDialog",template:_.template('\x3cdiv class\x3d"dialog preparing"\x3e\x3ch2 class\x3d"dialogTitle"\x3e\x3c%\x3d title %\x3e\x3c/h2\x3e\x3cdiv class\x3d"flowProgress"\x3e\x3c/div\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3c/div\x3e'),bA:_.template('\x3cfieldset class\x3d"appears layoutMetadata"\x3e\x3clabel\x3eTitle of your layout\x3c/label\x3e\x3cinput class\x3d"layoutMetadataTitle textInput" name\x3d"layoutTitle" value\x3d"\x3c%\x3d title %\x3e"\x3e\x3clabel\x3eKeywords (comma separated)\x3c/label\x3e\x3ctextarea class\x3d"layoutMetadataKeywords textInput" name\x3d"layoutKeywords" rows\x3d"3" placeholder\x3d"Help your layout to be found when searching"\x3e\x3c%\x3d keywords %\x3e\x3c/textarea\x3e\x3c/fieldset\x3e'),$y:_.template('\x3cfieldset class\x3d"appears elementMetadata"\x3e\x3cdiv class\x3d"thumb"\x3e\x3c%\x3d thumb %\x3e\x3c/div\x3e\x3cdiv class\x3d"labels"\x3e\x3clabel for\x3d"elementTitle\x3c%\x3d index %\x3e"\x3eTitle\x3c/label\x3e\x3clabel for\x3d"elementDescription\x3c%\x3d index %\x3e"\x3eDescription\x3c/label\x3e\x3clabel for\x3d"elementKeywords\x3c%\x3d index %\x3e"\x3eKeywords\x3c/label\x3e\x3c/div\x3e\x3cdiv class\x3d"inputs"\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataMedia" name\x3d"elementMedia\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d media %\x3e" /\x3e\x3cinput type\x3d"hidden" class\x3d"elementMetadataVersion" name\x3d"elementVersion\x3c%\x3d index %\x3e" value\x3d"\x3c%\x3d version %\x3e" /\x3e\x3cinput class\x3d"elementMetadataTitle" name\x3d"elementTitle\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataDescription" name\x3d"elementDescription\x3c%\x3d index %\x3e" /\x3e\x3cinput class\x3d"elementMetadataKeywords" name\x3d"elementKeywords\x3c%\x3d index %\x3e" /\x3e\x3c/div\x3e\x3cselect class\x3d"elementMetadataPrice" name\x3d"elementPrice\x3c%\x3d index %\x3e" id\x3d"elementPriceSelect"\x3e\x3coption value\x3d"0"\x3eFREE\x3c/option\x3e\x3coption value\x3d"1"\x3e$1.00\x3c/option\x3e\x3c/select\x3e\x3c/fieldset\x3e')});
f=CE.prototype;f.events=function(){return{"touchClick .button.ok":this.ok,"touchClick .button.reviewElements":this.hr,"touchClick .button.submitElementsMetadata":this.vE,"touchClick .button.submitLayoutMetadata":this.wE,"touchClick .close":this.cancel}};f.remove=function(){var a=this;this.$el.children(".dialog").addClass("disappearing");this.$b.hide();this.trigger("hide");window.setTimeout(function(){a.trigger("remove",a);Backbone.View.prototype.remove.call(a)},300)};
f.initialize=function(a){function b(){c.cc.cancel();c.off("hide",b)}var c=this;this.$b=new dl({style:el});this.listenTo(this.$b,"maskClick",this.cancel);this.document=t;this.cc=a.workflow;this.on("hide",b);this.Kr=Object.freeze([{mo:["pricingLayout"],label:"Layout"},{mo:["reviewingElements"],label:"Elements"},{mo:["submitted"],label:"Review"}]);this.Hu=new SE({Kr:this.Kr});this.listenTo(this.cc,"change:state",this.hk)};
f.render=function(){this.$el.html(this.template({title:"Submit your design as a layout"}));this.$(".dialog").toggleClass("dialogNoAnimations","Safari"===(new UAParser).getResult().browser.name);return this};function TE(a,b,c){b=$('\x3cform class\x3d"metadataForm"\x3e'+b+"\x3c/form\x3e");a.$(".content").empty().append(b);UE(a);VE(a,c)}
function WE(a){XE(a.cc,function(b){var c="Your layout does not contain any media that will affect the final price.";0<b&&(c="Your layout contains priced media elements.",c+=" The final price of your layout will be increased by "+("$"+b/100+".00")+".");a.$(".dialog").css("height","12em");a.$(".content").html("");window.setTimeout(function(){a.$(".content").html('\x3cdiv class\x3d"reviewNotice appears"\x3e\x3cp\x3e'+c+"\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e");VE(a,"reviewElements")},300)})}
function YE(a){function b(a,b){var c=a.da(),l=c.Sa()[Tn],m=new K(0,0,l.A(),l.B());id(m,e);m="width:"+m.A()+"px;height:"+m.B()+"px;margin-top:"+m.K()+"px;margin-left:"+m.N()+"px;";m=$('\x3cimg class\x3d"thumbImage" style\x3d"'+m+'"\x3e');m.attr("src",l.ca());return d.$y({media:a.F(),version:c.S(),index:b,thumb:m.clone().wrap("\x3cdiv\x3e\x3c/div\x3e").parent().html()})}function c(){window.setTimeout(function(){d.$(".thumbImage").addClass("appeared")},1E3)}var d=a,e=new K(0,0,118,118);ZE(a.cc,function(a){if(a&&
0!==a.length){var e=a.length;2<a.length&&(e=2);e=(14*e+2.5).toFixed(1);d.$(".dialog").css("width","45em").css("height",e+"em");TE(d,a.map(b).join(""),"submitElementsMetadata");2<a.length&&d.$(".metadataForm").css("height","24em").addClass("scrolling");c()}else a=d.cc,a.Uo=[],a.ma.transition("price")})}function UE(a){window.setTimeout(function(){a.$(".appears").addClass("appeared")},300)}
function $E(a){a.$(".content").html('\x3cdiv class\x3d"reviewNotice appears"\x3e\x3cp\x3e\x3cstrong\x3eYour design is now in the hands of our reviewers.\x3c/strong\x3e\x3cbr\x3e\x3cbr\x3eOnce review is complete we\x26#8127;ll let you know and you can start looking for people who are using your layout in the wild!\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e');a.$(".dialog").css("width","30em").css("height","15em");UE(a);window.setTimeout(function(){var b=$('\x3cdiv class\x3d"appears button ok awesome"\x3eAwesome!\x3c/div\x3e');
a.$(".content").append(b);UE(a)},300)}function VE(a,b){var c=$('\x3cdiv class\x3d"appears button forward '+b+'"\x3eNext \x26rarr;\x3c/div\x3e');window.setTimeout(function(){a.$(".content").append(c);UE(a)},300)}
f.hk=function(a,b){switch(b){case "pricingLayout":this.$(".dialog").css("width","30em").css("height","20em");var c=this.document.Aa(),d=this.document.Te();0===d.length&&(d=Zy(c));TE(this,this.bA({title:c.yg(),keywords:d.join(", ")}),"submitLayoutMetadata");break;case "pricingElements":YE(this);break;case "reviewingElements":WE(this);break;case "reviewingSubmission":aF(this.cc);break;case "submitted":$E(this);break;case "failed":c=this.$(".content"),c.html('\x3cdiv class\x3d"reviewNotice appears"\x3e\x3cp\x3eSomething went wrong submitting your layout.\x3cbr\x3e\x3cbr\x3ePlease try again later.\x3c/p\x3e\x3c/div\x3e\x3c/div\x3e'),
c.find(".reviewNotice").css("text-align","center"),UE(this)}this.Hu.render(b)};f.show=function(){var a=this;this.render();this.$b.show(this.el);this.$(".dialog").delay(20,function(){$(this).removeClass("preparing")});this.Hu.show(this.$el.find(".flowProgress"));window.setTimeout(function(){a.cc.start()},300)};f.cancel=function(){this.remove()};f.ok=function(){this.remove()};f.wE=function(){var a=this;bF(this.$(".layoutMetadata"),function(b){cF(a.cc,b)})};f.hr=function(){this.cc.hr()};
f.vE=function(){var a=[],b=this,c=this.$(".elementMetadata"),d=_.after(c.length,function(){var c=b.cc;c.Uo=a;c.ma.transition("price")});c.each(function(){var b=$(this);dF(b,function(b){a.push(b);d()})})};
function dF(a,b){var c=""+a.find(".elementMetadataMedia").val(),d;d=""+a.find(".elementMetadataVersion").val();d=parseFloat(d);var e=""+a.find(".elementMetadataTitle").val(),g=""+a.find(".elementMetadataDescription").val(),h=eF(""+a.find(".elementMetadataKeywords").val()),k;k=""+a.find(".elementMetadataPrice").val();k=parseFloat(k);isNaN(k)||0!==k&&1!==k||!fF(h)?alert("That's not valid data for an element."):b({media:c,version:d,title:e,description:g,keywords:h,price:k})}
function bF(a,b){var c=a.find(".layoutMetadataTitle").val(),d=eF(""+a.find(".layoutMetadataKeywords").val());fF(d)?b({title:c,keywords:d}):alert("I don't understand your layout.")}function fF(a){function b(){return!1}return Array.isArray(a)&&0===a.filter(b).length}function eF(a){return a?a.split(",").map(function(a){return a.trim().replace(/[^a-z0-9\s_-]/gi,"")}).filter(function(a){return""!==a}):[]};function ID(){}ID=Backbone.View.extend({id:"exportDialog",template:_.template('\x3cdiv class\x3d"dialog preparing"\x3e\x3ch2\x3e\x3c%\x3d title %\x3e\x3c/h2\x3e\x3cdiv class\x3d"content"\x3e\x3c/div\x3e\x3ca class\x3d"close" href\x3d"#" title\x3d"Close this dialog"\x3eClose\x3c/a\x3e\x3c/div\x3e')});f=ID.prototype;
f.events=function(){var a={};a["touchClick a.close"]=this.cancel;a["touchClick button.done"]=this.ok;a["submit .payment form"]=this.xE;a["touchClick .payment a.draft"]=this.$x;a["touchClick .licenseParent"]=this.aA;return a};f.remove=function(){this.$el.children(".dialog").addClass("disappearing").forceLayout();this.$b.hide();window.setTimeout(function(){_.values(this.O).forEach(function(a){a.remove()});Backbone.View.prototype.remove.call(this)}.bind(this),330);this.trigger("remove")};
f.initialize=function(a){function b(){c.Sg.cancel();c.off("hide",b)}var c=this,d=new K(0,0,a.pt,a.mt);id(d,new K(0,0,100,100));this.$b=new dl({style:el});this.listenTo(this.$b,"maskClick",this.cancel);this.L=a.L;this.Av=!1;this.Nd=a.Nd;this.state={brand:al(Yk()).ea().F(),thumbWidth:d.A(),thumbHeight:d.B(),thumbnailUrl:"https://static.canva.com/static/images/spacer.gif",billing:null,exportUrl:null,outputType:null,isDraft:!1,includeCrops:!1,includeBleed:!1,pageRange:_.range(1,a.Dq+1),pageCount:a.Dq,creditPack:null,errorMessage:null,
showHomepageHints:a.Nd};this.jd=qa;this.sc=Vy();this.O={dz:new gF({model:this.state}),nn:new ID.Ow({model:this.state}),Sv:new hF({model:this.state}),gF:new iF({model:this.state}),kF:new jF({model:this.state}),sv:new kF({model:this.state,jd:this.jd,sc:this.sc}),SC:new lF({model:this.state}),Kl:new mF({model:this.state}),Bt:new nF({model:this.state,L:this.L}),iz:new oF({model:this.state}),wx:new pF({model:this.state})};this.Lb=this.O.nn;this.Dv=0;this.Sg=new qF(u,this.jd,ra);this.listenTo(this.Sg,"change:state",
this.hk);this.on("hide",b)};f.sd=function(){return this.state};f.St=function(){return this.O};function KD(a,b){a.stopListening(a.Lb);a.listenTo(b,"contentResize",a.kj);a.listenTo(b,"close",a.ok);a.Lb=b}
f.render=function(){var a=this,b=this.$(".dialog"),c=b.data("class");if(0===this.$(".content").length||this.$(".content").is(":empty"))this.Lb.render(),this.$el.html(this.template({title:this.Lb.Kc(this.state)})),this.$(".content").append(this.Lb.$el),b=this.$(".dialog"),b.data("class",this.Lb.className),b.toggleClass("dialogNoAnimations","Safari"===(new UAParser).getResult().browser.name);else if(c!==a.Lb.className){var d=$('\x3cdiv class\x3d"content new"\x3e');this.$el.queue("pageQueue",function(){a.Lb.render();
a.$(".dialog \x3e h2").html(a.Lb.Kc(a.state));b.data("class",a.Lb.className);d.append(a.Lb.$el);rF(b,d);window.setTimeout(function(){a.Dv--;a.$el.dequeue("pageQueue")},1E3)});1==++this.Dv&&this.$el.dequeue("pageQueue")}return this};f.kj=function(){var a=this.$(".dialog .content").outerHeight();this.$(".dialog").css("height",a+40)};
function rF(a,b){var c=a.outerHeight();a.addClass("preparing").css("height",c);var d=$(".content",a),e=d.outerHeight();d.one("transitionend",function(){$(this).remove()}).css("marginBottom",-e).addClass("replacing");b.appendTo(a).delay(20,function(){$(this).removeClass("new")});d=b.outerHeight();c=c+d-e;a.removeClass("preparing").css("height",c)}
f.hk=function(a,b,c){switch(b){case "billing:required":case "billing:notRequired":this.state.billing=c;break;case "payment:gatheringInfo":KD(this,this.O.sv);this.render();break;case "payment:paying":this.$(".payment button[type\x3dsubmit]").text("Paying...");break;case "payment:complete":this.state.billing=c;this.dh("PRINT");break;case "export:exporting":this.state.isDraft="SCREEN"===c.vp().mediaQuality;this.Lb!=this.O.Kl&&(KD(this,this.O.Kl),this.render());break;case "export:complete":a=c.ca();this.state.exportUrl=
a;KD(this,this.O.Bt);this.render();this.Av||(1>$("#canvaDownloadIframe").length&&$("\x3ciframe /\x3e",{id:"canvaDownloadIframe"}).appendTo("body"),$("#canvaDownloadIframe").attr("src",a),this.Nd&&F&&Fe("download"));F&&(a=F,a.track("design_publish",{format:this.state.outputType,watermark:this.state.isDraft,destination:"download",design:a.md,template:a.Qa}),a.ug&&a.ug(6016629888538));break;case "error":a=c||{},this.state.errorMessage=a.message,2===a.type||3===a.type?KD(this,this.O.SC):0===a.type?KD(this,
this.O.iz):KD(this,this.O.wx),this.render()}};function LD(a){function b(){"billing:checking"===c.Sg.ma.sd()?(d*=1.4,setTimeout(b,Math.min(15E3,d))):c.dh("PRINT")}var c=a,d=300;JD(a,{});sF(a)||("billing:checking"===a.Sg.ma.sd()?b():a.dh("PRINT"))}function JD(a,b){for(var c in b)a.state[c]=b[c]}ID.vu=function(a){a=a.Gh();if(null==a)return!0;if(null==a.expMonth||null==a.expYear)return!1;var b=new Date,c=b.getUTCMonth()+1,b=b.getUTCFullYear();return!!(a.expYear<b||a.expYear==b&&a.expMonth<c)};f=ID.prototype;
f.xE=function(a){function b(){k.find("button[type\x3dsubmit]").text("Make payment").removeClass("disabled");h.kj()}function c(a){e(a.message);b()}function d(a){e("Something went wrong. Try again in a few moments and contact support if the problem persists");b();throw a;}function e(a){$('\x3cp class\x3d"error"\x3e').text(a).insertBefore(k)}function g(){h.Sg.er(h.state.creditPack)}a.preventDefault();var h=this,k=$(a.target);k.find("button[type\x3dsubmit]").text("Paying...").addClass("disabled");k.prev(".error").remove();
a=this.state.billing;Sf(a)&&ID.vu(a)?h.O.sv.Xl().then(g).catch(Uy,d).catch(Ky,c).catch(d):g()};f.$x=function(){this.dh("SCREEN")};
f.dh=function(a){var b=u.ya(),c=u.vb(),d=this.state.outputType,e=this.state.pageRange;if(0===e.length)for(var g=0,h=this.state.pageCount;g!==h;g++)e.push(g+1);switch(a){case "PREVIEW":case "SCREEN":case "THUMBNAIL":case "CUSTOM":g="SCREEN";break;case "PRINT":g="PRINT";break;default:throw Error("unknown export type: "+a);}b=jk(ik(new hk,b),c);c=fk(dk(new bk,this.state.mediaDpi),g);c.bleed=!!this.state.includeBleed;c.crops=!!this.state.includeCrops;c.removeCanvas=!!this.state.removeCanvas;c.pages=e;
c.targetImageSizeKb=this.state.targetImageSizeKb;c.format=d;a=kk(b,c.Xi(a));this.Sg.Nm(a)};
f.show=function(){function a(){g.Sg.dr();if(g.tD){var a=dk(ek(gk(new bk)).Xi("THUMBNAIL"),96),a=kk(jk(ik(new hk,u.ya()),u.vb()),a);ra.th(a,c,$.noop)}else{var a=pa,d=u.ya();wd(a.R,a.path+"/"+encodeURIComponent(d)+"/imagesets").get(0).then($i).then(b)}}function b(a){a=a.sb().sp()[0].ca();g.state.thumbnailUrl=a;g.$("img.outputThumbnail").attr("src",a)}function c(a){if(a=a.Ej&&a.Ej()&&Vj(a.Ej())&&Vj(a.Ej())[0])g.state.thumbnailUrl=a.ca(),g.$("img.outputThumbnail").attr("src",a.ca())}function d(){g.state.outputType?
(a(),LD(g)):(KD(g,tF(g)||h),g.render())}function e(){u.Vh()?(KD(g,g.O.Sv),g.render(),g.$(".retry").one("touchClick",function(){$(this).prop("disabled",!0);u.save();KD(g,g.O.nn);g.render();Ll(3E4).then(a,e)})):(KD(g,g.O.kF),g.render())}var g=this,h=this.Lb;null===tF(this)?(a(),this.render()):(KD(this,tF(this)),this.render(),sF(this)&&Ll(3E4).then(d,e));this.$b.show(this.el);this.$(".dialog").delay(20,function(){$(this).removeClass("preparing")})};f.cancel=function(){this.remove()};f.ok=function(){this.remove()};
function sF(a){return tF(a)===a.O.nn}function tF(a){var b=null;t.isEmpty()?b=a.O.dz:u.Vh()?0<ua.Pi.length?b=a.O.gF:u.ne()&&(b=a.O.nn,u.save()):b=a.O.Sv;return b}function uF(){}uF=Backbone.View.extend({});uF.qx=function(a){a.delay(600,function(){$(this).css("width","45%").children(".text").text("45%").parent().delay(4800,function(){$(this).css("width","67%").children(".text").text("67%").parent().delay(4800,function(){$(this).css("width","95%").children(".text").text("95%")})})})};
uF.prototype.render=function(){this.$el.html(this.template(this.model));return this};function gF(){}gF=uF.extend({className:"error emptyDocError",Kc:_.template("Unable to publish"),template:_.template('\x3cdiv class\x3d"exporting error"\x3e\x3cp\x3eYour design is empty. Add some elements to your design, then try publishing again.\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOK\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e')});function hF(){}
hF=uF.extend({className:"error savingError",Kc:_.template("There was a problem while saving"),template:_.template('\x3cdiv class\x3d"exporting error"\x3e\x3cp\x3eWe were unable to save your design. This is usually due to an Internet connection error, so try again in a few seconds. If the problem continues, try reloading the page (but you may lose some of your changes).\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button retry"\x3eTry again\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e')});
function jF(){}jF=uF.extend({className:"error versionConflictError",Kc:_.template("There was a problem while saving"),template:_.template('\x3cdiv class\x3d"exporting error"\x3e\x3cp\x3eYour version of this design has become out of sync with the server.\x3c/p\x3e\x3cp\x3eUsually this means someone else has started editing it. Try reloading the page and publishing this design again.\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOK\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e')});
function iF(){}iF=uF.extend({className:"error uploadingError",Kc:_.template("Unable to publish"),template:_.template('\x3cdiv class\x3d"exporting error"\x3e\x3cp\x3eSome of your uploads are still being processed by our servers. Please wait a minute or two then try publishing again.\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOK\x3c/button\x3e\x3c/p\x3e\x3c/div\x3e')});ID.Ow=uF.extend({className:"publishing",Kc:_.template("Saving your design..."),template:_.template('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue autoIncrement"\x3e\x3cspan class\x3d"text"\x3e5%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3cp\x3ePlease wait while we rouse the Canva elves to do some work.\x3c/p\x3e')});
ID.prototype.aA=function(a){a=$(a.currentTarget);var b=a.attr("id"),c=a.data("expanded"),d=$('tr[data-parent\x3d"'+b+'"]');c?(d.each(function(){$(this).hide()}),a.data("expanded",!1),$("#"+b+"_expand").html("\x26#x25b6;"),$("#"+b+"_price").show(),$("#"+b+"_count").show()):(d.each(function(){$(this).show()}),a.data("expanded",!0),$("#"+b+"_expand").html("\x26#x25bc;"),$("#"+b+"_price").hide(),$("#"+b+"_count").hide());this.kj()};
uF.extend({className:"publishing",Kc:_.template("Publishing your design"),template:_.template('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue" style\x3d"width: 15%;"\x3e\x3cspan class\x3d"text"\x3e15%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3cp\x3eYay. You\'re publishing a design.\x3c/p\x3e')});function mF(){}mF=uF.extend({className:"exporting",Kc:_.template("Hold tight, preparing your design\x26hellip;"),template:_.template('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue" style\x3d"width: 15%;"\x3e\x3cspan class\x3d"text"\x3e15%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e\x3cp\x3eDownloading is free when you only use free elements or your own images. If you use any of Canva\'s premium elements, they\'re just $1 apiece and you have 24 hours to edit your design.\x3c/p\x3e')});
mF.prototype.render=function(){this.$el.html(this.template(this.model));var a=this.model.billing;if(a&&!this.model.isDraft){var b=Rf(a);null!==Rf(a)&&(this.$el.find(".progress").nextAll().remove(),a=(b+864E5-Date.now())/36E5,b=Math.round(a%1*60),b=1>a?_.pluralize("minute",b):_.pluralize("hour",Math.round(a)),this.$el.append("\x3ch3\x3eYou have purchased elements using a One-Time Use License\x3c/h3\x3e"),24>Math.round(a)?this.$el.append("\x3cp\x3eYou've still got "+b+" to make changes and export this design. If you want to make changes to your design after this time, you will need to re-purchase the paid elements.\x3c/p\x3e"):
this.$el.append("\x3cp\x3eThis license gives you 24 hours to make any changes and export your design without watermarks. If you want to make changes to your design after this time you will need to re-purchase the elements.\x3c/p\x3e"))}else a&&this.model.isDraft&&(this.$el.find(".progress").nextAll().remove(),this.$el.append("\x3cp\x3eYou are downloading a watermarked preview of your design. To remove the watermarks from your premium elements it costs just $1 apiece!\x3c/p\x3e"));uF.qx(this.$(".progressValue"));
return this};function oF(){}oF=uF.extend({className:"exporting error",Kc:_.template("Publishing hit a snag"),template:_.template('\x3cp\x3eOur publishing elves ran into a problem. Try to publish your design again. If you still get an error then check our \x3ca href\x3d"http://status.canva.com" target\x3d"_blank"\x3estatus page\x3c/a\x3e.\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOK\x3c/button\x3e\x3c/p\x3e')});function nF(){}
nF=uF.extend({className:"exporting complete",Kc:_.template("\x3c% if(showHomepageHints) { %\x3eYour first design is completed!\x3c% } else { %\x3eYour design is ready\x3c% } %\x3e")});f=nF.prototype;
f.initialize=function(a){this.Ir=new Uk(va);this.L=a.L;this.Ci=new UD({location:"publish",emailButton:!0,showSharingOptions:!1,features:ac(),shareViewMessages:Ab(this.L)});this.listenTo(this.Ci,{shareClicked:this.Yf,emailSend:this.Vo,shareViewResize:this.kj});this.template=_.template('\x3cp\x3eYour download should have automatically started, if not \x3ca href\x3d"\x3c%- exportUrl %\x3e" target\x3d"_blank"\x3edownload here\x3c/a\x3e.\x3c/p\x3e');this.Pz=_.template('\x3cdiv class\x3d"homepageHint"\x3e\x3cp class\x3d"homepageHintMessage"\x3eAll your designs are saved and editable\x3c/p\x3e\x3ch3 class\x3d"homepageHintCta"\x3e\x3ca href\x3d"/"\x3eSee all your designs\x3c/a\x3e\x3c/h3\x3e\x3c/div\x3e')};
f.render=function(){$(".dialog \x3e h2").addClass("center");this.$el.append(this.template(this.model));this.$el.append(this.Ci.render().el);this.model.Nd&&this.$el.append(this.Pz(this.model));return this};f.kj=function(){this.trigger("contentResize")};f.close=function(){this.trigger("close");this.model.Nd&&F&&Ie("first_time_publish","export_complete_dialog")};
f.Yf=function(a){this.close();UD.openWindow(a.link,a.width,a.height);this.trigger("close");var b=this.model.Nd?"first_time_publish":"publish";F&&He(a.type,b)};
f.Vo=function(a){var b=a.emailAddresses,c=a.mode;a=a.extension;var d=this;this.$(".shareViaEmailForm button").addClass("sending");F&&He("email","publish");Vk(this.Ir,u.ya(),b,c,a,"publish").finally(function(){d.$(".shareViaEmailForm button").removeClass("sending")}).then(function(){d.$(".shareViaEmailForm button").addClass("sent");setTimeout(function(){d.trigger("close")},600)}).catch(function(){d.Ci.trigger("emailSendingError","Oops! We had a problem while sending your email. Please try again.")})};
function vF(){}vF=uF.extend({className:"exporting complete",Kc:_.template('Your \x3c%- (outputType \x3d\x3d "PNG" || outputType \x3d\x3d "JPG" || outputType \x3d\x3d null) ? "image" : outputType %\x3e is ready!'),template:_.template('\x3cp\x3eYour design is ready. Canva will exit automatically.\x3c/p\x3e\x3cp class\x3d"useExportButton"\x3e\x3ca class\x3d"button" tabindex\x3d"0"\x3eClose\x3c/a\x3e\x3c/p\x3e')});
vF.prototype.render=function(){this.$el.html(this.template(this.model));var a=this;window.setTimeout(function(){a.remove&&a.remove();a.listener&&a.listener()},1E3);return this};vF.prototype.events=function(){return{"touchClick .useExportButton":function(){this.remove&&this.remove();this.listener&&this.listener()}}};function kF(){this.fc=void 0}
kF=uF.extend({className:"payment",Kc:_.template("Purchase your premium elements"),template:_.template('\x3csection class\x3d"info"\x3e\x3cp\x3eThis design can be used for personal or commercial use under our \x3ca href\x3d"http://about.canva.com/license-agreements/onetimelicense/" target\x3d"_blank"\x3eOne Time Use Licence\x3c/a\x3e. Or you can \x3ca class\x3d"draft" href\x3d"#"\x3edownload a watermarked draft\x3c/a\x3e.\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"itemList"\x3e\x3ctable id\x3d"itemList"\x3e\x3c/table\x3e\x3c/section\x3e\x3csection class\x3d"total"\x3e\x3cp class\x3d"amount"\x3eTotal: $\x3c%- billing.totalCost.toFixed(2) %\x3e USD\x3c/p\x3e\x3c/section\x3e\x3csection class\x3d"creditPacks"\x3e\x3cform\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"yes"\x3e Special offer:\x3c/label\x3e \x3cdiv class\x3d"creditPackOptions"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"prepay"\x3e\x3clabel\x3e\x3cinput type\x3d"radio" name\x3d"purchaseCreditPack" value\x3d"no" checked\x3d"checked"\x3e Just pay\x3c/label\x3e $\x3c%- billing.totalCost.toFixed(2) %\x3e USD\x3c/div\x3e\x3c/form\x3e\x3c/section\x3e'),Gg:_.template('\x3ctr \x3c% if (hasParent) { %\x3e class\x3d"license licenseChild" data-parent\x3d"lic_\x3c%-parent%\x3e" \x3c% } else { %\x3e class\x3d"license" \x3c%}%\x3e\x3e\x3ctd\x3e\x3c/td\x3e\x3c% if (hasParent) { %\x3e\x3ctd\x3e\x3c/td\x3e \x3c% } %\x3e\x3ctd class\x3d"thumbnail"\x3e\x3c% if (hasThumb) { %\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg class\x3d"off" src\x3d"\x3c%- item.thumbnail %\x3e" /\x3e\x3c/div\x3e\x3c% } %\x3e\x3c/td\x3e\x3ctd class\x3d"info" \x3c% if (!hasParent) { var colspan\x3d2; if (!hasThumb) {colspan++;}  %\x3e colspan\x3d"\x3c%-colspan%\x3e" \x3c% } %\x3e\x3e\x3c% if (hasThumb) { %\x3e\x3cspan class\x3d"title"\x3e\x3c%- item.license.title %\x3e\x3c/span\x3e\x3cspan class\x3d"by"\x3e\x3c%- item.contributorName %\x3e\x3c/span\x3e\x3c% } else { %\x3e\x3cem\x3eLayout price\x3c/em\x3e\x3c% } %\x3e\x3c/td\x3e\x3ctd class\x3d"price"\x3e\x3cspan\x3e\x3c%- item.license.price \x3e 0 ? paid ? "Paid" : "$" + item.license.price.toFixed(2) : "Free" %\x3e\x3c/span\x3e\x3c/td\x3e\x3c/tr\x3e'),
QC:_.template('\x3ctr class\x3d"license licenseParent" id\x3d"lic_\x3c%- parent.item.license.media %\x3e" data-expanded\x3d"false"\x3e\x3ctd class\x3d"licenseExpand" id\x3d"lic_\x3c%- parent.item.license.media %\x3e_expand"\x3e\x26#x25b6;\x3c/td\x3e\x3ctd class\x3d"thumbnail"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg class\x3d"off" src\x3d"\x3c%- parent.item.thumbnail %\x3e" /\x3e\x3c/div\x3e\x3c/td\x3e\x3ctd class\x3d"info" colspan\x3d"2"\x3e\x3cspan class\x3d"title"\x3e\x3c%- parent.item.license.title %\x3e\x3c/span\x3e\x3cspan class\x3d"itemCount" id\x3d"lic_\x3c%- parent.item.license.media %\x3e_count"\x3e(\x3c%- itemCount %\x3e)\x26nbsp;\x3c/span\x3e\x3cspan class\x3d"by"\x3e\x3c%- parent.item.contributorName %\x3e\x3c/span\x3e\x3c/td\x3e\x3ctd id\x3d"lic_\x3c%- parent.item.license.media %\x3e_price" class\x3d"price"\x3e\x3cspan\x3e\x3c%- allPaid ? "Paid" : totalPrice \x3e 0 ?  "$" + totalPrice.toFixed(2) : "Free" %\x3e\x3c/span\x3e\x3c/td\x3e\x3c/tr\x3e'),
Ey:_.template('\x3cform class\x3d"useCanvaCredits"\x3e\x3cp\x3eCredit remaining: $\x3c%- billing.totalCredit.toFixed(2) %\x3e USD\x3c/p\x3e \x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button" type\x3d"submit"\x3ePay \x26 Download\x3c/button\x3e\x3c/p\x3e\x3c/form\x3e')});kF.prototype.initialize=function(a){this.Gq=$('\x3cform class\x3d"publishPagePaymentForm"\x3e\x3c/form\x3e');this.fc=new wF({jd:a.jd,Ia:this.model.brand,qj:!1,sc:a.sc});this.uE=$('\x3cbutton class\x3d"button buttonBlock paymentPageSubmitButton" type\x3d"submit"\x3eMake payment\x3c/button\x3e')};
function xF(a){this.Eq=a;this.item=null;this.children=[]}xF.prototype.setItem=function(a){this.item=a};xF.prototype.getItem=function(){return this.item};xF.prototype.PE=function(){var a=0;null==this.item||this.item.paid||(a+=Ue(this.item).xg());for(var b=0;b<this.children.length;b++)this.children[b].paid||(a+=Ue(this.children[b]).xg());return a};xF.prototype.px=function(){if(null!=this.item&&!this.item.paid)return!1;for(var a=0;a<this.children.length;a++)if(!this.children[a].paid)return!1;return!0};
kF.prototype.Xl=function(){return this.fc.Xl()};kF.prototype.remove=function(){this.fc.remove()};
kF.prototype.render=function(){function a(){var a=$(this).parent(),b=a.width(),a=a.height(),b=new K(0,0,b,a),a=new K(0,0,this.naturalWidth,this.naturalHeight);this.src.match(/\.png$/)?id(a,b):hg(a,b);$(this).css(a.serialize()).removeClass("off").attr("data-scaled","true")}var b=this,c=this.model.billing;c.totalCost=Qf(c);c.totalCredit=Pf(c);this.$el.html(this.template(this.model));0<c.paidItems.length?this.$(".payCount").text(c.Wc().length.toString()+" out of "+(c.paidItems.length+c.newItems.length).toString()+
" elements"):this.$(".payCount").text(_.pluralize("element",c.Wc().length));(function(){Pf(c)>=Qf(c)?b.$(".creditPacks").hide():Ve(Qf(b.model.billing),function(a){function d(a,c){b.$("input[name\x3dpurchaseCreditPack][value\x3dyes]").prop("checked",!0);b.$(".creditPackOptions .creditPackValue").html(a);b.$(".creditPackOptions .creditPackSaving").html("(save $"+(a-c)+")")}0<a.length?(b.$(".creditPacks").show(),b.$(".creditPackOptions").html("\x3cselect\x3e"+a.map(function(a){var b=$("\x3coption\x3e\x3c/option\x3e");
b.attr("data-credits",a.vh).val(a.name).text("$"+a.qk+" USD");return b.wrapAll("\x3cdiv\x3e\x3c/div\x3e").parent().html()}).join("")+'\x3c/select\x3e for \x3cspan class\x3d"creditPackValue"\x3e\x3c/span\x3e images \x3cstrong class\x3d"creditPackSaving"\x3e\x3c/strong\x3e'),d(a[0].vh,a[0].qk)):b.$(".creditPacks").hide();b.$("input[name\x3dpurchaseCreditPack]").on("change",function(){"yes"==$(this).val()?(b.model.creditPack=b.$(".creditPackOptions option:selected").val(),b.$(".creditBalance").hide()):
(b.model.creditPack=!1,0!=Pf(c)&&b.$(".creditBalance").show())});b.$(".creditPackOptions select").on("change",function(){var a=$(this).find("option:selected");b.model.creditPack=a.val();b.$(".creditBalance").hide();d(parseInt(a.data("credits"),10),parseInt(a.text().match(/[0-9]+/g)[0],10))});b.$("input[name\x3dpurchaseCreditPack][value\x3dno]").prop("checked",!0)})})();var d=this.$(".itemList table"),e=this.Gg,g=this.QC,h=function(a,b){function c(a,b){a.forEach(function(a){a.paid=b;var c=Ue(a).Vl();
if(""!==c){var e=d[c];null==e&&(e=new xF(b),d[c]=e);e.children.push(a)}else c=Ue(a).Na(),e=d[c],null==e&&(e=new xF(b),d[c]=e),e.setItem(a)})}var d=[];c(a,!0);c(b,!1);return d}(c.paidItems,c.Wc());Object.keys(h).forEach(function(a){a=h[a];var b=!!a.item.paid;if(0<a.children.length){var c=Ue(a.item).Na();d.append(g({parent:a,allPaid:a.px(),totalPrice:a.PE(),itemCount:_.pluralize("item",a.children.length+1),paid:b}));d.append(e({hasParent:!0,hasThumb:!1,parent:c,item:a.item,paid:b}));a.children.forEach(function(a){d.append(e({hasParent:!0,
hasThumb:!0,parent:c,item:a,paid:!!a.paid}))})}else d.append(e({hasParent:!1,hasThumb:!0,item:a.item,paid:b}))});setTimeout(function(){var b=d.find(".thumbnail img");b.attr("data-scaled",!1).one("load",a);b.each(function(){this.complete&&!$(this).data("scaled")&&a.call(this)})},20);this.Gq.appendTo(this.$el);if(Sf(c)){if(ID.vu(c))this.fc.zi(!0);else{var k=c.Gh();this.fc.Wf(k).zi(!1)}this.fc.render().oc().appendTo(this.Gq);this.uE.appendTo(this.Gq)}else this.$el.append(this.Ey(this.model));0===Pf(c)&&
this.$(".creditBalance").hide();return this};function lF(){}lF=uF.extend({className:"payment error",Kc:_.template('Pay for \x3c%- outputType \x3d\x3d\x3d "PNG" || outputType \x3d\x3d\x3d "JPG" ? "an image" : "a printable PDF" %\x3e'),template:_.template('\x3ch3\x3eOops!\x3c/h3\x3e\x3cp\x3eWe cannot process the payment. Please check your payment details.\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOK\x3c/button\x3e\x3c/p\x3e')});
lF.prototype.render=function(){this.$el.html(this.template(this.model));this.model.errorMessage&&$('\x3cp class\x3d"error"\x3e'+this.model.errorMessage+"\x3c/p\x3e").insertBefore(this.$(".buttonContainer"));return this};function pF(){}pF=uF.extend({className:"backgroundTask error",Kc:_.template("Oh no, something strange happened\x26hellip;"),template:_.template('\x3cp\x3eOur publishing elves ran into a problem while assembling your design. If you still get an error then check our \x3ca href\x3d"http://status.canva.com" target\x3d"_blank"\x3estatus page\x3c/a\x3e.\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOK\x3c/button\x3e\x3c/p\x3e')});function SE(){}SE=Backbone.View.extend({className:"linearProgress"});
function yF(a,b){a.gw=(100/b.length).toFixed(4)+"%";return $("\x3cul\x3e"+b.map(function(a){return'\x3cli class\x3d"stage '+a.mo.join(" ")+'"\x3e\x3cspan class\x3d"label"\x3e\x3cspan class\x3d"text"\x3e'+a.label+'\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"wipe"\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3cspan class\x3d"bar"\x3e\x3c/span\x3e\x3cspan class\x3d"light"\x3e\x3c/span\x3e\x3c/li\x3e'}).join("")+"\x3c/ul\x3e")}
SE.prototype.initialize=function(a){this.gw="0%";this.$el.html(yF(this,a.Kr))};SE.prototype.render=function(a){if("error"===a)return this.$el.addClass("out"),this.$el.addClass("error"),this;var b=this.$el.find(".stage."+a);if(b.hasClass("active"))return this;b.addClass("preparing");window.setTimeout(function(){b.addClass("active").removeClass("preparing")},800);b.prevAll().addClass("past").removeClass("active");return this};
SE.prototype.show=function(a){a.append(this.$el);var b=this;this.$(".stage:first-child").addClass("appear").addClass("preparing");window.setTimeout(function(){b.$(".stage:first-child").addClass("active").removeClass("preparing")},1E3);this.$(".stage:not(:first-child)").each(function(a){var d=$(this);d.css("width",b.gw);window.setTimeout(function(){d.addClass("appear")},100*a)})};SE.prototype.remove=function(){};function zF(){}zF=Backbone.View.extend({tagName:"menu",className:"toolbarMoreGroup"});f=zF.prototype;f.events=function(){var a={"touchClick .toolbarMoreGroup .enabled a":function(){return!1}};a["touchClick .textToolbarBold.enabled a"]=this.no;a["touchClick .textToolbarItalic.enabled a"]=this.oo;a["touchClick .textToolbarLeft.enabled a"]=this.hy;a["touchClick .textToolbarRight.enabled a"]=this.ly;a["touchClick .textToolbarCenter.enabled a"]=this.Tx;return a};
f.initialize=function(a){this.root=a.root;this.Sp=!1;this.model=a.model;this.yf=a.yf;this.nc=a.nc;this.listenTo(this.model,"change",this.update);this.dc=a.dc};f.open=function(a){this.$el.css("opacity",1).css("display","block").css("top",a.top).css("left",a.left);this.Sp=!0};f.close=function(){this.$el.css("opacity",0).css("display","none");this.Sp=!1};
f.render=function(){this.$el.html(this.template({boldMsg:this.dc.format("brandKitTextToolbarMoreBold"),italicMsg:this.dc.format("brandKitTextToolbarMoreItalic"),leftMsg:this.dc.format("brandKitTextToolbarMoreLeft"),centerMsg:this.dc.format("brandKitTextToolbarMoreCenter"),rightMsg:this.dc.format("brandKitTextToolbarMoreRight"),listMsg:this.dc.format("brandKitTextToolbarMoreList"),linkMsg:this.dc.format("brandKitTextToolbarMoreLink"),copyMsg:this.dc.format("brandKitTextToolbarMoreCopy"),transparencyMsg:this.dc.format("brandKitTextToolbarMoreTransparency"),
layerUpMsg:this.dc.format("brandKitTextToolbarMoreLayerUp"),layerDownMsg:this.dc.format("brandKitTextToolbarMoreLayerDown")}));AF(this);this.update();return this};function AF(a){var b=a.model.Mk().map(function(a){return"textToolbar"+a.charAt(0).toUpperCase()+a.slice(1)});a.$el.find("li").each(function(a,d){0<b.filter(function(a){return $(d).hasClass(a)}).length||$(d).remove()})}
function BF(a){function b(a,b,c){b?a.addClass("on"):a.removeClass("on");c?a.removeClass("disabled").addClass("enabled"):a.removeClass("enabled").addClass("disabled").removeClass("on")}var c=a.model,d=c.fontFamily||a.yf.fontFamily,e=or(a.nc,d),g=pr(a.nc,d),d=qr(a.nc,d),h=a.$el.find(".textToolbarBold"),k=a.$el.find(".textToolbarItalic"),l=a.$el.find(".textToolbarLeft"),m=a.$el.find(".textToolbarRight"),n=a.$el.find(".textToolbarCenter");a=a.$el.find(".textToolbarList");l.removeClass("disabled").addClass("enabled");
m.removeClass("disabled").addClass("enabled");n.removeClass("disabled").addClass("enabled");a.removeClass("disabled").addClass("enabled");b(h,c.Pe()&&e,c.Se()&&d||!c.Se()&&e);b(k,c.Se()&&g,c.Pe()&&d||!c.Pe()&&g)}f.no=function(){var a=this.model;a.of(!a.bold)};f.oo=function(){var a=this.model;a.pf(!a.o)};f.hy=function(){this.model.wd("left")};f.ly=function(){this.model.wd("right")};f.Tx=function(){this.model.wd("center")};
f.update=function(){BF(this);var a=this.$el.find(".textToolbarLeft"),b=this.$el.find(".textToolbarRight"),c=this.$el.find(".textToolbarCenter"),d=this.model.bq;a.removeClass("on");c.removeClass("on");b.removeClass("on");"left"===d&&a.addClass("on");"center"===d&&c.addClass("on");"right"===d&&b.addClass("on");return this};f.Pf=function(){return this.Sp};f.template=_.template('\x3cli class\x3d"textToolbarBold disabled"\x3e\x3ca\x3e\x3c%- boldMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarItalic disabled"\x3e\x3ca\x3e\x3c%- italicMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarList disabled"\x3e\x3ca\x3e\x26#9679; \x3c%- listMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarLeft disabled"\x3e\x3ca\x3e\x3c%- leftMsg %\x3e \x26ndash;\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarCenter disabled"\x3e\x3ca href\x3d"#"\x3e\x26ndash; \x3c%- centerMsg %\x3e \x26ndash;\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarRight disabled"\x3e\x3ca href\x3d"#"\x3e\x26ndash; \x3c%- rightMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"dividerAbove elementToolbarCopy disabled"\x3e\x3ca href\x3d"#"\x3e\x3c%- copyMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarLink disabled"\x3e\x3ca href\x3d"#" trash-title\x3d"Link"\x3e\x3c%- linkMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarTransparency disabled"\x3e\x3ca href\x3d"#" trash-title\x3d"Transparency"\x3e\x3c%- transparencyMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarForward disabled"\x3e\x3ca href\x3d"#"\x3e\x3c%- layerUpMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"elementToolbarBackward disabled"\x3e\x3ca href\x3d"#"\x3e\x3c%- layerDownMsg %\x3e\x3c/a\x3e\x3c/li\x3e\x3c/menu\x3e');function vB(){}var vB=Backbone.View.extend({tagName:"menu",className:"textToolbar"}),wB="Bold",xB="Italic",yB="Justification",zB="List";f=vB.prototype;
f.events=function(){function a(a){a.preventDefault()}return{"touchClick .textToolbar a":a,"touchClick .textToolbarBold.disabled a":a,"touchClick .textToolbarItalic.disabled a":a,"touchClick .textToolbarBold:not(.disabled) a":this.no,"touchClick .textToolbarItalic:not(.disabled) a":this.oo,"touchClick .textToolbarColor a":this.Ux,"touchClick .textToolbarMore a":this.NE,"touchClick .textToolbarUpload a":this.Dw,"change .textToolbarFontFamily":this.Ix,"change .textToolbarFontSize":this.Jx}};
f.initialize=function(a){this.model=a.model;this.kl=!!a.kl;this.yf=a.yf;this.root=a.root;this.Po=a.Po;this.nc=a.nc;this.lp=a.lp;this.Gp=a.Gp||[];this.$c=a.$c||null;this.Ka=a.Ka;this.mg=null;this.listenTo(this.model,"change",this.render);this.L=a.L};f.remove=function(){this.mg&&this.mg.remove();this.Sb&&this.Sb.close();this.$(".dd-container").ddslick("destroy");Backbone.View.prototype.remove.apply(this,arguments)};
f.render=function(){function a(a,b,c){a.toggleClass("on",b&&c).toggleClass("enabled",c).toggleClass("disabled",!c)}var b=this,c=Wa.map(function(a){return'\x3coption data-text\x3d"'+a+'"\x3e'+a+"\x3c/option\x3e"}).join(""),d=$.extend(!0,this.yf.serialize(),this.model.serialize()),e=pm(this.nc,d.fontFamily);d.fontFamilyOptGroupsHtml=function(){function a(b){var c=b.name||b.family,d=b.displayName||c;b=b.H;var e=$("\x3coption\x3e");e.attr("data-image-src",b).val(c).text(d);return e}function c(a){return function(b){b.appendTo(a)}}
var d=mr(b.nc),e=er(b.nc),g=$('\x3cselect class\x3d"textToolbarFontFamily"\x3e\x3coptgroup class\x3d"textToolbarFontGroup user"\x3e\x3c/optgroup\x3e\x3coptgroup class\x3d"textToolbarFontGroup all"\x3e\x3c/optgroup\x3e\x3c/select\x3e'),h=g.find("optgroup.user"),q=g.find("optgroup.all");e.map(a).forEach(c(h));d.map(a).forEach(c(q));return""+g.html()}();d.fontSizeOptionsHtml=c;d.displayName=d.fontFamily;e&&e.displayName&&(d.displayName=e.displayName);d.canUpload=this.kl;this.$el.removeClass("subdued");
this.$el.html(this.template(d));this.kl&&this.$el.addClass("withUploadButton");this.Po&&this.$el.addClass("pointer");this.$(".textToolbarFontFamily").val(this.model.fontFamily);this.$(".textToolbarFontSize").val(this.model.Xb());CF(this);this.Gp.forEach(function(a){a="textToolbar"+a;b.$("."+a).removeClass(a).addClass("hidden")});var g=d.fontFamily,c=this.$el.children(".textToolbarBold"),d=this.$el.children(".textToolbarItalic"),e=or(this.nc,g),h=pr(this.nc,g),g=qr(this.nc,g);a(c,!(!this.model.Pe()||
!e),!!(this.model.Se()&&g||!this.model.Se()&&e));a(d,!(!this.model.Se()||!h),!!(this.model.Pe()&&g||!this.model.Pe()&&h));return this};
function CF(a){function b(){$("#overlays \x3e .mask").removeClass("on ddslick")}function c(a){$("#overlays \x3e .mask").removeClass("on ddslick");$("#null").focus();if(!a.didSelectAnOption){var b=d.model.Xb(),c=k.find("input"),e=parseFloat(c.val()),g=a.lastKeyBeforeSelect;"enter"!=g&&"tab"!=g||isNaN(e)?(c.val(dy(b)),"enter"==g&&(a.cancel=!0,c.select())):(-1===Wa.indexOf(e)&&$(this).ddslick("deselect"),d.model.jc(Math.max(Math.min(400,e),1)))}}var d=a,e={},g=a.$(".textToolbarFontFamily"),h=a.$(".textToolbarFontFamilySpan");
g.hasClass("dd-container")||(e={onClose:b},g.ddslick(e));(new S(h)).on("mousedown+touchstart",function(){var a=$(this).siblings(".textToolbarFontFamily");$("#overlays \x3e .mask").addClass("on ddslick");a.ddslick("open");return!1});var h=a.$(".textToolbarFontSize"),k=a.$(".textToolbarFontSizeSpan");$(h).hasClass("dd-container")||(e={onClose:c,width:"6em",align:"bottom",linkedControl:k.find("input").get(0)},$(h).ddslick(e));(new S(k)).on("mousedown+touchstart",function(a){var b=$(this).siblings(".textToolbarFontSize"),
c=$(this).find("input");if(b.hasClass("on"))a.target===a.currentTarget&&b.ddslick("close");else return c.select(),$("#overlays \x3e .mask").addClass("on ddslick"),b.ddslick("open"),!1});e=g.find("optgroup.user option").last().index();a.$(".textToolbarFontFamily .dd-options li").eq(e).addClass("endOfGroup");a.$(".textToolbarFontFamily .dd-option-selected").slice(1).removeClass("dd-option-selected")}f.Ix=function(a){this.Sb&&this.Sb.close();a=$(a.currentTarget);this.model.Ce(a.val())};
f.Jx=function(a){this.Sb&&this.Sb.close();a=$(a.currentTarget);a=parseInt(a.val(),10);this.model.jc(a)};f.no=function(a){this.Sb&&this.Sb.close();var b=this.model;b.of(!b.bold);a.preventDefault()};f.oo=function(a){this.Sb&&this.Sb.close();var b=this.model;b.pf(!b.o);a.preventDefault()};
f.Ux=function(a){var b=this;this.Sb&&this.Sb.close();this.mg&&this.mg.remove();if(!this.$c)return!1;this.mg=new Rg({Ka:this.Ka,$c:this.$c,Tb:Q(this.model.Tl()),Fe:sb(this.L)});this.mg.on("updateColor",function(a){b.model.setColor(a.X())});this.$el[0]&&a.target&&document.body&&Ug(this.mg,this.$el[0],a.target);return!1};
f.NE=function(){var a;a=this.$el.find(".textToolbarMore").offset();var b=this.$el.find(".textToolbarMore").width(),c=this.$el.find(".textToolbarMore").height();a={top:parseInt(a.top+c+2,10),left:parseInt(a.left+b/2+-35,10)};if(this.Sb)this.Sb.Pf()?this.Sb.close():this.Sb.open(a);else{var b=zF,c=$("#content"),d=this.model,e=this.yf,g=this.nc,h=this.L;h.dc||(h.dc=new Lb(h.yb));this.Sb=new b({root:c,model:d,yf:e,nc:g,dc:h.dc});$("#content").append(this.Sb.$el);this.Sb.render().open(a)}};
f.Dw=function(){if(!this.kl||!this.lp)return!1;this.$el.addClass("subdued");this.trigger("upload");this.lp.Dw();return!1};f.template=_.template('\x3cli class\x3d"textToolbarFont"\x3e\x3cselect class\x3d"textToolbarFontFamily"\x3e\x3c%\x3d fontFamilyOptGroupsHtml %\x3e\x3c/select\x3e\x3cspan class\x3d"textToolbarFontFamilySpan"\x3e\x3c%- displayName %\x3e\x3c/span\x3e\x3cselect class\x3d"textToolbarFontSize"\x3e\x3c%\x3d fontSizeOptionsHtml %\x3e\x3c/select\x3e\x3cspan class\x3d"textToolbarFontSizeSpan"\x3e\x3cinput type\x3d"text" autocomplete\x3d"off" value\x3d"\x3c%- fontSize %\x3e"\x3e\x3c/span\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarBold \x3c%- bold ? "on" : "" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"Bold"\x3eBold\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarItalic \x3c%- italic ? "on" : "" %\x3e"\x3e\x3ca href\x3d"#" title\x3d"Italic"\x3eItalic\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarJustification \x3c%- justification %\x3e"\x3e\x3ca href\x3d"#" title\x3d"Justification"\x3eJustification\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarList"\x3e\x3ca href\x3d"#" title\x3d"Bulleted list"\x3eUnordered/ordered list\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"textToolbarColor"\x3e\x3ca class\x3d"pickAColor" href\x3d"#" title\x3d"Pick a color"\x3e\x3cspan class\x3d"\x3c%- color ? "" : "noColor" %\x3e" style\x3d"\x3c%- color ? "background-color: " + color : "" %\x3e"\x3ePick a color\x3c/span\x3e\x3c/a\x3e\x3c/li\x3e\x3c% if (canUpload) { %\x3e\x3cli class\x3d"textToolbarUpload"\x3e\x3ca href\x3d"#"\x3eUpload a font\x3c/a\x3e\x3c/li\x3e\x3c% } %\x3e\x3cli class\x3d"textToolbarMore"\x3e\x3ca href\x3d"#" title\x3d"More"\x3eMore\x3c/a\x3e\x3c/li\x3e');function Bn(){}Bn=Backbone.View.extend({tagName:"div",className:"fxPanel"});(function(){var a=[];Bn.lx=function(b){a.push(b)};Bn.zf=function(){a.forEach(function(a){a.remove()});a=[]}})();f=Bn.prototype;
f.events=function(){var a={};a["touchClick .preset"]=this.ky;a["touchClick .presets .scrollLeft"]=this.GD;a["touchClick .presets .scrollRight"]=this.HD;a["input .range \x3e input[type\x3drange]"]=this.bv;a["change .range \x3e input[type\x3drange]"]=this.bv;a["touchClick .hex"]=this.ey;a["touchClick .toggleAdvanced"]=this.LE;return a};
f.initialize=function(a){Bn.lx(this);this.Oq=a.Oq;this.Zk=this.model.filter.name;this.Lm=null;this.Op=!1;this.yv={};this.rs=this.hf=0;this.Bc=a.Bc;this.listenTo(this.model,"change",this.refresh);this.listenTo(C,"beforeOperationStackPop",this.uk);this.render()};
f.render=function(){var a=this;$("#editorLogo").addClass("noAnimate");$(".imageToolbarCrop").removeClass("enabled").addClass("disabled");this.$el.html(this.template({advancedOptionsMsg:Rb(this.Bc),filterCodeMsg:this.Bc.format("editorToolbarFilterCode")}));Fq(this.model);window.setTimeout(function(){DF(a);EF(a);a.$el.find(".range_tint \x3e .rangeTrack").addClass("tintBar");FF(a);a.refresh()},300);this.Lm=this.model.Hr;return this};
f.remove=function(){$("#editorLogo").removeClass("noAnimate");$("#canvaDocument").off("scroll",this.sD);this.uk();$(".imageToolbarCrop").removeClass("disabled").addClass("enabled");this.model&&Vn(this.model);Backbone.View.prototype.remove.apply(this,arguments)};
function Yx(a,b,c){function d(){var a=$("#canvaDocument").scrollTop();e.$el.css("margin-top",g-a)}a.$el.css("top",b.top).css("left",b.left-400).css("margin-top",0);c?a.$el.addClass("underneath"):a.$el.removeClass("underneath");var e=a,g=$("#canvaDocument").scrollTop();$("#canvaDocument").on("scroll",d);a.sD=d}
f.refresh=function(){this.Zk=this.model.filter.name;this.VF||GF(this);HF(this);IF(this);var a="Normal"==this.model.filter.name,b=!this.model.Up();this.$el.toggleClass("hideIntensity",a);this.$el.toggleClass("disableIntensity",b);this.$el.find(".range_intensity .sliderInput").prop("disabled",b||a);FF(this)};function JF(){return"intensity brightness contrast saturation tint blur x-process vignette".split(" ")}
function DF(a){var b=a.$el.find(".presets .presetsButtons");b.empty();$("#editorLogo").addClass("noAnimate");var c=a.model.Nb();if(c){var c=c[Tn].ca(),d=$(_.template('\x3cli class\x3d"preset preset_Normal"\x3e\x3cdiv class\x3d"image"\x3e\x3cdiv class\x3d"inner"\x3e\x3cimg\x3e\x3c/div\x3e\x3c/div\x3e\x3cspan class\x3d"title"\x3e\x3c%- label %\x3e\x3c/span\x3e\x3c/li\x3e')({label:Sb(a.Bc,"Normal")})),e=d.find("img");e.css("opacity",0);e.one("load",function(){var a=$(e).get(0).naturalWidth,b=$(e).get(0).naturalHeight,
a=new K(0,0,a,b);hg(a,new K(0,0,52,52));e.css(a.serialize());e.css("opacity",1)});Fa(e,c);b.append(d);b.find("."+KF(a.Zk)).addClass("active")}a.Oq.sort(function(b,c){var d=Sb(a.Bc,b.name),e=Sb(a.Bc,c.name);return d<e?-1:1}).forEach(function(c,d){var e=$('\x3cli class\x3d"preset '+LF(a,c)+'"\x3e\x3c/li\x3e');b.append(e);window.setTimeout(function(){MF(a,e,c)},300*d)})}
function MF(a,b,c){a.model.Ro(c,!0,function(d){var e=$('\x3cimg src\x3d"'+d.src+'" /\x3e');e.css("opacity",0);e.one("load",function(){var a=$(e).get(0).naturalWidth,b=$(e).get(0).naturalHeight,a=new K(0,0,a,b);hg(a,new K(0,0,52,52));e.css(a.serialize());e.css("opacity",1)});var g=$('\x3cdiv class\x3d"inner"\x3e\x3c/div\x3e'),h=$('\x3cdiv class\x3d"vignette"\x3e\x3c/div\x3e'),k=$('\x3cdiv class\x3d"image"\x3e\x3c/div\x3e');h.css("background-image","radial-gradient("+d.lF+")");k.append(g);g.append(e);
g.append(h);b.append(k);b.append($('\x3cspan class\x3d"title"\x3e\x3c/span\x3e').text(Sb(a.Bc,c.name)));c.name===a.Zk&&b.addClass("active")})}
function IF(a){var b=a.$el.find(".presets .presetsButtons");b.find(".preset").removeClass("active");b.find("."+KF(a.Zk)).addClass("active");0===a.hf?a.$el.find(".scrollLeft").addClass("disabled"):a.$el.find(".scrollLeft").removeClass("disabled");a.hf===a.$el.find(".preset").length-5?a.$el.find(".scrollRight").addClass("disabled"):a.$el.find(".scrollRight").removeClass("disabled")}
function EF(a){function b(a){var b=0,c=100;"vignette"!==a&&"intensity"!==a&&(b=-100,c=100);return $('\x3cinput class\x3d"sliderInput" type\x3d"range" step\x3d"1" min\x3d"'+b+'" max\x3d"'+c+'" value\x3d"0" /\x3e')}var c=a.$el.find(".ranges");c.empty();JF().forEach(function(d){var e=Tb(a.Bc,d),g=$(_.template('\x3cli class\x3d"range \x3c%- rangeClass %\x3e"\x3e\x3clabel\x3e\x3c%- rangeName %\x3e\x3c/label\x3e\x3c/li\x3e')({rangeClass:NF(d),rangeName:e})),e=b(d),h=$("\x3cspan\x3e").addClass("rangeTrack"),
k=$('\x3cspan class\x3d"valueDisplay"\x3e0\x3c/span\x3e');g.append(e);g.append(h);g.append(k);("vignette"!=d?[0]:[]).forEach(function(a){var b=$('\x3cspan class\x3d"snapGuide"\x3e\x3c/span\x3e');b.css("margin-left",a);g.append(b)});c.append(g)})}function GF(a){var b=a.$el.find(".ranges");JF().forEach(function(c){b.find("."+NF(c)+" input").val(a.model.getByName(c.replace(/[^a-z]/gi,""))||0)})}
function HF(a){var b=a.$el.find(".ranges");JF().forEach(function(c){var d=b.find("."+NF(c)+" .valueDisplay");c=parseInt(a.model.getByName(c.replace(/[^a-z]/gi,"")),10);isNaN(c)&&(c=0);d.html(0<c?"+"+c:""+c)})}function FF(a){a.$el.find("input.hex").val(a.model.filter.X())}function LF(a,b){var c=KF(b.name);a.yv[c]=b;return c}function KF(a){return"preset_"+a.replace(/[^a-z0-9]/gi,"")}function NF(a){return"range_"+a.replace(/[^a-z0-9]/gi,"")}
f.ky=function(a){var b=this,c=$(a.target);c.hasClass("preset")||(c=c.parents(".preset").first());c.hasClass("active")||(c.addClass("transitioning"),window.setTimeout(function(){c.removeClass("transitioning").addClass("active")},50));a=c.attr("class").split(/\s+/).filter(function(a){return/preset_[a-z0-9]+/gi.test(a)});if(1===a.length){a=a[0];if("preset_Normal"==a)Jq(this.model);else{var d=this.yv[a];window.setTimeout(function(){Iq(b.model,d)},150)}window.clearTimeout(this.rs)}};
f.bv=function(a){function b(){$.data(d,"FxPanelView:snapRange",0);$.data(d,"FxPanelView:snapReset",0)}var c=this,d=a.target;a=d.valueAsNumber;var e=/(?:^|\s)range_(\S+)/.exec(d.parentNode.className),g=$.data(d,"FxPanelView:snapRange")||0,h=$.data(d,"FxPanelView:snapReset")||0;0<a*g&&14>=a*g?(a=0,d.value=a,0==h&&(h=window.setTimeout(b,750),$.data(d,"FxPanelView:snapReset",h))):0!=a&&$.data(d,"FxPanelView:snapRange",0>a?1:-1);e&&(this.model.Xm(e[1],a),window.clearTimeout(this.rs),this.rs=window.setTimeout(function(){c.model.update(!0)},
400))};f.ey=function(){function a(){d.off("blur");d.off("keypress");var a=d.val().replace(/[^a-z0-9]/gi,"");d.val(a).blur();var b=c.model,a=tq(a);isNaN(a.blur*a.brightness*a.contrast*a.saturation*a.tc*a.vignette*a.Mc)||(b.filter=a,b.Ed=!0,b.update(!0));c.Op=!1}function b(b){13==b.which&&a()}if(!this.Op){this.Op=!0;var c=this,d=this.$el.find("input.hex");d.val(this.model.X()).select().focus();d.on("blur",a);d.on("keypress",b)}};f.GD=function(){0!==this.hf&&(this.hf-=3,OF(this))};
f.HD=function(){var a=parseInt($(".preset").length,10);this.hf<a-5&&(this.hf+=3,OF(this))};function OF(a){var b=-63*a.hf;a.$el.find(".preset").css("-webkit-transform","translateX("+b+"px)").css("transform","translateX("+b+"px)");IF(a)}
f.LE=function(){this.$el.hasClass("showAdvanced")?(this.$el.find(".toggleAdvanced .text").text(Rb(this.Bc)),this.$el.find(".filterCode").removeClass("big").addClass("compact"),this.$el.removeClass("in").removeClass("showAdvanced")):(this.$el.find(".toggleAdvanced .text").text(this.Bc.format("editorToolbarFilterOptionSimpler")),this.$el.addClass("showAdvanced").delay(300,function(){$(this).addClass("in")}),this.$el.find(".filterCode").removeClass("compact").addClass("big"))};
f.uk=function(){var a=I(t).pa()[0],b=this.model.Hr,c=!a,d=_.isEqual(b,this.Lm);c||d||(a={placeholderIndex:a.eb(),elementIndex:a.V(),pageIndex:T(t,a.T()),"new":{filter:b},old:{filter:this.Lm}},C.register(new V(11,a)),this.Lm=b)};f.template=_.template('\x3cul class\x3d"presets"\x3e\x3cli class\x3d"scrollLeft"\x3e\x26#xe000;\x3c/li\x3e\x3cli class\x3d"scrollRight"\x3e\x26#xe000;\x3c/li\x3e\x3cli\x3e\x3cul class\x3d"presetsButtons"\x3e\x3c/ul\x3e\x3c/li\x3e\x3c/ul\x3e\x3cul class\x3d"ranges"\x3e\x3c/ul\x3e\x3cdiv class\x3d"toggleAdvanced"\x3e\x3cspan class\x3d"text"\x3e\x3c%- advancedOptionsMsg %\x3e\x3c/span\x3e \x3cspan class\x3d"arrow"\x3e\x26#xe000;\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"filterCode compact"\x3e\x3cspan class\x3d"text"\x3e\x3c%- filterCodeMsg %\x3e #\x3c/span\x3e\x3cinput name\x3d"hex" class\x3d"hex" maxlength\x3d"16"/\x3e\x3c/div\x3e');function BE(a,b){xy.call(this,[{name:"start",from:"none",to:"pricingLayout"},{name:"price",from:"pricingLayout",to:"pricingElements"},{name:"price",from:"pricingElements",to:"reviewingSubmission"},{name:"submit",from:"reviewingSubmission",to:"submitted"},{name:"submit",from:"submitted",to:"submitted"},{name:"error",from:"pricingLayout",to:"failed"},{name:"error",from:"reviewingSubmission",to:"failed"},{name:"error",from:"submitted",to:"failed"}]);this.document=t;this.te=ma;this.ka=a;this.Rb=b;this.Uo=
[]}BE.prototype=new xy;BE.prototype.start=function(){this.ma.start()};function cF(a,b){b.title&&az(a.document.Aa(),b.title);b.keywords&&ni(a.document,b.keywords);Ll(3E4).then(function(){a.ma.transition("price")},function(){a.ma.transition("error")})}BE.prototype.hr=function(){this.ma.transition("review")};
function aF(a){var b=new Qr;Rr(b.vs(Pr));a.Uo.forEach(function(a){var d=(a.keywords||[]).map(ps),e=new Sr;e.media=a.media;e=e.mh(a.version);e.title=a.title;a=e.Kw(a.description).us(d).vs(Or(a.price));b.publicifyMediaRequests.push(a)});Lr(a.Rb,a.ka.ya(),a.ka.vb(),b,function(b){200!=b&&a.ma.transition("error")},a.document.ja.getName());a.ma.transition("submit")}
function ZE(a,b){function c(a,c){200===a&&c&&c.media&&0!==c.media.length?b(c.media):b&&b([])}var d=xi(a.document).map(function(a){return a.F()});0===d.length?b&&b([]):(d=hr(gr((new ir).eg(!0).sf(!1),[Ic,Kc]).ts(),!1).Cn(d),kr(sa,d,c))}function PF(a,b){function c(a,c){200===a&&c&&c.media&&0!==c.media.length?b(c.media):b&&b([])}var d=xi(a.document);0===d.length?b&&b([]):(d=Ar(new Br,d).ts(),Ds(sa,d,c))}
function XE(a,b){PF(a,function(a){a=a.reduce(function(a,b){return a+(b&&b.da()&&ss(b.da())&&100*ss(b.da()).ONE_USE||0)},0);b(a)})};function RD(a){xy.call(this,[{name:"start",from:"none",to:"exporting"},{name:"complete",from:"exporting",to:"complete"},{name:"fail",from:"exporting",to:"error"},{name:"start",from:"error",to:"exporting"}]);this.Ff=a;this.Jl=this.Ct=null}RD.prototype=new xy;RD.prototype.Nm=function(a){var b=this;if(null!==this.cb)return!1;this.Ct=Wj(a);this.ma.start();this.cb=this.Ff.th(a,function(a){b.cb=null;b.Jl=a;b.ma.transition("complete")},function(a){b.cb=null;b.Jl=a;b.ma.fail()});return!0};
RD.prototype.ik=function(a,b){switch(b){case "error":this.trigger("change:state",this,b,{type:0,message:this.Cf,data:this.Jl});break;case "exporting":this.trigger("change:state",this,b,this.Ct);break;case "complete":this.trigger("change:state",this,b,this.Jl)}};function QF(a,b){xy.call(this,[{name:"start",from:"none",to:"gatheringInfo"},{name:"pay",from:"gatheringInfo",to:"paying"},{name:"payWithCreditPack",from:"gatheringInfo",to:"payingForCreditPack"},{name:"pay",from:"payingForCreditPack",to:"paying"},{name:"fail",from:"payingForCreditPack",to:"error"},{name:"fail",from:"gatheringInfo",to:"error"},{name:"complete",from:"paying",to:"complete"},{name:"fail",from:"paying",to:"error"}]);this.Af=a;this.Pc=b;this.ma.start()}QF.prototype=new xy;
QF.prototype.er=function(a,b){if(null!==this.cb)return!1;this.Bd=a;this.Nq(this.Bd,b);return!0};
QF.prototype.Nq=function(a,b){function c(b,c){e.cb=null;m=!0;var h;200===b?(e.ma.transition("pay"),h=Te(e.Pc,g,a.Wc(),d),e.cb=h):(e.Cf=c,e.ma.fail())}function d(a,b){e.cb=null;m=!0;if(200===a){var c=b.documentVersion==h,d=0<Qf(b);e.Bd=b;d?(c||(e.Cf="Your design changed during export. Someone else may be editing it."),e.ma.fail()):e.ma.transition("complete")}else e.ma.fail()}var e=this,g=this.Af.ya(),h=this.Af.vb(),k=a.Wc().length,l=Qf(a);this.analytics&&this.analytics.track("license_purchase",{quantity_new_items:k,
value_new_items:l});var m=!1;b?(this.ma.transition("payWithCreditPack"),k=We(this.Pc,b,c)):(this.ma.transition("pay"),k=Te(this.Pc,g,a.Wc(),d));m||(this.cb=k)};
QF.prototype.ik=function(a,b,c){switch(b){case "error":this.trigger("change:state",this,b,{type:"gatheringInfo"===c?2:3,message:this.Cf});break;case "gatheringInfo":this.trigger("change:state",this,b,this.Bd);break;case "paying":case "payingForCreditPack":this.trigger("change:state",this,b);break;case "complete":this.trigger("change:state",this,b,this.Bd)}};function RF(a,b){xy.call(this,[{name:"start",from:"none",to:"checking"},{name:"pay",from:"checking",to:"payingForFreeItems"},{name:"complete",from:"payingForFreeItems",to:"notRequired"},{name:"fail",from:"payingForFreeItems",to:"error"},{name:"dontRequire",from:"checking",to:"notRequired"},{name:"require",from:"checking",to:"required"},{name:"fail",from:"checking",to:"error"}]);this.Pc=a;this.Af=b;this.Bd=null}RF.prototype=new xy;
RF.prototype.dr=function(){if(null!==this.cb)return!1;var a=this,b=this.Af.ya(),c=this.Af.vb(),d=!1;this.ma.start();b=this.Pc.Sl(b,function(b,g){a.cb=null;d=!0;200===b?(a.Bd=g,g.documentVersion!==c?(a.Cf="Your design changed during the billing check. Someone else may be editing it.",a.ma.fail()):0<Qf(g)?a.ma.transition("require"):0===Qf(g)&&0<g.Wc().length?a.Nq(g):a.ma.transition("dontRequire")):a.ma.fail()});d||(this.cb=b);return!0};
RF.prototype.Nq=function(a,b){function c(b,c){e.cb=null;m=!0;var h;200===b?(e.ma.transition("pay"),h=Te(e.Pc,g,a.Wc(),d),e.cb=h):(e.Cf=c,e.ma.fail())}function d(a,b){e.cb=null;m=!0;if(200===a){var c=b.documentVersion==h,d=0<Qf(b);e.Bd=b;d?(c||(e.Cf="Your design changed during export. Someone else may be editing it."),e.ma.fail()):e.ma.transition("complete")}else e.ma.fail()}var e=this,g=this.Af.ya(),h=this.Af.vb(),k=a.Wc().length,l=Qf(a);this.analytics&&this.analytics.track("license_purchase",{quantity_new_items:k,
value_new_items:l});var m=!1;b?(this.ma.transition("payWithCreditPack"),k=We(this.Pc,b,c)):(this.ma.transition("pay"),k=Te(this.Pc,g,a.Wc(),d));m||(this.cb=k)};RF.prototype.ik=function(a,b){switch(b){case "error":this.trigger("change:state",this,b,{type:1,message:this.Cf});break;case "required":case "notRequired":this.trigger("change:state",this,b,this.Bd)}};function qF(a,b,c){this.fl=new RF(b,a);this.Hq=new QF(a,b);this.sg=new RD(c);this.Af=a;this.Ns=this.nF=null;xy.call(this,[{name:"start",from:"none",to:"billing:checking"},{name:"export",from:"none",to:"export:exporting"},{name:"export",from:"billing:required",to:"payment:gatheringInfo"},{name:"export",from:"billing:notRequired",to:"export:exporting"},{name:"export",from:"billing:error",to:"error"},{name:"export",from:"payment:gatheringInfo",to:"export:exporting"},{name:"export",from:"payment:complete",
to:"export:exporting"},{name:"fail",from:"payment:error",to:"error"},{name:"fail",from:"export:error",to:"error"}],[{name:"billing",cc:this.fl},{name:"payment",cc:this.Hq},{name:"export",cc:this.sg}])}qF.prototype=new xy;f=qF.prototype;f.dr=function(){this.ma.start();return this.fl.dr()};f.Nm=function(a){this.ma.transition("export");return"export:exporting"===this.ma.sd()&&this.sg.Nm(a)};f.er=function(a){return this.Hq.er(this.Bd,a)};
f.yq=function(a,b,c,d){xy.prototype.yq.apply(this,arguments);var e=Array.prototype.slice.call(arguments,2),g=a===this.sg&&"error"===b;a===this.Hq&&"error"===b||g?(e=["change:state",this,"error"].concat(e),Sw(this.ma,"error"),this.trigger.apply(this,e)):a===this.fl&&"required"===b||"notRequired"===b?this.Bd=c:a===this.fl&&"error"===b&&(this.Ns=c)};
f.ik=function(a,b,c){"payment:gatheringInfo"===b?this.trigger("change:state",this,b,this.Bd):"export:exporting"===b&&"none"===c?this.trigger("change:state",this,b,this.nF):"error"===b&&"billing:error"===c&&this.trigger("change:state",this,b,this.Ns)};function wF(a){this.jd=a.jd;this.Ia=a.Ia;this.xc=a.xc;this.qj=a.qj;this.element=$('\x3cdiv class\x3d"creditCardEditor"\x3e');this.sc=a.sc;this.view=new SF({dl:!1!==a.dl});this.listenTo(this.view,"input",this.tq)}f=wF.prototype;f.listenTo=Backbone.Events.listenTo;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
f.render=function(){this.view.render().$el.appendTo(this.element);this.zi(this.qj);this.xc&&this.Wf(this.xc);return this};f.oc=function(){return this.element};f.remove=function(){this.stopListening();this.view.remove()};f.Wf=function(a){this.xc=a;this.view.Wf(a);return this};f.zi=function(a){this.qj=a;this.view.zi(a);return this};f.Xl=P.method(function(a){function b(a){return a.Gh()}return!this.xc||this.view.Dl||a?(a=TF(this.view),UF(a),this.YE(a).then(b).tap(this.Wf.bind(this))):this.xc});
f.tq=function(){this.xc&&!TF(this.view)&&this.Wf(this.xc);this.trigger("input",this.view.Dl)};f.YE=P.method(function(a){var b=this;return this.sc.createToken({wh:a.wh,yt:a.ep,zt:a.fp,hi:a.hi}).then(function(a){return b.jd.Cy(b.Ia,a)})});
function UF(a){if(!a)throw new Ky("No credit card has been entered.");if(!(a.wh&&3<=a.wh.length&&4>=a.wh.length))throw new Py;if(!function(){var b=a.ep&&parseInt(a.ep,10);return b&&1<=b&&12>=b}())throw new Qy;if(!a.fp||!parseInt(a.fp,10))throw new Ry;if(!function(){var b=a.hi&&a.hi.replace(/[\s-]+/g,"");return b&&13<=b.length&&19>=b.length}())throw new Sy;};function SF(){}SF=Backbone.View.extend({className:"creditCardEditView",tagName:"div"});f=SF.prototype;f.initialize=function(a){this.Dl=!1;this.dl=a.dl};f.events=function(){return{"click .cancelEditCreditCard":this.trigger.bind(this,"cancelEditCreditCard"),"keydown #expMonth":this.TB,"input #expMonth":this.SB,input:this.tq,"focus input:not([readonly])":this.rq,"blur input":this.pq}};
function TF(a){a={wh:a.$("#cvc").val().trim(),ep:a.$("#expMonth").val().trim(),fp:a.$("#expYear").val().trim(),hi:a.$("#ccNumber").val().trim()};return function(a){return Object.keys(a).every(function(c){return!a[c].length})}(a)?null:a}
f.Wf=function(a){this.$el.addClass("prefilled");this.$("#ccNumber").val("").attr("placeholder","••••••••••••"+a.last4);this.$("#expMonth").val("").attr("placeholder","••");this.$("#expYear").val("").attr("placeholder","••");this.$("#cvc").val("").attr("placeholder","•••");this.Dl=!1};f.zi=function(a){this.$("input").prop("readonly",!a);VF(this)};f.render=function(){this.$el.html(this.template());VF(this);return this};
function VF(a){var b=0===a.$("input").filter(function(){return this.readOnly}).length,c=a.$("#ccNumber");a.dl&&b?c.prop("autofocus",!0):c.removeAttr("autofocus")}
f.tq=function(a){a=$(a.target);var b=a.data("oldValue"),c=a.val();b!==c?(a.data("oldValue",c),a=!0):a=!1;a&&(this.$el.hasClass("prefilled")&&(this.$("#ccNumber").attr("placeholder","Card number"),this.$("#expMonth").attr("placeholder","MM"),this.$("#expYear").attr("placeholder","YY"),this.$("#cvc").attr("placeholder","CVC")),this.$el.removeClass("prefilled"),this.Dl=!0,this.trigger("input"))};f.rq=function(){this.$el.addClass("focused")};f.pq=function(){this.$el.removeClass("focused")};
f.TB=function(a){var b=this.$("#expMonth"),c=b.val(),d=this.$("#expYear"),e=String.fromCharCode(a.which);""===c&&e.match(/[2-9]/)?(a.preventDefault(),b.val("0"+e),d.focus()):-1<[191,32,9].indexOf(a.which)&&(a.preventDefault(),1===c.length&&b.val("0"+c),d.focus())};f.SB=function(){2===this.$("#expMonth").val().length&&this.$("#expYear").focus()};f.template=_.template('\x3cinput class\x3d"textInput" id\x3d"ccNumber" name\x3d"ccNumber" placeholder\x3d"Card number" pattern\x3d"[0-9 -]{13,19}" type\x3d"text" maxlength\x3d"19" autocomplete\x3d"off" required /\x3e\x3cspan class\x3d"creditCardExpiry"\x3e\x3cinput class\x3d"textInput" id\x3d"expMonth" name\x3d"expMonth" placeholder\x3d"MM" type\x3d"text" pattern\x3d"[01]?[0-9]" maxlength\x3d"2" autocomplete\x3d"off" required /\x3e\x3cinput class\x3d"textInput" id\x3d"expYear" name\x3d"expYear" placeholder\x3d"YY" type\x3d"text" pattern\x3d"[0-3][0-9]" maxlength\x3d"2" autocomplete\x3d"off" required /\x3e\x3c/span\x3e\x3cinput class\x3d"textInput" id\x3d"cvc" name\x3d"cvc" placeholder\x3d"CVC" type\x3d"text" pattern\x3d"[0-9]{3,4}" maxlength\x3d"4" autocomplete\x3d"off" required /\x3e');function HE(){this.Bv=window.pricingPlans}function JE(a){return[Object.freeze(D(uf,a.Bv.paidMonthly)),Object.freeze(D(uf,a.Bv.paidYearly))]};function WF(a){this.plan=a.WC;this.title=a.title;this.pricePerIntervalText=a.eD;this.summaryText=a.yE}
function XF(a){var b=a.slice(0).sort(function(a,b){return wf(b)-wf(a)})[0];return a.map(function(a){var d=vf(a).toLowerCase(),e;e=["$"];"YEARLY"===vf(a)?e.push(wf(a).toFixed(2)):e.push((wf(a)/12).toFixed(2));e.push(" USD");e.push("YEARLY"===vf(a)?"/year":"/month");e=e.join("");return new WF({WC:a,title:d,eD:e,yE:"YEARLY"===vf(a)?"Save "+((wf(b)-wf(a))/wf(b)*100).toFixed(0)+"%!":["$",wf(a).toFixed(2)," USD/year"].join("")})})};function YF(){}YF=Backbone.View.extend({tagName:"ul",className:"textIconList"});YF.prototype.initialize=function(a){this.items=a.items};YF.prototype.render=function(){this.$el.html(this.items.map(this.Gg).join(""));return this};YF.prototype.Gg=_.template('\x3cli class\x3d"textIconItem"\x3c% if (icon) { %\x3e data-icon\x3d"\x3c%- icon %\x3e"\x3c% } %\x3e\x3e\x3ch3\x3e\x3c%- title %\x3e\x3c/h3\x3e\x3c% if (isHtml) { %\x3e\x3c%\x3d content %\x3e\x3c% } else { %\x3e\x3cp\x3e\x3c%- content %\x3e\x3c/p\x3e\x3c% } %\x3e\x3c/li\x3e');function ZF(){}ZF=Backbone.View.extend({className:"priceOptions",tagName:"ul"});f=ZF.prototype;f.initialize=function(a){this.Rg=a.Rg};f.events=function(){return{click:this.gy}};f.render=function(){this.$el.html(this.Rg.map(this.fD).join(""));return this};f.gy=function(a){a=$(a.target).closest("li");$F(this,a.index())};function $F(a,b){0<=b&&b<a.Rg.length&&(a.$("li").eq(b).find("input").prop("checked",!0),a.trigger("selectPlan",a.Rg[b].plan))}
f.mr=function(){function a(a){switch(vf(a)){case "MONTHLY":return a.xg();case "YEARLY":return wf(a);default:throw Error("unknown billing interval");}}var b=[].concat(this.Rg).sort(function(b,d){return a(b.plan)-a(d.plan)}),b=this.Rg.indexOf(b[0]);$F(this,b)};f.fD=_.template('\x3cli class\x3d"priceOption"\x3e\x3cinput name\x3d"priceOptionPlan" type\x3d"radio"\x3e\x3cspan class\x3d"priceOptionTitle"\x3e\x3c%- title %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionPricePerBillingInterval"\x3e\x3c%- pricePerIntervalText %\x3e\x3c/span\x3e\x3cspan class\x3d"priceOptionSummary"\x3e\x3c%- summaryText %\x3e\x3c/span\x3e\x3c/li\x3e');_.template("It looks like you don\x26rsquo;t have permission to make this design a template. Ask the owner to give you an 'edit' link and try again.");_.template("D'oh! We weren\x26rsquo;t able to make that design into a template. Try again in a minute or two.\n\nIf it's still not working, contact our support team at support@canva.com.");
function aG(a){return _.template("\x3ch2\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cp\x3e\x3c%- subTitle %\x3e\x3c/p\x3e")({title:a.format("canvaForWorkUpgradeWelcomeTitle"),subTitle:a.format("canvaForWorkUpgradeWelcomeSubTitle")})}_.template("\x3ch2\x3eIntroducing \x3cstrong\x3eMagic Resize\x3c/strong\x3e\x3c/h2\x3e\x3cp\x3eJust one small part of Canva for Work\x3c/p\x3e");_.template('\x3cul\x3e\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"https://support.canva.com/hc/requests/new"\x3eContact Customer Support\x3c/a\x3e\x3c/li\x3e\x3cli\x3e\x3ca target\x3d"_blank" href\x3d"https://support.canva.com/hc"\x3eVisit our Help Center\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e');
_.template("\x3ch2\x3eStart a new team\x3cbr\x3eand get \x3cstrong\x3e\x3c%- trialPeriodDays %\x3e days free\x3c/strong\x3e\x3c/h2\x3e\x3cp\x3eAfter that it\x26rsquo;s $\x3c%- annualPlanPerMonth %\x3e USD per month, paid annually\x3c/p\x3e");var bG=_.template("\x3cul\x3e\x3cli\x3eYou can cancel your trial, at no charge, before \x3cstrong\x3e\x3c%- trialEndDate %\x3e\x3c/strong\x3e\x3c/li\x3e\x3cli\x3eAt the end of your trial period, you will be charged based on your selected plan\x3c/li\x3e\x3cli\x3eYou’ll receive an email reminder \x3cstrong\x3e3 days\x3c/strong\x3e prior to the end of your trial\x3c/li\x3e\x3c/ul\x3e");function cG(a,b,c){this.title=a;this.content=b;this.icon=c||"";this.isHtml=!1};function dG(a){return[new cG(a.format("canvaForWorkUpgradeTeamBrandKitsTitle"),a.format("canvaForWorkUpgradeTeamBrandKitsDescription"),"teamBrandKits"),new cG(a.format("canvaForWorkUpgradeLayoutCreatorsTitle"),a.format("canvaForWorkUpgradeLayoutCreatorsDescription"),"layoutCreators"),new cG(a.format("canvaForWorkUpgradeMagicallyResizeTitle"),a.format("canvaForWorkUpgradeMagicallyResizeDescription"),"magicResize"),new cG(a.format("canvaForWorkUpgradePhotoFoldersTitle"),a.format("canvaForWorkUpgradePhotoFoldersDescription"),
"photoFolders")]};function eG(a){this.xz=a.wz;this.$z=a.Zz;this.$f=a.hw.map(function(a){return new fG(a)});this.$f.forEach(function(a){this.listenTo(a,{willAdvance:this.ju,advance:this.rC,finish:this.tC,reset:this.uC,die:this.sC})},this);this.Kq=a.Kq.map(function(a){return _.defaults({},a,{position:"leftTop",vd:0})});this.Cv=!1;this.gn=new gG({oq:a.hw.length})}f=eG.prototype;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenToOnce;
f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;
function di(a){var b=[],c=[];b.push([{Fb:"#documentFileMenuButton",Nc:10},{Fb:".dropdownMenuPopoverContainer .documentResizePaneButton",kt:!0,vd:500,vf:142,Nc:18}]);c.push({Fb:".documentResizeButton[value\x3dpinterest]",al:-170,vd:500,text:"Need your design in the perfect Pinterest size? Change it here and Canva will automagically fit your content to the new dimensions. Try it and see!",title:"Resizing"});b.push([{Fb:"#objectPanel menu .uploads a",jg:"#objectPanel.stage6",vf:15,Nc:15},{Fb:"#resultsUpload .newUploadsFolder",
Rh:"#objectPanel:not(.stage6)",Pq:function(){$("#objectPanel").find(".uploadsFolder[title\x3dUploads].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},vd:500}]);c.push({Fb:"#resultsUpload .newUploadsFolderThumbnail",vd:500,text:"All your images can now be organized into neat folders.",title:"Organizing photos"});a.ul&&(b.push([{Fb:"#objectPanel menu .layout a",jg:"#objectPanel.stage2",vf:15,Nc:15},{Fb:"#resultsLayout .layoutsTabs \x3e li:last-child a",Nc:10,Rh:"#objectPanel:not(.stage2)",
vd:500}]),c.push({Fb:"#resultsLayout .layoutsTabs \x3e li:last-child a",text:"All of your designs are available here for reuse. Need a slide from last week’s presentation? Just drag it into your current design.",title:"Mix-and-match your existing designs"}));b.push([{Fb:"#objectPanel menu .backgrounds a",jg:"#objectPanel.stage5",vf:15,Nc:15},{Fb:"#resultsBackground .colorPaletteBrandSingle .colorPaletteSwatch",Mt:!0,Rh:"#objectPanel:not(.stage5)",fq:!0,vd:500}]);c.push({Fb:"#resultsBackground .colorPaletteBrandSingle .colorPaletteSwatch",
text:"Your brand kit lets you customize the fonts and colors that you see in the editor. Keep all your designs on brand and super polished!",title:"Access your brand"});b.push([{Fb:"#objectPanel menu .uploads a",jg:"#objectPanel.stage6",vf:15,Nc:15},{Fb:"#resultsUpload .uploadsFolder[title\x3dLogos] .uploadsFolderThumbnail",Rh:"#objectPanel:not(.stage6)",Pq:function(){$("#objectPanel").find(".uploadsFolder[title\x3dUploads].uploadsFolderOpen .uploadsFolderThumbnail").first().click()},vd:500}]);c.push({Fb:"#resultsUpload .uploadsFolder[title\x3dLogos] .uploadsFolderThumbnail",
vd:500,text:"It’s always a struggle to find the newest, high-quality logo, right? Upload it here and you and your team will always have it ready to use in a design.",title:"Keep your logo up-to-date"});a.iD&&(b.push([{Fb:".publishToStreamSwitch",vf:5,Nc:5},{Fb:".switchPublishTemplate",vd:500}]),c.push({Fb:".docPublisherPopOver .switchPublishTemplate",position:"rightTop",text:"If you often want to reuse the same design, save it as a template and it will appear in the “Layouts” tab.",title:"Save as a template"}));
a="C4W_UPGRADED_USER"===a.Id;b=new eG({wz:{Ps:["Let's find the stars"],ln:"Uncover all the hidden stars to learn how much time you‘ll save with Canva for Work’s new features.",title:"Collect the stars and discover new features!",ir:""},Zz:{Ps:a?["Set up your team","Stay here and play"]:["Check out your team space","Stay here and play"],ln:"You’ve discovered all the new features in the editor, but Canva for Work truly shines when you’re designing with your team.",title:"Congratulations!",ir:a?"starFinderSplashScreenNewUser":
void 0},hw:b,Kq:c});b.once("finish",function(a){"solo"===a?(null!=F&&F.track("upgrade_onboarding_finish_solo"),window.location="/brand/create/featuredoc"):"team"===a&&(null!=F&&F.track("upgrade_onboarding_finish_team"),window.location="/brand#members")});return b}f.start=function(){var a=this;hG(this).then(function(){a.gn.render().$el.appendTo(document.body);iG(a)})};f.remove=function(){this.stopListening();this.gn.remove();this.$f.forEach(function(a){a.remove()})};
f.ju=function(a){this.$f.forEach(function(b){b!==a&&b.toggle(!1)})};f.rC=function(a){this.ju(a);this.Cv||(this.Cv=!0,jG(a.zc))};f.tC=function(a){function b(){a.toggle(!1);kG(d.gn)}function c(){lG(d)}var d=this,e=this.$f.indexOf(a),g=this.Kq[e];P.delay(g.vd).then(function(){var a=new mG(g);a.Md($(g.Fb));d.listenToOnce(a,"hide",b);d.listenToOnce(a,"remove",c)});nG(this)};function lG(a){a.$f.every(function(a){return oG(a)})?pG(a).then(a.remove.bind(a)):qG(a)}f.uC=function(){qG(this)};
f.sC=function(){kG(this.gn);lG(this)};function qG(a){a.$f.forEach(function(a){oG(a)||a.toggle(!0)})}function nG(a){a.$f.filter(function(a){return!oG(a)}).forEach(function(a,c){a.Gk(2*c+1)})}function iG(a){nG(a);a.$f.forEach(function(a){a.start()})}function hG(a){var b=new rG(a.xz);b.render().show();a.listenToOnce(b,"next",function(){b.remove()});return new P(function(c){a.listenToOnce(b,"remove",function(){null!=F&&F.track("upgrade_onboarding_start_stars");c()})})}
function pG(a){var b,c=new rG(a.$z);c.render().show();a.listenToOnce(c,"next",function(a){b=a;c.remove()});return new P(function(d){a.listenToOnce(c,"remove",function(){a.trigger("finish",b);d()})})};function mG(){}mG=W.extend({className:"starFinderPopOver"});mG.prototype.initialize=function(a){a=_.defaults({},a,{al:0,vf:0,ce:"Keep exploring"});W.prototype.initialize.call(this,a);this.options=a};mG.prototype.Wl=function(){return sG};mG.prototype.render=function(){W.prototype.render.call(this);this.$(".buttonContainer .buttonBlock").removeClass("buttonBlock");this.$(".content").prepend($("\x3cp\x3e").text(this.options.text));return this};
mG.prototype.Si=function(){W.prototype.Si.call(this);var a=this.$(".dialog");a.css("left",parseInt(a.css("left"),10)+this.options.al).css("top",parseInt(a.css("top"),10)+this.options.Nc);return this};function gG(){}gG=Backbone.View.extend({className:"starFinderProgress"});gG.prototype.initialize=function(a){this.oq=a.oq};gG.prototype.render=function(){this.$el.html(this.template());for(var a=0;a<this.oq;a++)this.$(".starFinderProgressList").append(this.Gg());return this};function kG(a){a.$("li:not(.starFinderProgressItemOn)").first().addClass("starFinderProgressItemOn")}gG.prototype.Gg=_.template('\x3cli class\x3d"starFinderProgressItem"\x3e\x26starf;\x3c/li\x3e');gG.prototype.template=_.template('\x3ch2 class\x3d"starFinderProgressTitle"\x3eFind all the stars!\x3c/h2\x3e\x3col class\x3d"starFinderProgressList"\x3e\x3c/ol\x3e');function rG(){}rG=Backbone.View.extend({className:"starFinderSplashScreen"});f=rG.prototype;f.events=function(){return{"click .buttonNext":this.TA}};f.initialize=function(a){this.options=a;this.$b=new dl({style:el});this.ln=a.ln;this.title=a.title};
f.render=function(){var a=$(this.ux());this.$el.html(this.template(this.rc()));this.$(".starFinderAstronautPlaceholder").replaceWith(a);this.options.Ps.forEach(function(a,c){var d=$(this.Ex({text:a}));d.toggleClass("buttonSecondary",0<c);this.$(".starFinderButtonWrapper").append(d)},this);this.options.ir&&this.$el.addClass(this.options.ir);return this};
f.show=function(){function a(a){return new P(function(b){var c=new Hr(a);c.bk.push(b);c.loaded&&Ir(c)})}var b=this,c=a(this.$(".starFinderStarImage img").prop("src")),d=a(this.$(".starFinderAstronaut img").prop("src"));this.$b.show(this.$el);P.all([c,d]).then(function(){b.$(".starFinderStarAndAstronaut").addClass("loaded")})};
f.remove=function(){var a=this;this.$el.addClass("starFinderSplashScreenDisappearing");this.$b.hide();window.setTimeout(function(){a.trigger("remove");Backbone.View.prototype.remove.call(a)},300)};f.rc=function(){return{subtitle:this.options.ln,title:this.options.title}};f.TA=function(a){var b=$(a.target),c;b.hasClass("starFinderSplashScreenButton")?c="splash":b.hasClass("starOnboardingUserSoloButton")?c="solo":b.hasClass("starOnboardingUserTeamButton")&&(c="team");this.trigger("next",c);a.preventDefault()};
f.ux=_.template('\x3cdiv class\x3d"starFinderStarAndAstronaut"\x3e\x3cdiv class\x3d"starFinderStarOuter"\x3e\x3cdiv class\x3d"starFinderStarInner"\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"sparkle"\x3e\x3cspan\x3e\x3c/span\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderStarImage"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/star.png"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderAstronaut"\x3e\x3cimg src\x3d"https://static.canva.com/static/images/onboarding/astronaut.png"\x3e\x3c/div\x3e\x3c/div\x3e');
f.Ex=_.template('\x3cbutton class\x3d"button buttonNext starFinderSplashScreenButton"\x3e\x3c%- text %\x3e\x3c/button\x3e');f.template=_.template('\x3cdiv class\x3d"starFinderBackground"\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderContent"\x3e\x3cdiv class\x3d"starFinderAstronautPlaceholder"\x3e\x3c/div\x3e\x3ch2 class\x3d"starFinderTitle"\x3e\x3c%- title %\x3e\x3c/h2\x3e\x3cp class\x3d"starFinderSubtitle"\x3e\x3c%- subtitle %\x3e\x3c/p\x3e\x3cdiv class\x3d"starFinderButtonWrapper"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"starFinderSpecialInstructions"\x3e\x3ch2\x3eCongratulations!\x3c/h2\x3e\x3cp\x3eNow that you\'ve found all of our new key features,\x3cp\x3e\x3cp\x3ewe have just one more question...\x3c/p\x3e\x3cdiv class\x3d"starFinderSpecialInstructionsUserSelect"\x3e\x3ch3\x3eWho is going to use Canva for Work?\x3c/h3\x3e\x3cul\x3e\x3cli class\x3d"starOnboardingUserSolo"\x3e\x3ca href\x3d"/brand/create/featuredoc" class\x3d"button buttonNext starOnboardingUserSoloButton"\x3eJust me\x3c/a\x3e\x3c/li\x3e\x3cli class\x3d"starOnboardingUserTeam"\x3e\x3ca href\x3d"/brand#members" class\x3d"button buttonNext starOnboardingUserTeamButton"\x3eMe \x26amp; my team\x3c/a\x3e\x3c/li\x3e\x3c/ul\x3e\x3c/div\x3e\x3c/div\x3e');function fG(a){this.active=!1;this.He=0;this.zc=new tG(a[0]);uG(this);this.Vq=0;this.Lk=a;this.be=new tw({attributes:!0,attributeFilter:["class","style"],childList:!0,characterData:!1,subtree:!0});a=_.throttle(this.fB.bind(this),100,{trailing:!1});this.be.on("attrModified",a);this.be.on("subtreeModified",a)}f=fG.prototype;f.on=Backbone.Events.on;f.off=Backbone.Events.off;f.listenTo=Backbone.Events.listenTo;f.listenToOnce=Backbone.Events.listenTo;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;f.start=function(){this.zc.show();this.active=!0};f.remove=function(){this.stopListening();Yy(this.be);this.zc.remove();this.active=!1};function oG(a){return a.He===a.Lk.length}f.Gk=function(a){this.Vq=a;0===this.He&&this.zc.Gk(a)};function uG(a){a.listenTo(a.zc,"advance",a.qC);a.listenTo(a.zc,"die",a.vC)}f.toggle=function(a){oG(this)||(this.active=a,this.zc.toggle(a))};
f.qC=function(){function a(){c.be.observe(document.body)}function b(){c.active?c.trigger("advance",c):c.reset(!0)}if(this.active){var c=this;Yy(this.be);this.He++;this.zc.remove();oG(this)?this.trigger("finish",this):(this.trigger("willAdvance",this),vG(this).then(b).then(a).catch(function(){}))}};f.vC=function(){this.active&&(Yy(this.be),this.zc.remove(),this.toggle(!1),this.He=this.Lk.length,this.trigger("die",this))};
f.fB=function(){var a;if(a=this.active&&0<this.He){var b=wG(this.zc);if(oG(this)||!b.is(":visible"))a=!1;else if(a=this.Lk[this.He].Rh)a=0<$(a).length?!1:!0;else{a=b.get(0);var b=b.offset(),b=document.elementFromPoint(b.left,b.top),c=this.zc.el;a=a===b||c===b||b&&$.contains(a,b)||b&&$.contains(c,b)}a=!a}a&&this.reset()};f.reset=function(a){Yy(this.be);this.He=0;this.zc.remove();vG(this);a||this.trigger("reset",this)};
function vG(a){var b=_.extend({},a.Lk[a.He],{filled:a.He===a.Lk.length-1});a.zc=new tG(b);uG(a);a.Vq&&a.Gk(a.Vq);return a.zc.show()};function tG(){}tG=Backbone.View.extend({className:"starFinderStarContainer starFinderStarHidden starFinderStarInactive"});tG.prototype.events=function(){return{"click .starFinderStar":this.cf}};tG.prototype.initialize=function(a){a=_.defaults({},a,{al:0,vf:0,Nc:0,kt:!1,filled:!1,Mt:!1,fq:!1,position:3,vd:0});this.Vp=!1;this.options=a;this.Im=0;this.Ig=this.Ig.bind(this);this.ek=this.ek.bind(this);this.ki=_.throttle(this.ki.bind(this),100);$(document).on("click",this.ki);$(window).on("resize",this.ki)};
tG.As=1600;tG.Kn=500;f=tG.prototype;f.render=function(){this.$el.toggleClass("starFinderStarInert",this.options.kt);this.$el.toggleClass("starFinderStarFilled",this.options.filled);this.$el.html(this.template({filled:this.options.filled}));return this};
f.Ak=function(){function a(){var a=d.outerWidth();if(-1<[2,0].indexOf(c.options.position))return Math.round(e.left-a+c.options.al);if(-1<[3,1].indexOf(c.options.position))return Math.round(e.left+d.outerWidth()-c.options.vf)}function b(){var a=d.outerHeight();if(-1<[2,3].indexOf(c.options.position))return Math.round(e.top+c.options.Nc);if(-1<[0,1].indexOf(c.options.position))return Math.round(e.top+a/2+c.options.Nc)}var c=this,d=wG(this),e=d.offset();0<d.length&&this.$(".starFinderStar").css("left",
a()).css("top",b())};f.remove=function(){$(document).off("click",this.ki);$(window).off("resize",this.ki);wG(this).off("click",this.Ig).off("mousedown",this.ek);window.clearInterval(this.Im);Backbone.View.prototype.remove.call(this)};
f.show=function(){this.render().$el.appendTo(document.body);if(this.options.Rh&&0<$(this.options.Rh).length)return P.resolve();this.$el.toggleClass("starFinderStarInactive",!1);return P.delay(this.options.vd).then(function(){this.options.Pq&&this.options.Pq();if(0===wG(this).length)return this.trigger("die",this),P.reject();xG(this,!0);this.Ak();if(this.options.fq)wG(this).off("mousedown",this.ek).on("mousedown",this.ek);else wG(this).off("click",this.Ig).on("click",this.Ig);this.options.jg&&0<$(this.options.jg).length&&
this.trigger("advance",this)}.bind(this))};f.Gk=function(a,b){function c(){jG(e)}function d(){jG(e);e.Gk(a,e.Vp)}var e=this,g=0!==this.Im,h=1E3*a;this.Vp=!!b;window.clearInterval(this.Im);this.Im=g?window.setInterval(c,h+(tG.As+(b?2*tG.Kn:0))):window.setTimeout(d,h)};
function jG(a){function b(){d.$el.addClass("starFinderPulsate");return P.delay(tG.As).then(function(){d.$el.removeClass("starFinderPulsate")})}function c(){xG(d,!1);return P.delay(tG.Kn)}var d=a;a.Vp?(xG(d,!0),P.delay(tG.Kn).then(b).then(c)):b()}f.toggle=function(a){this.$el.toggleClass("starFinderStarInactive",!a);xG(this,a);this.options.jg&&0<$(this.options.jg).length&&this.trigger("advance",this)};function wG(a){return $(a.options.Fb)}
function xG(a,b){a.$el.toggleClass("starFinderStarHidden",!b)}f.Ig=function(){this.trigger("advance",this)};f.ek=function(){var a=this;wG(this).one("mouseup",function(){a.Ig()})};f.cf=function(){function a(a){var d=wG(b).offset();a=new jQuery.Event(a);a.clientX=d.left;a.clientY=d.top;return a}var b=this;this.options.Mt?(wG(b).trigger(a("mousedown")).trigger(a("mouseup")),b.options.fq||b.Ig()):wG(this).click()};f.ki=function(){P.delay(300).bind(this).then(this.Ak)};f.template=_.template('\x3cdiv class\x3d"starFinderStar"\x3e\x3c%\x3d filled ? "\x26starf;" : "\x26star;" %\x3e\x3c/div\x3e');function yG(a){this.analytics=a.analytics;this.Pc=a.Pc;this.Ia=a.Ia;this.xc=null;this.fc=a.fc;this.listenTo(this.fc,"input",this.bB);this.Vv=null;this.dn=a.dn;this.Zi=a.Zi||null;this.view=a.view;this.listenTo(this.view,{selectPlan:this.ZE,resize:this.trigger.bind(this,"resize"),retry:this.iC,revert:this.kC,submit:this.xC})}f=yG.prototype;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;f.off=Backbone.Events.off;f.stopListening=Backbone.Events.stopListening;
f.trigger=Backbone.Events.trigger;function zG(a){var b=a.lk.slice(0).sort(function(a,b){return wf(a)-wf(b)}),b=new ZF({Rg:XF(b)});return new AG({compact:a.compact,rk:b,Sd:a.Sd||0<a.lk.length&&a.lk[0].Zt()||30,L:a.L})}f.appendTo=function(a){this.view.render().$el.appendTo(a);this.view.mr();BG(this.view,!1);this.fc.render();this.fc.oc().prependTo(this.view.$(".teamBillingCreditCardContainer"))};f.remove=function(){this.stopListening();this.fc.remove();this.view.remove()};f.Mi=function(a){this.view.Mi(a)};
f.Gt=function(){function a(a){return 404===a}var b=this,c=this.Ia.F();this.Mi(!1);return function(){return b.Zi?P.resolve(b.Zi):Re(b.Pc,c).catch(a,function(){return Pe({})})}().bind(this).then(function(a){a.Gh()&&(this.xc=a.Gh(),this.fc.zi(!0).Wf(this.xc))}).then(function(){this.Mi(!0)}).catch(function(){var a=this.view;a.$el.html(a.zD())})};f.bB=function(a){this.xc&&BG(this.view,a)};f.iC=function(){this.Gt()};f.kC=function(){this.xc&&(this.fc.Wf(this.xc),BG(this.view,!1))};
f.xC=function(){this.Mi(!1);this.view.$(".teamBillingCreditCardSubmit").toggleClass("buttonSpinner",!0);this.fc.Xl().bind(this).then(function(){if(!this.dn){var a=(new xf).zn(this.Ia.F());a.plan=this.Vv.F();return this.Pc.$E(a)}}).then(function(a){var b=this.analytics;b.ga&&b.ga("send","event",{eventCategory:"Subscription",eventAction:"Upgraded"});this.trigger("signup",a)}).catch(Ky,function(a){this.analytics.track("upgrade_onboarding_card_error",{message:a.message});this.view.Dr(a.message)}).catch(function(){this.view.Dr("An error occured while trying to subscribe")}).finally(function(){this.Mi(!0)});
this.analytics.track("upgrade_onboarding_card_submit")};f.ZE=function(a){this.Vv=a};function AG(){}AG=Backbone.View.extend({className:"teamBillingSignup"});f=AG.prototype;f.events=function(){return{"click .teamBillingCreditCardRevert":this.trigger.bind(this,"revert"),"click .teamBillingCreditCardSubmit":this.trigger.bind(this,"submit"),"click .teamBillingRetryButton":this.trigger.bind(this,"retry")}};f.initialize=function(a){this.compact=a.compact;this.rk=a.rk;this.listenTo(this.rk,"selectPlan",this.trigger.bind(this,"selectPlan"));this.Hm=new YF({items:dG(yb(a.L))});this.Sd=a.Sd};
f.render=function(){this.$el.html(this.template({compact:this.compact,trialPeriodDays:this.Sd,trialPeriodInfoItemsHtml:bG({trialEndDate:moment().add(this.Sd,"days").format("MMMM Do, YYYY")})}));this.compact||this.Hm.render().$el.appendTo(this.$(".teamBillingPromoItems"));this.rk.render().$el.appendTo(this.$(".teamBillingPriceOptions"));return this};f.mr=function(){this.rk.mr()};f.Dr=function(a){alert(a)};
function BG(a,b){var c=a.$(".teamBillingCreditCardRevert");b?c.show():c.hide();a.trigger("resize")}f.Mi=function(a){this.$el.toggleClass("enabled",a)};f.template=_.template('\x3cdiv class\x3d"teamBillingOptionsContainer"\x3e\x3cdiv class\x3d"teamBillingOptions"\x3e\x3cdiv class\x3d"teamBillingInformation"\x3e\x3ch2\x3eClaim your \x3cstrong\x3e\x3c%- trialPeriodDays %\x3e day free trial\x3c/strong\x3e\x3cbr\x3eof Canva for Work\x3c/h2\x3e\x3c%\x3d trialPeriodInfoItemsHtml %\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingPriceOptions"\x3e\x3c/div\x3e\x3cdiv class\x3d"teamBillingForm"\x3e\x3cdiv class\x3d"teamBillingCreditCardContainer"\x3e\x3cbutton class\x3d"button buttonBlock teamBillingCreditCardSubmit"\x3e\x3cspan class\x3d"spinner"\x3e\x3c/span\x3eStart my free trial\x3c/button\x3e\x3cbutton class\x3d"button buttonBlock buttonPlain teamBillingCreditCardRevert"\x3eRevert to your existing card\x3c/button\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3cp class\x3d"teamBillingSecurityMessage"\x3eYour payments are 128-bit SSL encrypted, which means they\x26rsquo;re 100% safe with us.\x3c/p\x3e\x3c/div\x3e\x3c% if (!compact) { %\x3e\x3cdiv class\x3d"teamBillingPromoItems"\x3e\x3ch4\x3eHere is what you get...\x3c/h4\x3e\x3c/div\x3e\x3c% } %\x3e');
f.zD=_.template('\x3cp class\x3d"teamBillingRetry"\x3eWe had trouble fetching your billing information\x3cbr/\x3e\x3cbutton class\x3d"button teamBillingRetryButton"\x3eTry again\x3c/button\x3e\x3c/p\x3e');function CG(){}CG=Backbone.View.extend({className:"promotion"});CG.prototype.initialize=function(a){this.lu=new YF({items:a.Hm});this.pi=a.pi||"";this.Dd=a.Dd||""};CG.prototype.events=function(){return{"touchClick .promoActions button":this.trigger.bind(this,"next")}};CG.prototype.render=function(){this.$el.html(this.template({promoHeaderHtml:this.pi,buttonText:this.Dd}));this.lu.render().$el.appendTo(this.$(".promoContent"));return this};CG.prototype.template=_.template('\x3c% if (promoHeaderHtml) { %\x3e\x3cdiv class\x3d"promoHeader"\x3e\x3c%\x3d promoHeaderHtml %\x3e\x3c/div\x3e\x3c% } %\x3e\x3cdiv class\x3d"promoBody"\x3e\x3cdiv class\x3d"promoContent"\x3e\x3c/div\x3e\x3c% if (buttonText) { %\x3e\x3cdiv class\x3d"promoActions"\x3e\x3cbutton class\x3d"button"\x3e\x3c%- buttonText %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c/div\x3e');function DG(){}DG=Backbone.View.extend({className:"promotionVideo promotion"});DG.prototype.initialize=function(a){this.Gw=a.Gw;this.lu=new YF({items:a.Hm});this.pi=a.pi||"";this.Dd=a.Dd||""};DG.prototype.events=function(){return{"touchClick .promoActions button":this.trigger.bind(this,"next")}};DG.prototype.render=function(){this.$el.html(this.template({promoHeaderHtml:this.pi,buttonText:this.Dd,videoId:this.Gw}));return this};DG.prototype.template=_.template('\x3c% if (promoHeaderHtml) { %\x3e\x3cdiv class\x3d"promoHeader"\x3e\x3c%\x3d promoHeaderHtml %\x3e\x3c/div\x3e\x3c% } %\x3e\x3cdiv class\x3d"promoBody"\x3e\x3cdiv class\x3d"promoContent"\x3e\x3ciframe class\x3d"promoVideo" type\x3d"text/html" width\x3d"650" height\x3d"369" src\x3d"https://www.youtube.com/embed/\x3c%- videoId %\x3e?autoplay\x3d1\x26modestbranding\x3d1\x26controls\x3d2\x26rel\x3d0\x26loop\x3d1" frameborder\x3d"0" allowfullscreen\x3d"false"/\x3e\x3c/div\x3e\x3c% if (buttonText) { %\x3e\x3cdiv class\x3d"promoActions"\x3e\x3cbutton class\x3d"button"\x3e\x3c%- buttonText %\x3e\x3c/button\x3e\x3c% } %\x3e\x3c/div\x3e');function IE(a){this.Hx=new wF({jd:a.jd,Ia:a.Ia.F(),sc:a.sc,qj:!0});this.Jk=new yG({analytics:a.analytics,Zi:a.Zi,Pc:a.jd,Ia:a.Ia,fc:this.Hx,dn:a.dn,view:zG({compact:!0,lk:a.lk,Sd:a.Sd,L:a.L})});this.Gb=null;this.Sd=a.Sd||0;this.wf=void 0===a.wf||a.wf;this.nl=void 0===a.nl||a.nl;this.analytics=a.analytics;this.fz=_.once(this.Jk.Gt).bind(this.Jk);this.Jk.once("signup",this.pC.bind(this));this.L=a.L}f=IE.prototype;f.listenTo=Backbone.Events.listenTo;f.on=Backbone.Events.on;f.once=Backbone.Events.once;
f.off=Backbone.Events.off;f.stopListening=Backbone.Events.stopListening;f.trigger=Backbone.Events.trigger;f.remove=function(){this.Gb&&this.Gb.remove()};f.show=function(){EG(this,[])};function KE(a){var b=[],c=yb(a.L);b.push(new CG({Dd:FG(a),pi:aG(c),Hm:dG(c)}));EG(a,b)}
function EG(a,b){var c=new Backbone.View({className:"upgradeDialogSignup"});b.push(c);a.Gb=new jl({gp:["upgradeDialog"],wf:a.wf,O:b});a.Gb.on("hide",function(){a.Gb.remove();a.Gb=null;a.Jk.remove();a.trigger("hide")});a.fz();a.Gb.show();a.analytics&&a.analytics.track("upgrade_dialog_loaded");a.Jk.appendTo(c.$el);c.$el.append(a.kD())}function FG(a){var b=yb(a.L);return 0===a.Sd?b.format("canvaForWorkUpgradeGetCanvaForWork"):b.format("canvaForWorkUpgradeStartYourTrial",a.Sd)}
f.pC=function(){this.nl&&this.Gb&&this.Gb.remove();this.trigger("signup")};f.kD=_.template('\x3cdiv class\x3d"upgradeDialogQuotes"\x3e\x3cblockquote\x3e\x26ldquo;Canva for Work has been incredibly useful for us \x26mdash; no extensive design training required. It\x26rsquo;s saved us loads of time, and our graphics look great!\x26rdquo;\x3ccite\x3eMegan Kelley, Upworthy\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e\x26ldquo;Canva for Work has been a game changer for me and my team. We are creating more visual content, more efficiently with a rockin\x26rsquo; workflow!\x26rdquo;\x3ccite\x3eDonna Moritz, Socially Sorted\x3c/cite\x3e\x3c/blockquote\x3e\x3cblockquote\x3e\x26ldquo;Canva for Work is genius! It\x26rsquo; simple and easy to use, which is perfect for non-designers like me!\x26rdquo;\x3ccite\x3eTravis Bernard, TechCrunch\x3c/cite\x3e\x3c/blockquote\x3e\x3c/div\x3e');function GG(){}function qd(a){return Object.freeze(D(GG,a))}function Pu(a){if(a.magic)return Object.freeze(D(HG,a.magic))}function HG(){}HG.prototype.Tl=function(){return this.color};HG.prototype.sb=function(){return this.thumbnail};function St(a){this.ao={};this.Ki=null;this.url=a}function WA(a,b){var c,d;Array.prototype.forEach.call(a.Ki.querySelectorAll(".magicLayoutBrandColor"),function(a){a.setAttribute("fill",b)});c=new Blob([a.Ki.innerHTML],{type:"image/svg+xml"});d=URL.createObjectURL(c);a.ao[d]=c;return d}
St.prototype.load=function(){var a=this;return this.Ki?P.resolve():function(){var b=$.get(a.url);return P.resolve(b).then(function(){return b.responseXML.childNodes[0]})}().then(function(a){var c=document.createElement("div");c.appendChild(a);return c}).then(function(b){a.Ki=b}).return()};function NA(a,b,c){function d(){return b.map(function(b){return NA(a,b,c)})}function e(){return Object.keys(b).reduce(function(a,d){a[d]=NA(d,b[d],c);return a},{})}return Array.isArray(b)?d():"object"===typeof b&&null!==b?e():a&&-1<a.toLowerCase().indexOf("color")&&"string"===typeof b?c[b]||b:b};function OA(a,b){_.each(a,function(a){"object"===typeof a&&null!==a&&OA(a,b)});"mediaId"in a&&"mediaVersion"in a&&(a.origin=b)};function IG(a,b){this.RC=(this.Ks="PUBLIC"!==a)?a:"*";this.CE=b}IG.prototype.init=function(a){window.addEventListener("message",function(b){b=b.data;b.isCanvaApi&&(a[b.type]||$.noop)(b)},!1);this.sendMessage({type:"Init",authenticated:this.Ks})};IG.prototype.sendMessage=function(a){a.isCanvaApi=!0;this.CE.postMessage(a,this.RC)};function JG(a){function b(a){a.preventDefault();q?(p.sendMessage({type:"PublishRequested",designId:u.ya(),untouched:g()}),h()):(M(),e())}var c=wa,d=ya;function e(){var a=!1,b=new cl({ij:!1,content:$('\x3cdiv class\x3d"progress"\x3e\x3cspan class\x3d"progressValue autoIncrement"\x3e\x3cspan class\x3d"text"\x3e5%\x3c/span\x3e\x3cspan class\x3d"inner"\x3e\x3c/span\x3e\x3c/span\x3e\x3c/div\x3e'),Di:!1,cn:!1,title:"Saving your design..."});!q&&u.ne()&&(b.show(),a=!0);Ll(2E4).then(function(){a&&b.remove();
p.sendMessage({type:"Close",designId:u.ya(),untouched:g()})},function(){var c=new cl({title:"Saving failed",content:$('\x3cp\x3eSorry, but we had some trouble saving your design. You may still be in the middle of uploading some images, someone else might be editing your design at the moment, or our servers might be having issues. Please try again.\x3c/p\x3e\x3cp class\x3d"buttonContainer"\x3e\x3cbutton class\x3d"button done"\x3eOk\x3c/button\x3e\x3c/p\x3e')});a&&b.remove();c.show()})}function g(){return 1===
u.vb()&&t.isEmpty()}function h(){$(document.body).addClass("modalContentVisible modalContentBlurAndDarkenVisible")}function k(){$(document.body).removeClass("modalContentVisible modalContentBlurAndDarkenVisible")}function l(a){return new P(function(b){var c=Array.isArray(a)&&a||null,c=wo(c)||[],c=Bt(ua,c);dt(c,b)})}function m(){return EE(a,{yb:a,xa:wa,analytics:F,document:t,ka:u,Rb:Ha,Ff:ra,L:ya})}function n(){var a=new ID({pt:t.ja.A(),mt:t.ja.B(),Dq:t.Yl(),L:d});a.Av=!0;a.tD=!0;var b=new vF({model:a.sd()});
b.listener=function(){var b=a.sd().exportUrl,c=a.sd().thumbnailUrl;p.sendMessage({type:"Published",designId:u.ya(),exportUrl:b,thumbnailUrl:c,untouched:g()});a.remove()};a.O.Bt=b;b={outputType:"PNG",mediaDpi:96};r&&(b.outputType="PDF");JD(a,b);KD(a,a.O.Kl);a.show();LD(a)}var p=new IG(window.CANVA_EMBED.embedDomain,window.parent),r=!1,q=!0;p.init({setDoneButtonText:function(a){var b=$(".editorActionExport");0!==b.length&&b.text(a.text)},blur:h,close:e,focus:k,publish:function(){try{n()}catch(a){k()}},
loadDocumentFromJson:function(b){var e;try{e=JSON.parse(b.text)}catch(g){return}var h="object"===typeof e&&e||{},k=new Ur(window.location),n=new lk(va);l(h.media).then(function(){(new Xh(k,n,c,d)).go(h,a,null,m,null);!0===b.killInterface&&(Gl=!0,$("#objectPanel").css("display","none"),$("#editorControls").css("display","none"),$("#canvaDocument").css("left","0"))})},setExportEnabled:function(a){q=!!a.enabled},setMultipagePdf:function(a){a.enabled?r=!0:(ZD.Jy(),Cz.Hy())},setStaticTitle:function(a){Dz.YD(a.title)},
upload:function(a){au.call($("#objectPanel .uploads a"),d);var b=ob(d);ut(new Wc("button",b,function(a){var b=I(t).A(),d=I(t).B(),g=c,h=e,k=g/h;d<h&&(h=d,g*=k);b<g&&(g=b,h*=k);a=Cc({type:"image",isBackground:!1,isRecolorable:!1,mediaId:a.F(),mediaVersion:a.da().S(),isCutout:!1,width:g,height:h});I(t).addElement(a,!0);p.sendMessage({type:"Upload",status:"done"})}),a.dataUri);var c=a.width,e=a.height}});u?p.sendMessage({type:"Editor",designId:u.ya()}):p.sendMessage({type:"Editor"});$(".homeLink").click(function(a){a.preventDefault();
e()});$("#editorLogo").click(function(a){window.open("https://www.canva.com/about");a.preventDefault();a.stopPropagation();return!1});Dz.Iy();Dz.Ky();$("#documentMenuUpgrade").remove();FE.EXPORT=function(){var a=new Backbone.View({tagName:"button",className:"button editorActionExport",events:{touchClick:b}});a.$el.text("Publish");return a}};$(function(a,b){function c(){t&&u?(u.bi(t.serialize()),setInterval(function(){t&&u&&uj(u,t.serialize())&&t.trigger("change")},3E5)):setTimeout(c,15E3)}function d(){return EE(h,{yb:h,xa:wa,analytics:F,document:t,ka:u,Rb:Ha,Ff:ra,L:ya})}function e(a){var b=Fk(a);return b&&(a=pm(xa,Hk(b)||""))?{fontFamily:a.family,fontSize:b.Oh(),bold:b.Pe(),italic:b.Se()}:null}function g(a){return function(b){return b.getName()===a}}var h=new nd(b||window.viewConfig),k=bl(al(Yk())),l=new NE({Ka:k,Tr:!0});l.inject();
$("body").toggleClass("isBranded",OE(l)).toggleClass("isLightTheme",QE(l)).toggleClass("highDpi",Xa);if(!window.cmsg)throw Error("window['cmsg'] isn't defined");ya=new nb;wa=ac();Vu&&(jQuery.event.props.push("touches"),jQuery.event.props.push("changedTouches"),$("html").addClass("touch"));KG();var m=window.csrfTokens;va=l=ge();l=ye(xe(new ne(l)));ve(l,"init-start");yc=new Op(va,window.facebookConfig);yc.init(function(){$("#objectPanel .content .buttonFacebook").prop("disabled",!1)});zc=new bq({po:window.googleConfig.clientId,
Qm:["https://www.googleapis.com/auth/drive.readonly"],ji:!1});zc.load().then(function(){$("#objectPanel .content .buttonGoogleDrive").prop("disabled",!1)});F=Me();pa=new Ki(va);ra=new Pj(va);qa=new Ne(va);Ha=new Kr;sa=new Bl(va);ma=new bt(window.mediaMap,sa);na=new bt(window.fontMediaMap,sa);ua=new At(va,sa,Ha,ma,new Jt);ta=new lk(va);var n=Yk();Va=window.localStorage?new ih(window.localStorage,n.user.F()):new ih;xa=new dr(ar,sa,window.WebFont,na);wa.Ma.get(xc)&&fr();window.scrollTo(0,0);var p=function(){var a=
bl(al(Yk()));return(a=a&&zk(a))&&a[0]?Ck(a[0])||[]:[]}(),r={};yr(xa,p,function(){var a=LG(p);wa.Ma.get(pc)&&0<a.length&&(xa.Tq=a,r={title:p.filter(g("title")).map(e)[0],subtitle:p.filter(g("subtitle")).map(e)[0],body:p.filter(g("body")).map(e)[0]},Object.keys(r).forEach(function(a){r[a]||delete r[a]}))});wa.Ma.get(qc)&&(gb=["#000000","#ffffff"]);var q=window.csession;if(n=window.cdoc){(new Xh(new Ur(window.location,Gh()),ta,wa,ya)).go(n,h,k,d,l);window.history.replaceState("",document.title,window.location.pathname+
window.location.search);var v=Wv(q,n);setTimeout(c,15E3);var w=n.id,x=Date.now(),k=window.CANVA_EMBED,y=m.session,m=!(!navigator||!navigator.sendBeacon),z=new Ml({R:va,Aq:x,md:w,ka:v,Wo:k,Sr:ua,$n:m,To:y});$(window).resize(yl).on("beforeunload",z.BD.bind(z));if(!k&&m){var G=location.protocol+"//"+location.hostname+(location.port?":"+location.port:"");$(window).on("unload",function(){var a=JSON.stringify({docId:w,session:q,durationSecs:Math.floor((Date.now()-x)/1E3)+"",docMetrics:{sync:v.Pr.serialize()},
csrfToken:y});navigator.sendBeacon(G+"/session/editor/"+encodeURIComponent(w)+"?close",a)})}}yl();window.CANVA_EMBED&&JG(h);new gh($("#canvaDocument"));F&&n&&Ge(n.id,n.designType);ve(l,"init-end")});function LG(a){return a.sort(function(a){for(var c={},d=0;d<a.length;d++)c[a[d]]=d;return function(a,b){var d=a.getName(),k=b.getName();return c[d]-c[k]||d.localeCompare(k)}}(["title","subtitle","body"])).map(function(a){var c;Fk(a)&&(c=Hk(Fk(a)));return pm(xa,c||"")}).filter(Boolean)}
function KG(){$(document).on("mouseover","a",function(){"#"==$(this).attr("href")&&$(this).removeAttr("href")})}function xl(){function a(a){a.stopPropagation();a.preventDefault();a=nn($(a.currentTarget).data("canvaElement"));db.test(a)?window.open(a):MG(a)}t.fa().filter(function(a){a=nn(a);return ab.test(a)||eb.test(a)||db.test(a)}).forEach(function(b){b.C().on("mousedown",a).on("touchstart",a).attr("data-has-onboarding-link","true")})}
function MG(a){function b(){d.addClass("disappearing").delay(500,function(){$(this).remove()});$("body").removeClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").addClass("off").delay(500,function(){$(this).removeClass("on off white")});$("body \x3e .mask").off("touchClick");$("#videoLightboxClose").remove()}var c={"video-tut2-tip1":"Yy9P90W987c","video-tut2-tip2":"ALLmXFaYzbo","video-tut2-tip3":"JziV33Lgq8c","video-tut2-tip4":"XTTtTbVdjU0"},d;if("#"===a.charAt(0)){a=
a.substring(1);if(!c.hasOwnProperty(a))return;c=c[a]}else if(eb.test(a))c=a.match(eb)[1];else return;$("body").addClass("modalContentVisible modalContentBlurAndDarkenVisible");$("body \x3e .mask").addClass("white").forceLayout().addClass("on").on("touchClick",b);d=$('\x3cdiv id\x3d"videoLightbox" class\x3d"dialog"\x3e\x3c/div\x3e');d.append('\x3ciframe width\x3d"640" height\x3d"480" src\x3d"//www.youtube.com/embed/'+c+"?"+$.param({rel:0,autoplay:1,modestbranding:1,fs:0,showinfo:0})+'" frameborder\x3d"0"\x3e\x3c/iframe\x3e').append('\x3ca id\x3d"videoLightboxClose" title\x3d"Close" alt\x3d"Close"\x3eClose\x3c/a\x3e').appendTo("body").addClass("playing");
$("#videoLightboxClose").on("touchClick",b)};function NG(){}NG=W.extend({className:"editorHintPopOver"});NG.prototype.initialize=function(a){_.extend(a,{ce:"Show me!"});W.prototype.initialize.call(this,a)};function Dl(a,b,c,d){this.xa=a;this.analytics=b;this.profiles=c;this.media=d;this.ku={UploadImages:this.mE.bind(this)}}
Dl.prototype.mE=function(){return new P(function(a,b){function c(c,e){if(200===c&&e&&0>=e.total){var k=new NG({position:"left",title:"Upload your own photos",content:"Use photos in your designs by uploading from your computer or from Facebook."}),l=$(".uploads a");k.on("hide",function(a){2===a&&l.click()});k.Md(l);d.analytics.Qk("experiment_hints_upload_image_shown");a()}else b()}if(this.xa.Ma.get(nc)){var d=this,e=gr(hr((new ir).eg(!0).sf(!1).kh(),!0),[Ic,Kc]).Wk(0,0);kr(this.media,e,c)}else b()}.bind(this))};
function Cl(a){function b(){function a(){ok(d.profiles,"Hint::"+h)}function g(){b()}if(!(0>=c.length)){var h=c.pop();d.ku[h]().then(a).catch(g)}}var c,d=a;nk(a.profiles).then(function(a){c=_.filter(_.keys(d.ku),function(b){return!a["Hint::"+b]},this);b()})};$(function(){function a(){zE(function(){var a=Yk(),g=al(a).ea(),a=a.user;zE.identify({name:c(a),email:a.Ot(),externalId:a.F(),organization:d(g)||void 0});$(".helpMenuButton").click(b)})}function b(){zE&&zE.activate({hideOnClose:!0});return!zE}function c(a){var b=a.Mb();a=a.Hj();return b?b:a}function d(a){var b=a.Mb();a=a.brandname;return b?b:a}!ac().Ma.get(wc)||window.brandPageConfig&&window.brandPageConfig.brandOnboardingSettings||a()});$(document).on("wheel",".dd-options",function(a){var b=a.originalEvent&&a.originalEvent.deltaY,c=a.currentTarget,d=0>b&&0===c.scrollTop,b=0<b&&Math.ceil(c.scrollTop+c.getBoundingClientRect().height)===c.scrollHeight;(d||b)&&a.preventDefault()});function dl(a){this.element=$(this.template());this.element.addClass(OG(a.style));this.element.on("click",".modalContentMask",function(a){this.trigger("maskClick",a)}.bind(this));this.style=a.style}f=dl.prototype;f.off=Backbone.Events.off;f.on=Backbone.Events.on;f.trigger=Backbone.Events.trigger;function PG(a){return["modalContentVisible",OG(a)+"Visible"].join(" ")}
function OG(a){switch(a){case el:return"modalContentBlurAndDarken";case ml:return"modalContentDarken";case sG:return"modalContentClear";case mE:return"modalContentNone";default:throw Error();}}f.hide=function(){$("body").removeClass(PG(this.style));this.element.removeClass("modalContentOn");setTimeout(function(){this.element.detach()}.bind(this),300)};
f.show=function(a){this.element.children(":not(.modalContentMask)").remove();this.element.append(a).appendTo("body");setTimeout(function(){$("body").addClass(PG(this.style));this.element.addClass("modalContentOn")}.bind(this),20)};f.template=_.template('\x3cdiv class\x3d"modalContent"\x3e\x3cdiv class\x3d"modalContentMask"\x3e\x3c/div\x3e\x3c/div\x3e');var el="BLUR_AND_DARKEN",ml="DARKEN",sG="CLEAR",mE="NONE";})();
